!function(){"use strict";var e={n:function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,{a:a}),a},d:function(t,a){for(var r in a)e.o(a,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:a[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{registerDiviDebugModals:function(){return g}});var a=window.vendor.wp.hooks,r=window.vendor.wp.i18n,i=window.divi.data,o=window.vendor.React,n=e.n(o),d=window.divi.errorBoundary,l=window.divi.modal,s=window.divi.window,m=window.lodash;const u=({value:e})=>{let t=e;"boolean"==typeof e&&(t=e?"true":"false");const a=`${t} (${typeof e})`;return n().createElement("code",{className:"et-vb-divi-debug-store-state-modal-property-value"},a)},c=({name:e,value:t,path:a,setActiveStatePath:i,defaultExpandState:d})=>{const[l,c]=(0,o.useState)(!1);(0,o.useEffect)((()=>{d!==l&&c(d)}),[d]);const v=!(0,m.isEmpty)(t)&&"object"==typeof t,p=[...a,e],E="object"==typeof t?n().createElement("a",{href:`#${e}`,onClick:e=>{e.preventDefault(),i(p)}},e):e;return n().createElement("li",null,E,v&&n().createElement("button",{type:"button",onClick:s.handleOnClickFallback,className:"et-vb-divi-debug-store-state-modal-property-item-toggle-button",onMouseDown:()=>{c(!l)}},l?(0,r.__)("Collapse","et_builder"):(0,r.__)("Expand","et_builder")),v?l?n().createElement(b,{values:t,path:p,setActiveStatePath:i,defaultExpandState:d}):null:n().createElement(u,{value:t}))},b=({values:e,path:t,setActiveStatePath:a,defaultExpandState:r})=>n().createElement("ul",{className:"et-vb-divi-debug-store-state-modal-property"},(0,m.keys)(e).map((i=>{const o=e[i];return n().createElement(c,{name:i,value:o,key:i,path:t,setActiveStatePath:a,defaultExpandState:r})}))),v=({state:e,activeStatePath:t,setActiveStatePath:a})=>{const[i,d]=(0,o.useState)(!1);return n().createElement("div",{className:"et-vb-debug-store-state-modal-wrapper"},n().createElement("div",{className:"et-vb-debug-store-state-modal-breadcrumb"},n().createElement("button",{className:"et-vb-debug-store-state-modal-breadcrumb-item et-vb-debug-store-state-modal-breadcrumb-item-parent",type:"button",onClick:s.handleOnClickFallback,onMouseDown:e=>{e.preventDefault(),a([])}},(0,r.__)("All","et_builder")),t.map(((e,r)=>{const i=t.slice(0,r+1);return t.length===r+1?n().createElement(o.Fragment,{key:`et-vb-debug-sore-state-modal-bredcrumb-item--${e}`},n().createElement("span",{className:"et-vb-debug-store-state-modal-breadcrumb-item-separator"},">"),n().createElement("span",{className:"et-vb-debug-store-state-modal-breadcrumb-item et-vb-debug-store-state-modal-breadcrumb-item-current"},e)):n().createElement(o.Fragment,{key:`et-vb-debug-sore-state-modal-bredcrumb-item--${e}`},n().createElement("span",{className:"et-vb-debug-store-state-modal-breadcrumb-item-separator"},">"),n().createElement("button",{className:"et-vb-debug-store-state-modal-breadcrumb-item et-vb-debug-store-state-modal-breadcrumb-item-parent",type:"button",onClick:s.handleOnClickFallback,onMouseDown:e=>{e.preventDefault(),a(i)}},e))}))),n().createElement("div",{className:"et-vb-debug-state-modal-store-state-toggle-controls"},n().createElement("button",{type:"button",onClick:s.handleOnClickFallback,onMouseDown:()=>{d(!i)}},i?(0,r.__)("Collapse All","et_builder"):(0,r.__)("Expand All","et_builder"))),n().createElement(b,{values:e,path:t??[],setActiveStatePath:a,defaultExpandState:i}))},p=({storeName:e})=>{const[t,a]=(0,o.useState)([]),{state:r}=(0,i.useSelect)((a=>({state:a(e).debugState({path:t})})));return n().createElement(v,{state:r,activeStatePath:t,setActiveStatePath:a})},E=({name:e="divi/store-state",tab:t="divi/app-ui"})=>n().createElement(d.ErrorBoundary,{key:"et-vb-divi-modals--store-state",componentName:"et-vb-divi-modals--store-state"},n().createElement(l.WrapperContainer,{draggable:!0,resizable:!0,expandable:!0,snappable:!0,modalName:e,modalActiveTab:t||"divi/app-ui",multiPanels:!1},n().createElement(l.Header,{name:(0,r.__)("Store States","et_builder")}),n().createElement(l.BodyPanelWrapperContainer,null,n().createElement(l.PanelContainer,{id:"divi/app-ui",label:(0,r.__)("divi/app-ui","et_builder")},n().createElement(d.ErrorBoundary,{key:"et-vb-divi-modals--store-state--divi-app-ui",componentName:"et-vb-divi-modals--store-state--divi-app-ui"},n().createElement(p,{storeName:"divi/app-ui"}))),n().createElement(l.PanelContainer,{id:"divi/edit-post",label:(0,r.__)("divi/edit-post","et_builder")},n().createElement(d.ErrorBoundary,{key:"et-vb-divi-modals--store-state--divi-edit-post",componentName:"et-vb-divi-modals--store-state--divi-edit-post"},n().createElement(p,{storeName:"divi/edit-post"}))),n().createElement(l.PanelContainer,{id:"divi/rest",label:(0,r.__)("divi/rest","et_builder")},n().createElement(d.ErrorBoundary,{key:"et-vb-divi-modals--store-state--divi-rest",componentName:"et-vb-divi-modals--store-state--divi-rest"},n().createElement(p,{storeName:"divi/rest"}))),n().createElement(l.PanelContainer,{id:"divi/settings",label:(0,r.__)("divi/settings","et_builder")},n().createElement(d.ErrorBoundary,{key:"et-vb-divi-modals--store-state--divi-settings",componentName:"et-vb-divi-modals--store-state--divi-settings"},n().createElement(p,{storeName:"divi/settings"})))))),g=()=>{(0,i.dispatch)("divi/modal-library").addModal({name:"divi/store-state",label:(0,r.__)("Store State","et_builder"),type:"multiInstanceModal",component:E,sidebarPosition:"left"}),window?.DiviDevFlags?.debug?.storeStateModalOnAppLoad&&((0,i.dispatch)("divi/modal-library").open({name:"divi/store-state"}),(0,i.dispatch)("divi/app-ui").setElementProperty({elementName:"sidebarLeft",propertyGroup:"dimension",propertyName:"width",value:600}))};window?.DiviDevFlags?.debug?.storeStateModal&&(0,a.addAction)("divi.visualBuilder.registerStores.after","debugModals",g),(window.divi=window.divi||{}).debug=t}();