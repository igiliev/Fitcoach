/*! For license information please see modal-library.js.LICENSE.txt */
!function(){var e={620:function(e){"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function o(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),a.prototype.eventNames=function(){var e,n,o=[];if(0===this._eventsCount)return o;for(n in e=this._events)t.call(e,n)&&o.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},a.prototype.listeners=function(e,t){var n=r?r+e:e,o=this._events[n];if(t)return!!o;if(!o)return[];if(o.fn)return[o.fn];for(var a=0,i=o.length,l=new Array(i);a<i;a++)l[a]=o[a].fn;return l},a.prototype.emit=function(e,t,n,o,a,i){var l=r?r+e:e;if(!this._events[l])return!1;var s,c,d=this._events[l],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,n),!0;case 4:return d.fn.call(d.context,t,n,o),!0;case 5:return d.fn.call(d.context,t,n,o,a),!0;case 6:return d.fn.call(d.context,t,n,o,a,i),!0}for(c=1,s=new Array(u-1);c<u;c++)s[c-1]=arguments[c];d.fn.apply(d.context,s)}else{var p,m=d.length;for(c=0;c<m;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),u){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,n);break;case 4:d[c].fn.call(d[c].context,t,n,o);break;default:if(!s)for(p=1,s=new Array(u-1);p<u;p++)s[p-1]=arguments[p];d[c].fn.apply(d[c].context,s)}}return!0},a.prototype.on=function(e,t,n){var a=new o(t,n||this),i=r?r+e:e;return this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],a]:this._events[i].push(a):(this._events[i]=a,this._eventsCount++),this},a.prototype.once=function(e,t,n){var a=new o(t,n||this,!0),i=r?r+e:e;return this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],a]:this._events[i].push(a):(this._events[i]=a,this._eventsCount++),this},a.prototype.removeListener=function(e,t,o,a){var i=r?r+e:e;if(!this._events[i])return this;if(!t)return 0==--this._eventsCount?this._events=new n:delete this._events[i],this;var l=this._events[i];if(l.fn)l.fn!==t||a&&!l.once||o&&l.context!==o||(0==--this._eventsCount?this._events=new n:delete this._events[i]);else{for(var s=0,c=[],d=l.length;s<d;s++)(l[s].fn!==t||a&&!l[s].once||o&&l[s].context!==o)&&c.push(l[s]);c.length?this._events[i]=1===c.length?c[0]:c:0==--this._eventsCount?this._events=new n:delete this._events[i]}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&(0==--this._eventsCount?this._events=new n:delete this._events[t])):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=r,a.EventEmitter=a,e.exports=a},86636:function(e,t,r){e.exports=function e(t,r,n){function o(i,l){if(!r[i]){if(!t[i]){if(a)return a(i,!0);var s=new Error("Cannot find module '"+i+"'");throw s.code="MODULE_NOT_FOUND",s}var c=r[i]={exports:{}};t[i][0].call(c.exports,(function(e){var r=t[i][1][e];return o(r||e)}),c,c.exports,e,t,r,n)}return r[i].exports}for(var a=void 0,i=0;i<n.length;i++)o(n[i]);return o}({1:[function(e,t,n){(function(e){"use strict";var r,n,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var a=0,i=new o(d),l=e.document.createTextNode("");i.observe(l,{characterData:!0}),r=function(){l.data=a=++a%2}}else if(e.setImmediate||void 0===e.MessageChannel)r="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){d(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(d,0)};else{var s=new e.MessageChannel;s.port1.onmessage=d,r=function(){s.port2.postMessage(0)}}var c=[];function d(){var e,t;n=!0;for(var r=c.length;r;){for(t=c,c=[],e=-1;++e<r;)t[e]();r=c.length}n=!1}function u(e){1!==c.push(e)||n||r()}t.exports=u}).call(this,void 0!==r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,r){"use strict";var n=e(1);function o(){}var a={},i=["REJECTED"],l=["FULFILLED"],s=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=s,this.queue=[],this.outcome=void 0,e!==o&&m(this,e)}function d(e,t,r){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function u(e,t,r){n((function(){var n;try{n=t(r)}catch(t){return a.reject(e,t)}n===e?a.reject(e,new TypeError("Cannot resolve promise with itself")):a.resolve(e,n)}))}function p(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function m(e,t){var r=!1;function n(t){r||(r=!0,a.reject(e,t))}function o(t){r||(r=!0,a.resolve(e,t))}function i(){t(o,n)}var l=f(i);"error"===l.status&&n(l.value)}function f(e,t){var r={};try{r.value=e(t),r.status="success"}catch(e){r.status="error",r.value=e}return r}function g(e){return e instanceof this?e:a.resolve(new this(o),e)}function v(e){var t=new this(o);return a.reject(t,e)}function h(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,n=!1;if(!r)return this.resolve([]);for(var i=new Array(r),l=0,s=-1,c=new this(o);++s<r;)d(e[s],s);return c;function d(e,o){function s(e){i[o]=e,++l!==r||n||(n=!0,a.resolve(c,i))}t.resolve(e).then(s,(function(e){n||(n=!0,a.reject(c,e))}))}}function b(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,n=!1;if(!r)return this.resolve([]);for(var i=-1,l=new this(o);++i<r;)s(e[i]);return l;function s(e){t.resolve(e).then((function(e){n||(n=!0,a.resolve(l,e))}),(function(e){n||(n=!0,a.reject(l,e))}))}}t.exports=c,c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===l||"function"!=typeof t&&this.state===i)return this;var r=new this.constructor(o);return this.state!==s?u(r,this.state===l?e:t,this.outcome):this.queue.push(new d(r,e,t)),r},d.prototype.callFulfilled=function(e){a.resolve(this.promise,e)},d.prototype.otherCallFulfilled=function(e){u(this.promise,this.onFulfilled,e)},d.prototype.callRejected=function(e){a.reject(this.promise,e)},d.prototype.otherCallRejected=function(e){u(this.promise,this.onRejected,e)},a.resolve=function(e,t){var r=f(p,t);if("error"===r.status)return a.reject(e,r.value);var n=r.value;if(n)m(e,n);else{e.state=l,e.outcome=t;for(var o=-1,i=e.queue.length;++o<i;)e.queue[o].callFulfilled(t)}return e},a.reject=function(e,t){e.state=i,e.outcome=t;for(var r=-1,n=e.queue.length;++r<n;)e.queue[r].callRejected(t);return e},c.resolve=g,c.reject=v,c.all=h,c.race=b},{1:1}],3:[function(e,t,n){(function(t){"use strict";"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}var i=a();function l(){try{if(!i||!i.open)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}function s(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(o){if("TypeError"!==o.name)throw o;for(var r=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),n=0;n<e.length;n+=1)r.append(e[n]);return r.getBlob(t.type)}}"undefined"==typeof Promise&&e(3);var c=Promise;function d(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function u(e,t,r){"function"==typeof t&&e.then(t),"function"==typeof r&&e.catch(r)}function p(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function m(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var f="local-forage-detect-blob-support",g=void 0,v={},h=Object.prototype.toString,b="readonly",y="readwrite";function E(e){for(var t=e.length,r=new ArrayBuffer(t),n=new Uint8Array(r),o=0;o<t;o++)n[o]=e.charCodeAt(o);return r}function w(e){return new c((function(t){var r=e.transaction(f,y),n=s([""]);r.objectStore(f).put(n,"key"),r.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},r.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),r=navigator.userAgent.match(/Edge\//);t(r||!e||parseInt(e[1],10)>=43)}})).catch((function(){return!1}))}function _(e){return"boolean"==typeof g?c.resolve(g):w(e).then((function(e){return g=e}))}function C(e){var t=v[e.name],r={};r.promise=new c((function(e,t){r.resolve=e,r.reject=t})),t.deferredOperations.push(r),t.dbReady?t.dbReady=t.dbReady.then((function(){return r.promise})):t.dbReady=r.promise}function S(e){var t=v[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function k(e,t){var r=v[e.name].deferredOperations.pop();if(r)return r.reject(t),r.promise}function x(e,t){return new c((function(r,n){if(v[e.name]=v[e.name]||L(),e.db){if(!t)return r(e.db);C(e),e.db.close()}var o=[e.name];t&&o.push(e.version);var a=i.open.apply(i,o);t&&(a.onupgradeneeded=function(t){var r=a.result;try{r.createObjectStore(e.storeName),t.oldVersion<=1&&r.createObjectStore(f)}catch(r){if("ConstraintError"!==r.name)throw r;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),a.onerror=function(e){e.preventDefault(),n(a.error)},a.onsuccess=function(){var t=a.result;t.onversionchange=function(e){e.target.close()},r(t),S(e)}}))}function M(e){return x(e,!1)}function I(e){return x(e,!0)}function A(e,t){if(!e.db)return!0;var r=!e.db.objectStoreNames.contains(e.storeName),n=e.version<e.db.version,o=e.version>e.db.version;if(n&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),o||r){if(r){var a=e.db.version+1;a>e.version&&(e.version=a)}return!0}return!1}function N(e){return new c((function(t,r){var n=new FileReader;n.onerror=r,n.onloadend=function(r){var n=btoa(r.target.result||"");t({__local_forage_encoded_blob:!0,data:n,type:e.type})},n.readAsBinaryString(e)}))}function O(e){return s([E(atob(e.data))],{type:e.type})}function T(e){return e&&e.__local_forage_encoded_blob}function D(e){var t=this,r=t._initReady().then((function(){var e=v[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return u(r,e,e),r}function F(e){C(e);for(var t=v[e.name],r=t.forages,n=0;n<r.length;n++){var o=r[n];o._dbInfo.db&&(o._dbInfo.db.close(),o._dbInfo.db=null)}return e.db=null,M(e).then((function(t){return e.db=t,A(e)?I(e):t})).then((function(n){e.db=t.db=n;for(var o=0;o<r.length;o++)r[o]._dbInfo.db=n})).catch((function(t){throw k(e,t),t}))}function P(e,t,r,n){void 0===n&&(n=1);try{var o=e.db.transaction(e.storeName,t);r(null,o)}catch(o){if(n>0&&(!e.db||"InvalidStateError"===o.name||"NotFoundError"===o.name))return c.resolve().then((function(){if(!e.db||"NotFoundError"===o.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),I(e)})).then((function(){return F(e).then((function(){P(e,t,r,n-1)}))})).catch(r);r(o)}}function L(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function R(e){var t=this,r={db:null};if(e)for(var n in e)r[n]=e[n];var o=v[r.name];o||(o=L(),v[r.name]=o),o.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=D);var a=[];function i(){return c.resolve()}for(var l=0;l<o.forages.length;l++){var s=o.forages[l];s!==t&&a.push(s._initReady().catch(i))}var d=o.forages.slice(0);return c.all(a).then((function(){return r.db=o.db,M(r)})).then((function(e){return r.db=e,A(r,t._defaultConfig.version)?I(r):e})).then((function(e){r.db=o.db=e,t._dbInfo=r;for(var n=0;n<d.length;n++){var a=d[n];a!==t&&(a._dbInfo.db=r.db,a._dbInfo.version=r.version)}}))}function V(e,t){var r=this;e=p(e);var n=new c((function(t,n){r.ready().then((function(){P(r._dbInfo,b,(function(o,a){if(o)return n(o);try{var i=a.objectStore(r._dbInfo.storeName).get(e);i.onsuccess=function(){var e=i.result;void 0===e&&(e=null),T(e)&&(e=O(e)),t(e)},i.onerror=function(){n(i.error)}}catch(e){n(e)}}))})).catch(n)}));return d(n,t),n}function B(e,t){var r=this,n=new c((function(t,n){r.ready().then((function(){P(r._dbInfo,b,(function(o,a){if(o)return n(o);try{var i=a.objectStore(r._dbInfo.storeName).openCursor(),l=1;i.onsuccess=function(){var r=i.result;if(r){var n=r.value;T(n)&&(n=O(n));var o=e(n,r.key,l++);void 0!==o?t(o):r.continue()}else t()},i.onerror=function(){n(i.error)}}catch(e){n(e)}}))})).catch(n)}));return d(n,t),n}function j(e,t,r){var n=this;e=p(e);var o=new c((function(r,o){var a;n.ready().then((function(){return a=n._dbInfo,"[object Blob]"===h.call(t)?_(a.db).then((function(e){return e?t:N(t)})):t})).then((function(t){P(n._dbInfo,y,(function(a,i){if(a)return o(a);try{var l=i.objectStore(n._dbInfo.storeName);null===t&&(t=void 0);var s=l.put(t,e);i.oncomplete=function(){void 0===t&&(t=null),r(t)},i.onabort=i.onerror=function(){var e=s.error?s.error:s.transaction.error;o(e)}}catch(e){o(e)}}))})).catch(o)}));return d(o,r),o}function q(e,t){var r=this;e=p(e);var n=new c((function(t,n){r.ready().then((function(){P(r._dbInfo,y,(function(o,a){if(o)return n(o);try{var i=a.objectStore(r._dbInfo.storeName).delete(e);a.oncomplete=function(){t()},a.onerror=function(){n(i.error)},a.onabort=function(){var e=i.error?i.error:i.transaction.error;n(e)}}catch(e){n(e)}}))})).catch(n)}));return d(n,t),n}function W(e){var t=this,r=new c((function(e,r){t.ready().then((function(){P(t._dbInfo,y,(function(n,o){if(n)return r(n);try{var a=o.objectStore(t._dbInfo.storeName).clear();o.oncomplete=function(){e()},o.onabort=o.onerror=function(){var e=a.error?a.error:a.transaction.error;r(e)}}catch(e){r(e)}}))})).catch(r)}));return d(r,e),r}function U(e){var t=this,r=new c((function(e,r){t.ready().then((function(){P(t._dbInfo,b,(function(n,o){if(n)return r(n);try{var a=o.objectStore(t._dbInfo.storeName).count();a.onsuccess=function(){e(a.result)},a.onerror=function(){r(a.error)}}catch(e){r(e)}}))})).catch(r)}));return d(r,e),r}function H(e,t){var r=this,n=new c((function(t,n){e<0?t(null):r.ready().then((function(){P(r._dbInfo,b,(function(o,a){if(o)return n(o);try{var i=a.objectStore(r._dbInfo.storeName),l=!1,s=i.openKeyCursor();s.onsuccess=function(){var r=s.result;r?0===e||l?t(r.key):(l=!0,r.advance(e)):t(null)},s.onerror=function(){n(s.error)}}catch(e){n(e)}}))})).catch(n)}));return d(n,t),n}function z(e){var t=this,r=new c((function(e,r){t.ready().then((function(){P(t._dbInfo,b,(function(n,o){if(n)return r(n);try{var a=o.objectStore(t._dbInfo.storeName).openKeyCursor(),i=[];a.onsuccess=function(){var t=a.result;t?(i.push(t.key),t.continue()):e(i)},a.onerror=function(){r(a.error)}}catch(e){r(e)}}))})).catch(r)}));return d(r,e),r}function G(e,t){t=m.apply(this,arguments);var r=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||r.name,e.storeName=e.storeName||r.storeName);var n,o=this;if(e.name){var a=e.name===r.name&&o._dbInfo.db?c.resolve(o._dbInfo.db):M(e).then((function(t){var r=v[e.name],n=r.forages;r.db=t;for(var o=0;o<n.length;o++)n[o]._dbInfo.db=t;return t}));n=e.storeName?a.then((function(t){if(t.objectStoreNames.contains(e.storeName)){var r=t.version+1;C(e);var n=v[e.name],o=n.forages;t.close();for(var a=0;a<o.length;a++){var l=o[a];l._dbInfo.db=null,l._dbInfo.version=r}var s=new c((function(t,n){var o=i.open(e.name,r);o.onerror=function(e){o.result.close(),n(e)},o.onupgradeneeded=function(){o.result.deleteObjectStore(e.storeName)},o.onsuccess=function(){var e=o.result;e.close(),t(e)}}));return s.then((function(e){n.db=e;for(var t=0;t<o.length;t++){var r=o[t];r._dbInfo.db=e,S(r._dbInfo)}})).catch((function(t){throw(k(e,t)||c.resolve()).catch((function(){})),t}))}})):a.then((function(t){C(e);var r=v[e.name],n=r.forages;t.close();for(var o=0;o<n.length;o++)n[o]._dbInfo.db=null;var a=new c((function(t,r){var n=i.deleteDatabase(e.name);n.onerror=function(){var e=n.result;e&&e.close(),r(n.error)},n.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},n.onsuccess=function(){var e=n.result;e&&e.close(),t(e)}}));return a.then((function(e){r.db=e;for(var t=0;t<n.length;t++)S(n[t]._dbInfo)})).catch((function(t){throw(k(e,t)||c.resolve()).catch((function(){})),t}))}))}else n=c.reject("Invalid arguments");return d(n,t),n}var $={_driver:"asyncStorage",_initStorage:R,_support:l(),iterate:B,getItem:V,setItem:j,removeItem:q,clear:W,length:U,key:H,keys:z,dropInstance:G};function K(){return"function"==typeof openDatabase}var Z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Y="~~local_forage_type~",J=/^~~local_forage_type~([^~]+)~/,X="__lfsc__:",Q=X.length,ee="arbf",te="blob",re="si08",ne="ui08",oe="uic8",ae="si16",ie="si32",le="ur16",se="ui32",ce="fl32",de="fl64",ue=Q+ee.length,pe=Object.prototype.toString;function me(e){var t,r,n,o,a,i=.75*e.length,l=e.length,s=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);var c=new ArrayBuffer(i),d=new Uint8Array(c);for(t=0;t<l;t+=4)r=Z.indexOf(e[t]),n=Z.indexOf(e[t+1]),o=Z.indexOf(e[t+2]),a=Z.indexOf(e[t+3]),d[s++]=r<<2|n>>4,d[s++]=(15&n)<<4|o>>2,d[s++]=(3&o)<<6|63&a;return c}function fe(e){var t,r=new Uint8Array(e),n="";for(t=0;t<r.length;t+=3)n+=Z[r[t]>>2],n+=Z[(3&r[t])<<4|r[t+1]>>4],n+=Z[(15&r[t+1])<<2|r[t+2]>>6],n+=Z[63&r[t+2]];return r.length%3==2?n=n.substring(0,n.length-1)+"=":r.length%3==1&&(n=n.substring(0,n.length-2)+"=="),n}function ge(e,t){var r="";if(e&&(r=pe.call(e)),e&&("[object ArrayBuffer]"===r||e.buffer&&"[object ArrayBuffer]"===pe.call(e.buffer))){var n,o=X;e instanceof ArrayBuffer?(n=e,o+=ee):(n=e.buffer,"[object Int8Array]"===r?o+=re:"[object Uint8Array]"===r?o+=ne:"[object Uint8ClampedArray]"===r?o+=oe:"[object Int16Array]"===r?o+=ae:"[object Uint16Array]"===r?o+=le:"[object Int32Array]"===r?o+=ie:"[object Uint32Array]"===r?o+=se:"[object Float32Array]"===r?o+=ce:"[object Float64Array]"===r?o+=de:t(new Error("Failed to get type for BinaryArray"))),t(o+fe(n))}else if("[object Blob]"===r){var a=new FileReader;a.onload=function(){var r=Y+e.type+"~"+fe(this.result);t(X+te+r)},a.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(r){console.error("Couldn't convert value into a JSON string: ",e),t(null,r)}}function ve(e){if(e.substring(0,Q)!==X)return JSON.parse(e);var t,r=e.substring(ue),n=e.substring(Q,ue);if(n===te&&J.test(r)){var o=r.match(J);t=o[1],r=r.substring(o[0].length)}var a=me(r);switch(n){case ee:return a;case te:return s([a],{type:t});case re:return new Int8Array(a);case ne:return new Uint8Array(a);case oe:return new Uint8ClampedArray(a);case ae:return new Int16Array(a);case le:return new Uint16Array(a);case ie:return new Int32Array(a);case se:return new Uint32Array(a);case ce:return new Float32Array(a);case de:return new Float64Array(a);default:throw new Error("Unkown type: "+n)}}var he={serialize:ge,deserialize:ve,stringToBuffer:me,bufferToString:fe};function be(e,t,r,n){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],r,n)}function ye(e){var t=this,r={db:null};if(e)for(var n in e)r[n]="string"!=typeof e[n]?e[n].toString():e[n];var o=new c((function(e,n){try{r.db=openDatabase(r.name,String(r.version),r.description,r.size)}catch(e){return n(e)}r.db.transaction((function(o){be(o,r,(function(){t._dbInfo=r,e()}),(function(e,t){n(t)}))}),n)}));return r.serializer=he,o}function Ee(e,t,r,n,o,a){e.executeSql(r,n,o,(function(e,i){i.code===i.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,l){l.rows.length?a(e,i):be(e,t,(function(){e.executeSql(r,n,o,a)}),a)}),a):a(e,i)}),a)}function we(e,t){var r=this;e=p(e);var n=new c((function(t,n){r.ready().then((function(){var o=r._dbInfo;o.db.transaction((function(r){Ee(r,o,"SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[e],(function(e,r){var n=r.rows.length?r.rows.item(0).value:null;n&&(n=o.serializer.deserialize(n)),t(n)}),(function(e,t){n(t)}))}))})).catch(n)}));return d(n,t),n}function _e(e,t){var r=this,n=new c((function(t,n){r.ready().then((function(){var o=r._dbInfo;o.db.transaction((function(r){Ee(r,o,"SELECT * FROM "+o.storeName,[],(function(r,n){for(var a=n.rows,i=a.length,l=0;l<i;l++){var s=a.item(l),c=s.value;if(c&&(c=o.serializer.deserialize(c)),void 0!==(c=e(c,s.key,l+1)))return void t(c)}t()}),(function(e,t){n(t)}))}))})).catch(n)}));return d(n,t),n}function Ce(e,t,r,n){var o=this;e=p(e);var a=new c((function(a,i){o.ready().then((function(){void 0===t&&(t=null);var l=t,s=o._dbInfo;s.serializer.serialize(t,(function(t,c){c?i(c):s.db.transaction((function(r){Ee(r,s,"INSERT OR REPLACE INTO "+s.storeName+" (key, value) VALUES (?, ?)",[e,t],(function(){a(l)}),(function(e,t){i(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(n>0)return void a(Ce.apply(o,[e,l,r,n-1]));i(t)}}))}))})).catch(i)}));return d(a,r),a}function Se(e,t,r){return Ce.apply(this,[e,t,r,1])}function ke(e,t){var r=this;e=p(e);var n=new c((function(t,n){r.ready().then((function(){var o=r._dbInfo;o.db.transaction((function(r){Ee(r,o,"DELETE FROM "+o.storeName+" WHERE key = ?",[e],(function(){t()}),(function(e,t){n(t)}))}))})).catch(n)}));return d(n,t),n}function xe(e){var t=this,r=new c((function(e,r){t.ready().then((function(){var n=t._dbInfo;n.db.transaction((function(t){Ee(t,n,"DELETE FROM "+n.storeName,[],(function(){e()}),(function(e,t){r(t)}))}))})).catch(r)}));return d(r,e),r}function Me(e){var t=this,r=new c((function(e,r){t.ready().then((function(){var n=t._dbInfo;n.db.transaction((function(t){Ee(t,n,"SELECT COUNT(key) as c FROM "+n.storeName,[],(function(t,r){var n=r.rows.item(0).c;e(n)}),(function(e,t){r(t)}))}))})).catch(r)}));return d(r,e),r}function Ie(e,t){var r=this,n=new c((function(t,n){r.ready().then((function(){var o=r._dbInfo;o.db.transaction((function(r){Ee(r,o,"SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[e+1],(function(e,r){var n=r.rows.length?r.rows.item(0).key:null;t(n)}),(function(e,t){n(t)}))}))})).catch(n)}));return d(n,t),n}function Ae(e){var t=this,r=new c((function(e,r){t.ready().then((function(){var n=t._dbInfo;n.db.transaction((function(t){Ee(t,n,"SELECT key FROM "+n.storeName,[],(function(t,r){for(var n=[],o=0;o<r.rows.length;o++)n.push(r.rows.item(o).key);e(n)}),(function(e,t){r(t)}))}))})).catch(r)}));return d(r,e),r}function Ne(e){return new c((function(t,r){e.transaction((function(n){n.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(r,n){for(var o=[],a=0;a<n.rows.length;a++)o.push(n.rows.item(a).name);t({db:e,storeNames:o})}),(function(e,t){r(t)}))}),(function(e){r(e)}))}))}function Oe(e,t){t=m.apply(this,arguments);var r=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||r.name,e.storeName=e.storeName||r.storeName);var n,o=this;return d(n=e.name?new c((function(t){var n;n=e.name===r.name?o._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:n,storeNames:[e.storeName]}):t(Ne(n))})).then((function(e){return new c((function(t,r){e.db.transaction((function(n){function o(e){return new c((function(t,r){n.executeSql("DROP TABLE IF EXISTS "+e,[],(function(){t()}),(function(e,t){r(t)}))}))}for(var a=[],i=0,l=e.storeNames.length;i<l;i++)a.push(o(e.storeNames[i]));c.all(a).then((function(){t()})).catch((function(e){r(e)}))}),(function(e){r(e)}))}))})):c.reject("Invalid arguments"),t),n}var Te={_driver:"webSQLStorage",_initStorage:ye,_support:K(),iterate:_e,getItem:we,setItem:Se,removeItem:ke,clear:xe,length:Me,key:Ie,keys:Ae,dropInstance:Oe};function De(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}function Fe(e,t){var r=e.name+"/";return e.storeName!==t.storeName&&(r+=e.storeName+"/"),r}function Pe(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(e){return!0}}function Le(){return!Pe()||localStorage.length>0}function Re(e){var t=this,r={};if(e)for(var n in e)r[n]=e[n];return r.keyPrefix=Fe(e,t._defaultConfig),Le()?(t._dbInfo=r,r.serializer=he,c.resolve()):c.reject()}function Ve(e){var t=this,r=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,r=localStorage.length-1;r>=0;r--){var n=localStorage.key(r);0===n.indexOf(e)&&localStorage.removeItem(n)}}));return d(r,e),r}function Be(e,t){var r=this;e=p(e);var n=r.ready().then((function(){var t=r._dbInfo,n=localStorage.getItem(t.keyPrefix+e);return n&&(n=t.serializer.deserialize(n)),n}));return d(n,t),n}function je(e,t){var r=this,n=r.ready().then((function(){for(var t=r._dbInfo,n=t.keyPrefix,o=n.length,a=localStorage.length,i=1,l=0;l<a;l++){var s=localStorage.key(l);if(0===s.indexOf(n)){var c=localStorage.getItem(s);if(c&&(c=t.serializer.deserialize(c)),void 0!==(c=e(c,s.substring(o),i++)))return c}}}));return d(n,t),n}function qe(e,t){var r=this,n=r.ready().then((function(){var t,n=r._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(n.keyPrefix.length)),t}));return d(n,t),n}function We(e){var t=this,r=t.ready().then((function(){for(var e=t._dbInfo,r=localStorage.length,n=[],o=0;o<r;o++){var a=localStorage.key(o);0===a.indexOf(e.keyPrefix)&&n.push(a.substring(e.keyPrefix.length))}return n}));return d(r,e),r}function Ue(e){var t=this.keys().then((function(e){return e.length}));return d(t,e),t}function He(e,t){var r=this;e=p(e);var n=r.ready().then((function(){var t=r._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));return d(n,t),n}function ze(e,t,r){var n=this;e=p(e);var o=n.ready().then((function(){void 0===t&&(t=null);var r=t;return new c((function(o,a){var i=n._dbInfo;i.serializer.serialize(t,(function(t,n){if(n)a(n);else try{localStorage.setItem(i.keyPrefix+e,t),o(r)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||a(e),a(e)}}))}))}));return d(o,r),o}function Ge(e,t){if(t=m.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var r=this.config();e.name=e.name||r.name,e.storeName=e.storeName||r.storeName}var n,o=this;return n=e.name?new c((function(t){e.storeName?t(Fe(e,o._defaultConfig)):t(e.name+"/")})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var r=localStorage.key(t);0===r.indexOf(e)&&localStorage.removeItem(r)}})):c.reject("Invalid arguments"),d(n,t),n}var $e={_driver:"localStorageWrapper",_initStorage:Re,_support:De(),iterate:je,getItem:Be,setItem:ze,removeItem:He,clear:Ve,length:Ue,key:qe,keys:We,dropInstance:Ge},Ke=function(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)},Ze=function(e,t){for(var r=e.length,n=0;n<r;){if(Ke(e[n],t))return!0;n++}return!1},Ye=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Je={},Xe={},Qe={INDEXEDDB:$,WEBSQL:Te,LOCALSTORAGE:$e},et=[Qe.INDEXEDDB._driver,Qe.WEBSQL._driver,Qe.LOCALSTORAGE._driver],tt=["dropInstance"],rt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(tt),nt={description:"",driver:et.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function ot(e,t){e[t]=function(){var r=arguments;return e.ready().then((function(){return e[t].apply(e,r)}))}}function at(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var r in t)t.hasOwnProperty(r)&&(Ye(t[r])?arguments[0][r]=t[r].slice():arguments[0][r]=t[r])}return arguments[0]}var it=function(){function e(t){for(var r in o(this,e),Qe)if(Qe.hasOwnProperty(r)){var n=Qe[r],a=n._driver;this[r]=a,Je[a]||this.defineDriver(n)}this._defaultConfig=at({},nt),this._config=at({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":n(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,r){var n=new c((function(t,r){try{var n=e._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void r(o);for(var a=rt.concat("_initStorage"),i=0,l=a.length;i<l;i++){var s=a[i];if((!Ze(tt,s)||e[s])&&"function"!=typeof e[s])return void r(o)}var u=function(){for(var t=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),r=c.reject(t);return d(r,arguments[arguments.length-1]),r}},r=0,n=tt.length;r<n;r++){var o=tt[r];e[o]||(e[o]=t(o))}};u();var p=function(r){Je[n]&&console.info("Redefining LocalForage driver: "+n),Je[n]=e,Xe[n]=r,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(p,r):p(!!e._support):p(!0)}catch(e){r(e)}}));return u(n,t,r),n},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,r){var n=Je[e]?c.resolve(Je[e]):c.reject(new Error("Driver not found."));return u(n,t,r),n},e.prototype.getSerializer=function(e){var t=c.resolve(he);return u(t,e),t},e.prototype.ready=function(e){var t=this,r=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return u(r,e,e),r},e.prototype.setDriver=function(e,t,r){var n=this;Ye(e)||(e=[e]);var o=this._getSupportedDrivers(e);function a(){n._config.driver=n.driver()}function i(e){return n._extend(e),a(),n._ready=n._initStorage(n._config),n._ready}function l(e){return function(){var t=0;function r(){for(;t<e.length;){var o=e[t];return t++,n._dbInfo=null,n._ready=null,n.getDriver(o).then(i).catch(r)}a();var l=new Error("No available storage method found.");return n._driverSet=c.reject(l),n._driverSet}return r()}}var s=null!==this._driverSet?this._driverSet.catch((function(){return c.resolve()})):c.resolve();return this._driverSet=s.then((function(){var e=o[0];return n._dbInfo=null,n._ready=null,n.getDriver(e).then((function(e){n._driver=e._driver,a(),n._wrapLibraryMethodsWithReady(),n._initDriver=l(o)}))})).catch((function(){a();var e=new Error("No available storage method found.");return n._driverSet=c.reject(e),n._driverSet})),u(this._driverSet,t,r),this._driverSet},e.prototype.supports=function(e){return!!Xe[e]},e.prototype._extend=function(e){at(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],r=0,n=e.length;r<n;r++){var o=e[r];this.supports(o)&&t.push(o)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=rt.length;e<t;e++)ot(this,rt[e])},e.prototype.createInstance=function(t){return new e(t)},e}(),lt=new it;t.exports=lt},{3:3}]},{},[4])(4)},93063:function(e,t){var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)){if(r.length){var i=o.apply(null,r);i&&e.push(i)}}else if("object"===a)if(r.toString===Object.prototype.toString)for(var l in r)n.call(r,l)&&r[l]&&e.push(l);else e.push(r.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},32975:function(e,t,r){var n=r(3231)(r(50787),"DataView");e.exports=n},38389:function(e,t,r){var n=r(37865),o=r(73855),a=r(8611),i=r(19375),l=r(21978);function s(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=o,s.prototype.get=a,s.prototype.has=i,s.prototype.set=l,e.exports=s},70046:function(e,t,r){var n=r(15859),o=r(51466),a=r(51154),i=r(32296),l=r(82746);function s(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=o,s.prototype.get=a,s.prototype.has=i,s.prototype.set=l,e.exports=s},56390:function(e,t,r){var n=r(3231)(r(50787),"Map");e.exports=n},9216:function(e,t,r){var n=r(75526),o=r(55522),a=r(3766),i=r(49783),l=r(26234);function s(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=o,s.prototype.get=a,s.prototype.has=i,s.prototype.set=l,e.exports=s},80298:function(e,t,r){var n=r(3231)(r(50787),"Promise");e.exports=n},73666:function(e,t,r){var n=r(3231)(r(50787),"Set");e.exports=n},21504:function(e,t,r){var n=r(50787).Symbol;e.exports=n},34719:function(e,t,r){var n=r(3231)(r(50787),"WeakMap");e.exports=n},89461:function(e){e.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},72550:function(e,t,r){var n=r(67003),o=r(20353),a=r(62131),i=r(6950),l=r(8861),s=r(71752),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=a(e),d=!r&&o(e),u=!r&&!d&&i(e),p=!r&&!d&&!u&&s(e),m=r||d||u||p,f=m?n(e.length,String):[],g=f.length;for(var v in e)!t&&!c.call(e,v)||m&&("length"==v||u&&("offset"==v||"parent"==v)||p&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||l(v,g))||f.push(v);return f}},80268:function(e){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}},2743:function(e,t,r){var n=r(59284),o=r(23104),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){var i=e[t];a.call(e,t)&&o(i,r)&&(void 0!==r||t in e)||n(e,t,r)}},33156:function(e,t,r){var n=r(23104);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},59284:function(e,t,r){var n=r(78422);e.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},53439:function(e,t,r){var n=r(51214),o=r(2217);e.exports=function(e,t){for(var r=0,a=(t=n(t,e)).length;null!=e&&r<a;)e=e[o(t[r++])];return r&&r==a?e:void 0}},85179:function(e,t,r){var n=r(21504),o=r(51946),a=r(18353),i=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?o(e):a(e)}},31280:function(e){var t=Object.prototype.hasOwnProperty;e.exports=function(e,r){return null!=e&&t.call(e,r)}},81402:function(e,t,r){var n=r(85179),o=r(83217);e.exports=function(e){return o(e)&&"[object Arguments]"==n(e)}},88299:function(e,t,r){var n=r(56117),o=r(15987),a=r(34256),i=r(25105),l=/^\[object .+?Constructor\]$/,s=Function.prototype,c=Object.prototype,d=s.toString,u=c.hasOwnProperty,p=RegExp("^"+d.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||o(e))&&(n(e)?p:l).test(i(e))}},33505:function(e,t,r){var n=r(85179),o=r(5244),a=r(83217),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&o(e.length)&&!!i[n(e)]}},5775:function(e,t,r){var n=r(63893),o=r(24295),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return o(e);var t=[];for(var r in Object(e))a.call(e,r)&&"constructor"!=r&&t.push(r);return t}},14783:function(e,t,r){var n=r(73589),o=r(33964),a=r(68098);e.exports=function(e,t){return a(o(e,t,n),e+"")}},93668:function(e,t,r){var n=r(89658),o=r(78422),a=r(73589),i=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:a;e.exports=i},67003:function(e){e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},1784:function(e,t,r){var n=r(21504),o=r(80268),a=r(62131),i=r(14613),l=n?n.prototype:void 0,s=l?l.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return o(t,e)+"";if(i(t))return s?s.call(t):"";var r=t+"";return"0"==r&&1/t==-Infinity?"-0":r}},1982:function(e){e.exports=function(e){return function(t){return e(t)}}},51214:function(e,t,r){var n=r(62131),o=r(47740),a=r(74875),i=r(84118);e.exports=function(e,t){return n(e)?e:o(e,t)?[e]:a(i(e))}},47796:function(e,t,r){var n=r(2743),o=r(59284);e.exports=function(e,t,r,a){var i=!r;r||(r={});for(var l=-1,s=t.length;++l<s;){var c=t[l],d=a?a(r[c],e[c],c,r,e):void 0;void 0===d&&(d=e[c]),i?o(r,c,d):n(r,c,d)}return r}},18878:function(e,t,r){var n=r(50787)["__core-js_shared__"];e.exports=n},3194:function(e,t,r){var n=r(14783),o=r(70965);e.exports=function(e){return n((function(t,r){var n=-1,a=r.length,i=a>1?r[a-1]:void 0,l=a>2?r[2]:void 0;for(i=e.length>3&&"function"==typeof i?(a--,i):void 0,l&&o(r[0],r[1],l)&&(i=a<3?void 0:i,a=1),t=Object(t);++n<a;){var s=r[n];s&&e(t,s,n,i)}return t}))}},78422:function(e,t,r){var n=r(3231),o=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},56650:function(e,t,r){var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},23750:function(e,t,r){var n=r(42628);e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},3231:function(e,t,r){var n=r(88299),o=r(54647);e.exports=function(e,t){var r=o(e,t);return n(r)?r:void 0}},51946:function(e,t,r){var n=r(21504),o=Object.prototype,a=o.hasOwnProperty,i=o.toString,l=n?n.toStringTag:void 0;e.exports=function(e){var t=a.call(e,l),r=e[l];try{e[l]=void 0;var n=!0}catch(e){}var o=i.call(e);return n&&(t?e[l]=r:delete e[l]),o}},78796:function(e,t,r){var n=r(32975),o=r(56390),a=r(80298),i=r(73666),l=r(34719),s=r(85179),c=r(25105),d="[object Map]",u="[object Promise]",p="[object Set]",m="[object WeakMap]",f="[object DataView]",g=c(n),v=c(o),h=c(a),b=c(i),y=c(l),E=s;(n&&E(new n(new ArrayBuffer(1)))!=f||o&&E(new o)!=d||a&&E(a.resolve())!=u||i&&E(new i)!=p||l&&E(new l)!=m)&&(E=function(e){var t=s(e),r="[object Object]"==t?e.constructor:void 0,n=r?c(r):"";if(n)switch(n){case g:return f;case v:return d;case h:return u;case b:return p;case y:return m}return t}),e.exports=E},54647:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},7654:function(e,t,r){var n=r(51214),o=r(20353),a=r(62131),i=r(8861),l=r(5244),s=r(2217);e.exports=function(e,t,r){for(var c=-1,d=(t=n(t,e)).length,u=!1;++c<d;){var p=s(t[c]);if(!(u=null!=e&&r(e,p)))break;e=e[p]}return u||++c!=d?u:!!(d=null==e?0:e.length)&&l(d)&&i(p,d)&&(a(e)||o(e))}},37865:function(e,t,r){var n=r(74517);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},73855:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},8611:function(e,t,r){var n=r(74517),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return o.call(t,e)?t[e]:void 0}},19375:function(e,t,r){var n=r(74517),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:o.call(t,e)}},21978:function(e,t,r){var n=r(74517);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},8861:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,r){var n=typeof e;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&t.test(e))&&e>-1&&e%1==0&&e<r}},70965:function(e,t,r){var n=r(23104),o=r(36935),a=r(8861),i=r(34256);e.exports=function(e,t,r){if(!i(r))return!1;var l=typeof t;return!!("number"==l?o(r)&&a(t,r.length):"string"==l&&t in r)&&n(r[t],e)}},47740:function(e,t,r){var n=r(62131),o=r(14613),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!o(e))||(i.test(e)||!a.test(e)||null!=t&&e in Object(t))}},42628:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},15987:function(e,t,r){var n,o=r(18878),a=(n=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!a&&a in e}},63893:function(e){var t=Object.prototype;e.exports=function(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||t)}},15859:function(e){e.exports=function(){this.__data__=[],this.size=0}},51466:function(e,t,r){var n=r(33156),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0)&&(r==t.length-1?t.pop():o.call(t,r,1),--this.size,!0)}},51154:function(e,t,r){var n=r(33156);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},32296:function(e,t,r){var n=r(33156);e.exports=function(e){return n(this.__data__,e)>-1}},82746:function(e,t,r){var n=r(33156);e.exports=function(e,t){var r=this.__data__,o=n(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this}},75526:function(e,t,r){var n=r(38389),o=r(70046),a=r(56390);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(a||o),string:new n}}},55522:function(e,t,r){var n=r(23750);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},3766:function(e,t,r){var n=r(23750);e.exports=function(e){return n(this,e).get(e)}},49783:function(e,t,r){var n=r(23750);e.exports=function(e){return n(this,e).has(e)}},26234:function(e,t,r){var n=r(23750);e.exports=function(e,t){var r=n(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this}},93206:function(e,t,r){var n=r(88433);e.exports=function(e){var t=n(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}},74517:function(e,t,r){var n=r(3231)(Object,"create");e.exports=n},24295:function(e,t,r){var n=r(77822)(Object.keys,Object);e.exports=n},40354:function(e,t,r){e=r.nmd(e);var n=r(56650),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,i=a&&a.exports===o&&n.process,l=function(){try{var e=a&&a.require&&a.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=l},18353:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},77822:function(e){e.exports=function(e,t){return function(r){return e(t(r))}}},33964:function(e,t,r){var n=r(89461),o=Math.max;e.exports=function(e,t,r){return t=o(void 0===t?e.length-1:t,0),function(){for(var a=arguments,i=-1,l=o(a.length-t,0),s=Array(l);++i<l;)s[i]=a[t+i];i=-1;for(var c=Array(t+1);++i<t;)c[i]=a[i];return c[t]=r(s),n(e,this,c)}}},50787:function(e,t,r){var n=r(56650),o="object"==typeof self&&self&&self.Object===Object&&self,a=n||o||Function("return this")();e.exports=a},68098:function(e,t,r){var n=r(93668),o=r(63150)(n);e.exports=o},63150:function(e){var t=Date.now;e.exports=function(e){var r=0,n=0;return function(){var o=t(),a=16-(o-n);if(n=o,a>0){if(++r>=800)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}},74875:function(e,t,r){var n=r(93206),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,i=n((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,r,n,o){t.push(n?o.replace(a,"$1"):r||e)})),t}));e.exports=i},2217:function(e,t,r){var n=r(14613);e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},25105:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},30127:function(e,t,r){var n=r(2743),o=r(47796),a=r(3194),i=r(36935),l=r(63893),s=r(11220),c=Object.prototype.hasOwnProperty,d=a((function(e,t){if(l(t)||i(t))o(t,s(t),e);else for(var r in t)c.call(t,r)&&n(e,r,t[r])}));e.exports=d},89658:function(e){e.exports=function(e){return function(){return e}}},23104:function(e){e.exports=function(e,t){return e===t||e!=e&&t!=t}},27381:function(e,t,r){var n=r(53439);e.exports=function(e,t,r){var o=null==e?void 0:n(e,t);return void 0===o?r:o}},77785:function(e,t,r){var n=r(31280),o=r(7654);e.exports=function(e,t){return null!=e&&o(e,t,n)}},73589:function(e){e.exports=function(e){return e}},20353:function(e,t,r){var n=r(81402),o=r(83217),a=Object.prototype,i=a.hasOwnProperty,l=a.propertyIsEnumerable,s=n(function(){return arguments}())?n:function(e){return o(e)&&i.call(e,"callee")&&!l.call(e,"callee")};e.exports=s},62131:function(e){var t=Array.isArray;e.exports=t},36935:function(e,t,r){var n=r(56117),o=r(5244);e.exports=function(e){return null!=e&&o(e.length)&&!n(e)}},6950:function(e,t,r){e=r.nmd(e);var n=r(50787),o=r(12651),a=t&&!t.nodeType&&t,i=a&&e&&!e.nodeType&&e,l=i&&i.exports===a?n.Buffer:void 0,s=(l?l.isBuffer:void 0)||o;e.exports=s},63666:function(e,t,r){var n=r(5775),o=r(78796),a=r(20353),i=r(62131),l=r(36935),s=r(6950),c=r(63893),d=r(71752),u=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(l(e)&&(i(e)||"string"==typeof e||"function"==typeof e.splice||s(e)||d(e)||a(e)))return!e.length;var t=o(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(c(e))return!n(e).length;for(var r in e)if(u.call(e,r))return!1;return!0}},56117:function(e,t,r){var n=r(85179),o=r(34256);e.exports=function(e){if(!o(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},5244:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},34256:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},83217:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},19135:function(e,t,r){var n=r(85179),o=r(62131),a=r(83217);e.exports=function(e){return"string"==typeof e||!o(e)&&a(e)&&"[object String]"==n(e)}},14613:function(e,t,r){var n=r(85179),o=r(83217);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==n(e)}},71752:function(e,t,r){var n=r(33505),o=r(1982),a=r(40354),i=a&&a.isTypedArray,l=i?o(i):n;e.exports=l},26093:function(e){e.exports=function(e){return void 0===e}},11220:function(e,t,r){var n=r(72550),o=r(5775),a=r(36935);e.exports=function(e){return a(e)?n(e):o(e)}},88433:function(e,t,r){var n=r(9216);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],a=r.cache;if(a.has(o))return a.get(o);var i=e.apply(this,n);return r.cache=a.set(o,i)||a,i};return r.cache=new(o.Cache||n),r}o.Cache=n,e.exports=o},12651:function(e){e.exports=function(){return!1}},84118:function(e,t,r){var n=r(1784);e.exports=function(e){return null==e?"":n(e)}},53316:function(e){function t(e,t,r,n){var o,a=null==(o=n)||"number"==typeof o||"boolean"==typeof o?n:r(n),i=t.get(a);return void 0===i&&(i=e.call(this,n),t.set(a,i)),i}function r(e,t,r){var n=Array.prototype.slice.call(arguments,3),o=r(n),a=t.get(o);return void 0===a&&(a=e.apply(this,n),t.set(o,a)),a}function n(e,t,r,n,o){return r.bind(t,e,n,o)}function o(e,o){return n(e,this,1===e.length?t:r,o.cache.create(),o.serializer)}function a(){return JSON.stringify(arguments)}function i(){this.cache=Object.create(null)}i.prototype.has=function(e){return e in this.cache},i.prototype.get=function(e){return this.cache[e]},i.prototype.set=function(e,t){this.cache[e]=t};var l={create:function(){return new i}};e.exports=function(e,t){var r=t&&t.cache?t.cache:l,n=t&&t.serializer?t.serializer:a;return(t&&t.strategy?t.strategy:o)(e,{cache:r,serializer:n})},e.exports.strategies={variadic:function(e,t){return n(e,this,r,t.cache.create(),t.serializer)},monadic:function(e,r){return n(e,this,t,r.cache.create(),r.serializer)}}},69111:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(57206),a=r(92642),i=r(59726),l=n(n({},o.namedReferences),{all:o.namedReferences.html5}),s={specialChars:/[<>'"&]/g,nonAscii:/[<>'"&\u0080-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/g,nonAsciiPrintable:/[<>'"&\x01-\x08\x11-\x15\x17-\x1F\x7f-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/g,nonAsciiPrintableOnly:/[\x01-\x08\x11-\x15\x17-\x1F\x7f-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/g,extensive:/[\x01-\x0c\x0e-\x1f\x21-\x2c\x2e-\x2f\x3a-\x40\x5b-\x60\x7b-\x7d\x7f-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/g},c={mode:"specialChars",level:"all",numeric:"decimal"};t.encode=function(e,t){var r=void 0===(d=(a=void 0===t?c:t).mode)?"specialChars":d,n=void 0===(f=a.numeric)?"decimal":f,o=a.level;if(!e)return"";var a,d,u=s[r],p=l[void 0===o?"all":o].characters,m="hexadecimal"===n;if(u.lastIndex=0,a=u.exec(e)){d="";var f=0;do{f!==a.index&&(d+=e.substring(f,a.index));var g=p[o=a[0]];if(!g){var v=o.length>1?i.getCodePoint(o,0):o.charCodeAt(0);g=(m?"&#x"+v.toString(16):"&#"+v)+";"}d+=g,f=a.index+o.length}while(a=u.exec(e));f!==e.length&&(d+=e.substring(f))}else d=e;return d};var d={scope:"body",level:"all"},u=/&(?:#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+);/g,p=/&(?:#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+)[;=]?/g,m={xml:{strict:u,attribute:p,body:o.bodyRegExps.xml},html4:{strict:u,attribute:p,body:o.bodyRegExps.html4},html5:{strict:u,attribute:p,body:o.bodyRegExps.html5}},f=n(n({},m),{all:m.html5}),g=String.fromCharCode,v=g(65533),h={level:"all"};t.decodeEntity=function(e,t){var r=void 0===(n=(void 0===t?h:t).level)?"all":n;if(!e)return"";var n=e,o=(e[e.length-1],l[r].entities[e]);if(o)n=o;else if("&"===e[0]&&"#"===e[1]){var s=e[2],c="x"==s||"X"==s?parseInt(e.substr(3),16):parseInt(e.substr(2));n=c>=1114111?v:c>65535?i.fromCodePoint(c):g(a.numericUnicodeMap[c]||c)}return n},t.decode=function(e,t){var r=void 0===t?d:t,n=r.level,o=void 0===n?"all":n,s=r.scope,c=void 0===s?"xml"===o?"strict":"body":s;if(!e)return"";var u=f[o][c],p=l[o].entities,m="attribute"===c,h="strict"===c;u.lastIndex=0;var b,y=u.exec(e);if(y){b="";var E=0;do{E!==y.index&&(b+=e.substring(E,y.index));var w=y[0],_=w,C=w[w.length-1];if(m&&"="===C)_=w;else if(h&&";"!==C)_=w;else{var S=p[w];if(S)_=S;else if("&"===w[0]&&"#"===w[1]){var k=w[2],x="x"==k||"X"==k?parseInt(w.substr(3),16):parseInt(w.substr(2));_=x>=1114111?v:x>65535?i.fromCodePoint(x):g(a.numericUnicodeMap[x]||x)}}b+=_,E=y.index+w.length}while(y=u.exec(e));E!==e.length&&(b+=e.substring(E))}else b=e;return b}},57206:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyRegExps={xml:/&(?:#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+);?/g,html4:/&notin;|&(?:nbsp|iexcl|cent|pound|curren|yen|brvbar|sect|uml|copy|ordf|laquo|not|shy|reg|macr|deg|plusmn|sup2|sup3|acute|micro|para|middot|cedil|sup1|ordm|raquo|frac14|frac12|frac34|iquest|Agrave|Aacute|Acirc|Atilde|Auml|Aring|AElig|Ccedil|Egrave|Eacute|Ecirc|Euml|Igrave|Iacute|Icirc|Iuml|ETH|Ntilde|Ograve|Oacute|Ocirc|Otilde|Ouml|times|Oslash|Ugrave|Uacute|Ucirc|Uuml|Yacute|THORN|szlig|agrave|aacute|acirc|atilde|auml|aring|aelig|ccedil|egrave|eacute|ecirc|euml|igrave|iacute|icirc|iuml|eth|ntilde|ograve|oacute|ocirc|otilde|ouml|divide|oslash|ugrave|uacute|ucirc|uuml|yacute|thorn|yuml|quot|amp|lt|gt|#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+);?/g,html5:/&centerdot;|&copysr;|&divideontimes;|&gtcc;|&gtcir;|&gtdot;|&gtlPar;|&gtquest;|&gtrapprox;|&gtrarr;|&gtrdot;|&gtreqless;|&gtreqqless;|&gtrless;|&gtrsim;|&ltcc;|&ltcir;|&ltdot;|&lthree;|&ltimes;|&ltlarr;|&ltquest;|&ltrPar;|&ltri;|&ltrie;|&ltrif;|&notin;|&notinE;|&notindot;|&notinva;|&notinvb;|&notinvc;|&notni;|&notniva;|&notnivb;|&notnivc;|&parallel;|&timesb;|&timesbar;|&timesd;|&(?:AElig|AMP|Aacute|Acirc|Agrave|Aring|Atilde|Auml|COPY|Ccedil|ETH|Eacute|Ecirc|Egrave|Euml|GT|Iacute|Icirc|Igrave|Iuml|LT|Ntilde|Oacute|Ocirc|Ograve|Oslash|Otilde|Ouml|QUOT|REG|THORN|Uacute|Ucirc|Ugrave|Uuml|Yacute|aacute|acirc|acute|aelig|agrave|amp|aring|atilde|auml|brvbar|ccedil|cedil|cent|copy|curren|deg|divide|eacute|ecirc|egrave|eth|euml|frac12|frac14|frac34|gt|iacute|icirc|iexcl|igrave|iquest|iuml|laquo|lt|macr|micro|middot|nbsp|not|ntilde|oacute|ocirc|ograve|ordf|ordm|oslash|otilde|ouml|para|plusmn|pound|quot|raquo|reg|sect|shy|sup1|sup2|sup3|szlig|thorn|times|uacute|ucirc|ugrave|uml|uuml|yacute|yen|yuml|#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+);?/g},t.namedReferences={xml:{entities:{"&lt;":"<","&gt;":">","&quot;":'"',"&apos;":"'","&amp;":"&"},characters:{"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;","&":"&amp;"}},html4:{entities:{"&apos;":"'","&nbsp":"","&nbsp;":"","&iexcl":"","&iexcl;":"","&cent":"","&cent;":"","&pound":"","&pound;":"","&curren":"","&curren;":"","&yen":"","&yen;":"","&brvbar":"","&brvbar;":"","&sect":"","&sect;":"","&uml":"","&uml;":"","&copy":"","&copy;":"","&ordf":"","&ordf;":"","&laquo":"","&laquo;":"","&not":"","&not;":"","&shy":"","&shy;":"","&reg":"","&reg;":"","&macr":"","&macr;":"","&deg":"","&deg;":"","&plusmn":"","&plusmn;":"","&sup2":"","&sup2;":"","&sup3":"","&sup3;":"","&acute":"","&acute;":"","&micro":"","&micro;":"","&para":"","&para;":"","&middot":"","&middot;":"","&cedil":"","&cedil;":"","&sup1":"","&sup1;":"","&ordm":"","&ordm;":"","&raquo":"","&raquo;":"","&frac14":"","&frac14;":"","&frac12":"","&frac12;":"","&frac34":"","&frac34;":"","&iquest":"","&iquest;":"","&Agrave":"","&Agrave;":"","&Aacute":"","&Aacute;":"","&Acirc":"","&Acirc;":"","&Atilde":"","&Atilde;":"","&Auml":"","&Auml;":"","&Aring":"","&Aring;":"","&AElig":"","&AElig;":"","&Ccedil":"","&Ccedil;":"","&Egrave":"","&Egrave;":"","&Eacute":"","&Eacute;":"","&Ecirc":"","&Ecirc;":"","&Euml":"","&Euml;":"","&Igrave":"","&Igrave;":"","&Iacute":"","&Iacute;":"","&Icirc":"","&Icirc;":"","&Iuml":"","&Iuml;":"","&ETH":"","&ETH;":"","&Ntilde":"","&Ntilde;":"","&Ograve":"","&Ograve;":"","&Oacute":"","&Oacute;":"","&Ocirc":"","&Ocirc;":"","&Otilde":"","&Otilde;":"","&Ouml":"","&Ouml;":"","&times":"","&times;":"","&Oslash":"","&Oslash;":"","&Ugrave":"","&Ugrave;":"","&Uacute":"","&Uacute;":"","&Ucirc":"","&Ucirc;":"","&Uuml":"","&Uuml;":"","&Yacute":"","&Yacute;":"","&THORN":"","&THORN;":"","&szlig":"","&szlig;":"","&agrave":"","&agrave;":"","&aacute":"","&aacute;":"","&acirc":"","&acirc;":"","&atilde":"","&atilde;":"","&auml":"","&auml;":"","&aring":"","&aring;":"","&aelig":"","&aelig;":"","&ccedil":"","&ccedil;":"","&egrave":"","&egrave;":"","&eacute":"","&eacute;":"","&ecirc":"","&ecirc;":"","&euml":"","&euml;":"","&igrave":"","&igrave;":"","&iacute":"","&iacute;":"","&icirc":"","&icirc;":"","&iuml":"","&iuml;":"","&eth":"","&eth;":"","&ntilde":"","&ntilde;":"","&ograve":"","&ograve;":"","&oacute":"","&oacute;":"","&ocirc":"","&ocirc;":"","&otilde":"","&otilde;":"","&ouml":"","&ouml;":"","&divide":"","&divide;":"","&oslash":"","&oslash;":"","&ugrave":"","&ugrave;":"","&uacute":"","&uacute;":"","&ucirc":"","&ucirc;":"","&uuml":"","&uuml;":"","&yacute":"","&yacute;":"","&thorn":"","&thorn;":"","&yuml":"","&yuml;":"","&quot":'"',"&quot;":'"',"&amp":"&","&amp;":"&","&lt":"<","&lt;":"<","&gt":">","&gt;":">","&OElig;":"","&oelig;":"","&Scaron;":"","&scaron;":"","&Yuml;":"","&circ;":"","&tilde;":"","&ensp;":"","&emsp;":"","&thinsp;":"","&zwnj;":"","&zwj;":"","&lrm;":"","&rlm;":"","&ndash;":"","&mdash;":"","&lsquo;":"","&rsquo;":"","&sbquo;":"","&ldquo;":"","&rdquo;":"","&bdquo;":"","&dagger;":"","&Dagger;":"","&permil;":"","&lsaquo;":"","&rsaquo;":"","&euro;":"","&fnof;":"","&Alpha;":"","&Beta;":"","&Gamma;":"","&Delta;":"","&Epsilon;":"","&Zeta;":"","&Eta;":"","&Theta;":"","&Iota;":"","&Kappa;":"","&Lambda;":"","&Mu;":"","&Nu;":"","&Xi;":"","&Omicron;":"","&Pi;":"","&Rho;":"","&Sigma;":"","&Tau;":"","&Upsilon;":"","&Phi;":"","&Chi;":"","&Psi;":"","&Omega;":"","&alpha;":"","&beta;":"","&gamma;":"","&delta;":"","&epsilon;":"","&zeta;":"","&eta;":"","&theta;":"","&iota;":"","&kappa;":"","&lambda;":"","&mu;":"","&nu;":"","&xi;":"","&omicron;":"","&pi;":"","&rho;":"","&sigmaf;":"","&sigma;":"","&tau;":"","&upsilon;":"","&phi;":"","&chi;":"","&psi;":"","&omega;":"","&thetasym;":"","&upsih;":"","&piv;":"","&bull;":"","&hellip;":"","&prime;":"","&Prime;":"","&oline;":"","&frasl;":"","&weierp;":"","&image;":"","&real;":"","&trade;":"","&alefsym;":"","&larr;":"","&uarr;":"","&rarr;":"","&darr;":"","&harr;":"","&crarr;":"","&lArr;":"","&uArr;":"","&rArr;":"","&dArr;":"","&hArr;":"","&forall;":"","&part;":"","&exist;":"","&empty;":"","&nabla;":"","&isin;":"","&notin;":"","&ni;":"","&prod;":"","&sum;":"","&minus;":"","&lowast;":"","&radic;":"","&prop;":"","&infin;":"","&ang;":"","&and;":"","&or;":"","&cap;":"","&cup;":"","&int;":"","&there4;":"","&sim;":"","&cong;":"","&asymp;":"","&ne;":"","&equiv;":"","&le;":"","&ge;":"","&sub;":"","&sup;":"","&nsub;":"","&sube;":"","&supe;":"","&oplus;":"","&otimes;":"","&perp;":"","&sdot;":"","&lceil;":"","&rceil;":"","&lfloor;":"","&rfloor;":"","&lang;":"","&rang;":"","&loz;":"","&spades;":"","&clubs;":"","&hearts;":"","&diams;":""},characters:{"'":"&apos;","":"&nbsp;","":"&iexcl;","":"&cent;","":"&pound;","":"&curren;","":"&yen;","":"&brvbar;","":"&sect;","":"&uml;","":"&copy;","":"&ordf;","":"&laquo;","":"&not;","":"&shy;","":"&reg;","":"&macr;","":"&deg;","":"&plusmn;","":"&sup2;","":"&sup3;","":"&acute;","":"&micro;","":"&para;","":"&middot;","":"&cedil;","":"&sup1;","":"&ordm;","":"&raquo;","":"&frac14;","":"&frac12;","":"&frac34;","":"&iquest;","":"&Agrave;","":"&Aacute;","":"&Acirc;","":"&Atilde;","":"&Auml;","":"&Aring;","":"&AElig;","":"&Ccedil;","":"&Egrave;","":"&Eacute;","":"&Ecirc;","":"&Euml;","":"&Igrave;","":"&Iacute;","":"&Icirc;","":"&Iuml;","":"&ETH;","":"&Ntilde;","":"&Ograve;","":"&Oacute;","":"&Ocirc;","":"&Otilde;","":"&Ouml;","":"&times;","":"&Oslash;","":"&Ugrave;","":"&Uacute;","":"&Ucirc;","":"&Uuml;","":"&Yacute;","":"&THORN;","":"&szlig;","":"&agrave;","":"&aacute;","":"&acirc;","":"&atilde;","":"&auml;","":"&aring;","":"&aelig;","":"&ccedil;","":"&egrave;","":"&eacute;","":"&ecirc;","":"&euml;","":"&igrave;","":"&iacute;","":"&icirc;","":"&iuml;","":"&eth;","":"&ntilde;","":"&ograve;","":"&oacute;","":"&ocirc;","":"&otilde;","":"&ouml;","":"&divide;","":"&oslash;","":"&ugrave;","":"&uacute;","":"&ucirc;","":"&uuml;","":"&yacute;","":"&thorn;","":"&yuml;",'"':"&quot;","&":"&amp;","<":"&lt;",">":"&gt;","":"&OElig;","":"&oelig;","":"&Scaron;","":"&scaron;","":"&Yuml;","":"&circ;","":"&tilde;","":"&ensp;","":"&emsp;","":"&thinsp;","":"&zwnj;","":"&zwj;","":"&lrm;","":"&rlm;","":"&ndash;","":"&mdash;","":"&lsquo;","":"&rsquo;","":"&sbquo;","":"&ldquo;","":"&rdquo;","":"&bdquo;","":"&dagger;","":"&Dagger;","":"&permil;","":"&lsaquo;","":"&rsaquo;","":"&euro;","":"&fnof;","":"&Alpha;","":"&Beta;","":"&Gamma;","":"&Delta;","":"&Epsilon;","":"&Zeta;","":"&Eta;","":"&Theta;","":"&Iota;","":"&Kappa;","":"&Lambda;","":"&Mu;","":"&Nu;","":"&Xi;","":"&Omicron;","":"&Pi;","":"&Rho;","":"&Sigma;","":"&Tau;","":"&Upsilon;","":"&Phi;","":"&Chi;","":"&Psi;","":"&Omega;","":"&alpha;","":"&beta;","":"&gamma;","":"&delta;","":"&epsilon;","":"&zeta;","":"&eta;","":"&theta;","":"&iota;","":"&kappa;","":"&lambda;","":"&mu;","":"&nu;","":"&xi;","":"&omicron;","":"&pi;","":"&rho;","":"&sigmaf;","":"&sigma;","":"&tau;","":"&upsilon;","":"&phi;","":"&chi;","":"&psi;","":"&omega;","":"&thetasym;","":"&upsih;","":"&piv;","":"&bull;","":"&hellip;","":"&prime;","":"&Prime;","":"&oline;","":"&frasl;","":"&weierp;","":"&image;","":"&real;","":"&trade;","":"&alefsym;","":"&larr;","":"&uarr;","":"&rarr;","":"&darr;","":"&harr;","":"&crarr;","":"&lArr;","":"&uArr;","":"&rArr;","":"&dArr;","":"&hArr;","":"&forall;","":"&part;","":"&exist;","":"&empty;","":"&nabla;","":"&isin;","":"&notin;","":"&ni;","":"&prod;","":"&sum;","":"&minus;","":"&lowast;","":"&radic;","":"&prop;","":"&infin;","":"&ang;","":"&and;","":"&or;","":"&cap;","":"&cup;","":"&int;","":"&there4;","":"&sim;","":"&cong;","":"&asymp;","":"&ne;","":"&equiv;","":"&le;","":"&ge;","":"&sub;","":"&sup;","":"&nsub;","":"&sube;","":"&supe;","":"&oplus;","":"&otimes;","":"&perp;","":"&sdot;","":"&lceil;","":"&rceil;","":"&lfloor;","":"&rfloor;","":"&lang;","":"&rang;","":"&loz;","":"&spades;","":"&clubs;","":"&hearts;","":"&diams;"}},html5:{entities:{"&AElig":"","&AElig;":"","&AMP":"&","&AMP;":"&","&Aacute":"","&Aacute;":"","&Abreve;":"","&Acirc":"","&Acirc;":"","&Acy;":"","&Afr;":"","&Agrave":"","&Agrave;":"","&Alpha;":"","&Amacr;":"","&And;":"","&Aogon;":"","&Aopf;":"","&ApplyFunction;":"","&Aring":"","&Aring;":"","&Ascr;":"","&Assign;":"","&Atilde":"","&Atilde;":"","&Auml":"","&Auml;":"","&Backslash;":"","&Barv;":"","&Barwed;":"","&Bcy;":"","&Because;":"","&Bernoullis;":"","&Beta;":"","&Bfr;":"","&Bopf;":"","&Breve;":"","&Bscr;":"","&Bumpeq;":"","&CHcy;":"","&COPY":"","&COPY;":"","&Cacute;":"","&Cap;":"","&CapitalDifferentialD;":"","&Cayleys;":"","&Ccaron;":"","&Ccedil":"","&Ccedil;":"","&Ccirc;":"","&Cconint;":"","&Cdot;":"","&Cedilla;":"","&CenterDot;":"","&Cfr;":"","&Chi;":"","&CircleDot;":"","&CircleMinus;":"","&CirclePlus;":"","&CircleTimes;":"","&ClockwiseContourIntegral;":"","&CloseCurlyDoubleQuote;":"","&CloseCurlyQuote;":"","&Colon;":"","&Colone;":"","&Congruent;":"","&Conint;":"","&ContourIntegral;":"","&Copf;":"","&Coproduct;":"","&CounterClockwiseContourIntegral;":"","&Cross;":"","&Cscr;":"","&Cup;":"","&CupCap;":"","&DD;":"","&DDotrahd;":"","&DJcy;":"","&DScy;":"","&DZcy;":"","&Dagger;":"","&Darr;":"","&Dashv;":"","&Dcaron;":"","&Dcy;":"","&Del;":"","&Delta;":"","&Dfr;":"","&DiacriticalAcute;":"","&DiacriticalDot;":"","&DiacriticalDoubleAcute;":"","&DiacriticalGrave;":"`","&DiacriticalTilde;":"","&Diamond;":"","&DifferentialD;":"","&Dopf;":"","&Dot;":"","&DotDot;":"","&DotEqual;":"","&DoubleContourIntegral;":"","&DoubleDot;":"","&DoubleDownArrow;":"","&DoubleLeftArrow;":"","&DoubleLeftRightArrow;":"","&DoubleLeftTee;":"","&DoubleLongLeftArrow;":"","&DoubleLongLeftRightArrow;":"","&DoubleLongRightArrow;":"","&DoubleRightArrow;":"","&DoubleRightTee;":"","&DoubleUpArrow;":"","&DoubleUpDownArrow;":"","&DoubleVerticalBar;":"","&DownArrow;":"","&DownArrowBar;":"","&DownArrowUpArrow;":"","&DownBreve;":"","&DownLeftRightVector;":"","&DownLeftTeeVector;":"","&DownLeftVector;":"","&DownLeftVectorBar;":"","&DownRightTeeVector;":"","&DownRightVector;":"","&DownRightVectorBar;":"","&DownTee;":"","&DownTeeArrow;":"","&Downarrow;":"","&Dscr;":"","&Dstrok;":"","&ENG;":"","&ETH":"","&ETH;":"","&Eacute":"","&Eacute;":"","&Ecaron;":"","&Ecirc":"","&Ecirc;":"","&Ecy;":"","&Edot;":"","&Efr;":"","&Egrave":"","&Egrave;":"","&Element;":"","&Emacr;":"","&EmptySmallSquare;":"","&EmptyVerySmallSquare;":"","&Eogon;":"","&Eopf;":"","&Epsilon;":"","&Equal;":"","&EqualTilde;":"","&Equilibrium;":"","&Escr;":"","&Esim;":"","&Eta;":"","&Euml":"","&Euml;":"","&Exists;":"","&ExponentialE;":"","&Fcy;":"","&Ffr;":"","&FilledSmallSquare;":"","&FilledVerySmallSquare;":"","&Fopf;":"","&ForAll;":"","&Fouriertrf;":"","&Fscr;":"","&GJcy;":"","&GT":">","&GT;":">","&Gamma;":"","&Gammad;":"","&Gbreve;":"","&Gcedil;":"","&Gcirc;":"","&Gcy;":"","&Gdot;":"","&Gfr;":"","&Gg;":"","&Gopf;":"","&GreaterEqual;":"","&GreaterEqualLess;":"","&GreaterFullEqual;":"","&GreaterGreater;":"","&GreaterLess;":"","&GreaterSlantEqual;":"","&GreaterTilde;":"","&Gscr;":"","&Gt;":"","&HARDcy;":"","&Hacek;":"","&Hat;":"^","&Hcirc;":"","&Hfr;":"","&HilbertSpace;":"","&Hopf;":"","&HorizontalLine;":"","&Hscr;":"","&Hstrok;":"","&HumpDownHump;":"","&HumpEqual;":"","&IEcy;":"","&IJlig;":"","&IOcy;":"","&Iacute":"","&Iacute;":"","&Icirc":"","&Icirc;":"","&Icy;":"","&Idot;":"","&Ifr;":"","&Igrave":"","&Igrave;":"","&Im;":"","&Imacr;":"","&ImaginaryI;":"","&Implies;":"","&Int;":"","&Integral;":"","&Intersection;":"","&InvisibleComma;":"","&InvisibleTimes;":"","&Iogon;":"","&Iopf;":"","&Iota;":"","&Iscr;":"","&Itilde;":"","&Iukcy;":"","&Iuml":"","&Iuml;":"","&Jcirc;":"","&Jcy;":"","&Jfr;":"","&Jopf;":"","&Jscr;":"","&Jsercy;":"","&Jukcy;":"","&KHcy;":"","&KJcy;":"","&Kappa;":"","&Kcedil;":"","&Kcy;":"","&Kfr;":"","&Kopf;":"","&Kscr;":"","&LJcy;":"","&LT":"<","&LT;":"<","&Lacute;":"","&Lambda;":"","&Lang;":"","&Laplacetrf;":"","&Larr;":"","&Lcaron;":"","&Lcedil;":"","&Lcy;":"","&LeftAngleBracket;":"","&LeftArrow;":"","&LeftArrowBar;":"","&LeftArrowRightArrow;":"","&LeftCeiling;":"","&LeftDoubleBracket;":"","&LeftDownTeeVector;":"","&LeftDownVector;":"","&LeftDownVectorBar;":"","&LeftFloor;":"","&LeftRightArrow;":"","&LeftRightVector;":"","&LeftTee;":"","&LeftTeeArrow;":"","&LeftTeeVector;":"","&LeftTriangle;":"","&LeftTriangleBar;":"","&LeftTriangleEqual;":"","&LeftUpDownVector;":"","&LeftUpTeeVector;":"","&LeftUpVector;":"","&LeftUpVectorBar;":"","&LeftVector;":"","&LeftVectorBar;":"","&Leftarrow;":"","&Leftrightarrow;":"","&LessEqualGreater;":"","&LessFullEqual;":"","&LessGreater;":"","&LessLess;":"","&LessSlantEqual;":"","&LessTilde;":"","&Lfr;":"","&Ll;":"","&Lleftarrow;":"","&Lmidot;":"","&LongLeftArrow;":"","&LongLeftRightArrow;":"","&LongRightArrow;":"","&Longleftarrow;":"","&Longleftrightarrow;":"","&Longrightarrow;":"","&Lopf;":"","&LowerLeftArrow;":"","&LowerRightArrow;":"","&Lscr;":"","&Lsh;":"","&Lstrok;":"","&Lt;":"","&Map;":"","&Mcy;":"","&MediumSpace;":"","&Mellintrf;":"","&Mfr;":"","&MinusPlus;":"","&Mopf;":"","&Mscr;":"","&Mu;":"","&NJcy;":"","&Nacute;":"","&Ncaron;":"","&Ncedil;":"","&Ncy;":"","&NegativeMediumSpace;":"","&NegativeThickSpace;":"","&NegativeThinSpace;":"","&NegativeVeryThinSpace;":"","&NestedGreaterGreater;":"","&NestedLessLess;":"","&NewLine;":"\n","&Nfr;":"","&NoBreak;":"","&NonBreakingSpace;":"","&Nopf;":"","&Not;":"","&NotCongruent;":"","&NotCupCap;":"","&NotDoubleVerticalBar;":"","&NotElement;":"","&NotEqual;":"","&NotEqualTilde;":"","&NotExists;":"","&NotGreater;":"","&NotGreaterEqual;":"","&NotGreaterFullEqual;":"","&NotGreaterGreater;":"","&NotGreaterLess;":"","&NotGreaterSlantEqual;":"","&NotGreaterTilde;":"","&NotHumpDownHump;":"","&NotHumpEqual;":"","&NotLeftTriangle;":"","&NotLeftTriangleBar;":"","&NotLeftTriangleEqual;":"","&NotLess;":"","&NotLessEqual;":"","&NotLessGreater;":"","&NotLessLess;":"","&NotLessSlantEqual;":"","&NotLessTilde;":"","&NotNestedGreaterGreater;":"","&NotNestedLessLess;":"","&NotPrecedes;":"","&NotPrecedesEqual;":"","&NotPrecedesSlantEqual;":"","&NotReverseElement;":"","&NotRightTriangle;":"","&NotRightTriangleBar;":"","&NotRightTriangleEqual;":"","&NotSquareSubset;":"","&NotSquareSubsetEqual;":"","&NotSquareSuperset;":"","&NotSquareSupersetEqual;":"","&NotSubset;":"","&NotSubsetEqual;":"","&NotSucceeds;":"","&NotSucceedsEqual;":"","&NotSucceedsSlantEqual;":"","&NotSucceedsTilde;":"","&NotSuperset;":"","&NotSupersetEqual;":"","&NotTilde;":"","&NotTildeEqual;":"","&NotTildeFullEqual;":"","&NotTildeTilde;":"","&NotVerticalBar;":"","&Nscr;":"","&Ntilde":"","&Ntilde;":"","&Nu;":"","&OElig;":"","&Oacute":"","&Oacute;":"","&Ocirc":"","&Ocirc;":"","&Ocy;":"","&Odblac;":"","&Ofr;":"","&Ograve":"","&Ograve;":"","&Omacr;":"","&Omega;":"","&Omicron;":"","&Oopf;":"","&OpenCurlyDoubleQuote;":"","&OpenCurlyQuote;":"","&Or;":"","&Oscr;":"","&Oslash":"","&Oslash;":"","&Otilde":"","&Otilde;":"","&Otimes;":"","&Ouml":"","&Ouml;":"","&OverBar;":"","&OverBrace;":"","&OverBracket;":"","&OverParenthesis;":"","&PartialD;":"","&Pcy;":"","&Pfr;":"","&Phi;":"","&Pi;":"","&PlusMinus;":"","&Poincareplane;":"","&Popf;":"","&Pr;":"","&Precedes;":"","&PrecedesEqual;":"","&PrecedesSlantEqual;":"","&PrecedesTilde;":"","&Prime;":"","&Product;":"","&Proportion;":"","&Proportional;":"","&Pscr;":"","&Psi;":"","&QUOT":'"',"&QUOT;":'"',"&Qfr;":"","&Qopf;":"","&Qscr;":"","&RBarr;":"","&REG":"","&REG;":"","&Racute;":"","&Rang;":"","&Rarr;":"","&Rarrtl;":"","&Rcaron;":"","&Rcedil;":"","&Rcy;":"","&Re;":"","&ReverseElement;":"","&ReverseEquilibrium;":"","&ReverseUpEquilibrium;":"","&Rfr;":"","&Rho;":"","&RightAngleBracket;":"","&RightArrow;":"","&RightArrowBar;":"","&RightArrowLeftArrow;":"","&RightCeiling;":"","&RightDoubleBracket;":"","&RightDownTeeVector;":"","&RightDownVector;":"","&RightDownVectorBar;":"","&RightFloor;":"","&RightTee;":"","&RightTeeArrow;":"","&RightTeeVector;":"","&RightTriangle;":"","&RightTriangleBar;":"","&RightTriangleEqual;":"","&RightUpDownVector;":"","&RightUpTeeVector;":"","&RightUpVector;":"","&RightUpVectorBar;":"","&RightVector;":"","&RightVectorBar;":"","&Rightarrow;":"","&Ropf;":"","&RoundImplies;":"","&Rrightarrow;":"","&Rscr;":"","&Rsh;":"","&RuleDelayed;":"","&SHCHcy;":"","&SHcy;":"","&SOFTcy;":"","&Sacute;":"","&Sc;":"","&Scaron;":"","&Scedil;":"","&Scirc;":"","&Scy;":"","&Sfr;":"","&ShortDownArrow;":"","&ShortLeftArrow;":"","&ShortRightArrow;":"","&ShortUpArrow;":"","&Sigma;":"","&SmallCircle;":"","&Sopf;":"","&Sqrt;":"","&Square;":"","&SquareIntersection;":"","&SquareSubset;":"","&SquareSubsetEqual;":"","&SquareSuperset;":"","&SquareSupersetEqual;":"","&SquareUnion;":"","&Sscr;":"","&Star;":"","&Sub;":"","&Subset;":"","&SubsetEqual;":"","&Succeeds;":"","&SucceedsEqual;":"","&SucceedsSlantEqual;":"","&SucceedsTilde;":"","&SuchThat;":"","&Sum;":"","&Sup;":"","&Superset;":"","&SupersetEqual;":"","&Supset;":"","&THORN":"","&THORN;":"","&TRADE;":"","&TSHcy;":"","&TScy;":"","&Tab;":"\t","&Tau;":"","&Tcaron;":"","&Tcedil;":"","&Tcy;":"","&Tfr;":"","&Therefore;":"","&Theta;":"","&ThickSpace;":"","&ThinSpace;":"","&Tilde;":"","&TildeEqual;":"","&TildeFullEqual;":"","&TildeTilde;":"","&Topf;":"","&TripleDot;":"","&Tscr;":"","&Tstrok;":"","&Uacute":"","&Uacute;":"","&Uarr;":"","&Uarrocir;":"","&Ubrcy;":"","&Ubreve;":"","&Ucirc":"","&Ucirc;":"","&Ucy;":"","&Udblac;":"","&Ufr;":"","&Ugrave":"","&Ugrave;":"","&Umacr;":"","&UnderBar;":"_","&UnderBrace;":"","&UnderBracket;":"","&UnderParenthesis;":"","&Union;":"","&UnionPlus;":"","&Uogon;":"","&Uopf;":"","&UpArrow;":"","&UpArrowBar;":"","&UpArrowDownArrow;":"","&UpDownArrow;":"","&UpEquilibrium;":"","&UpTee;":"","&UpTeeArrow;":"","&Uparrow;":"","&Updownarrow;":"","&UpperLeftArrow;":"","&UpperRightArrow;":"","&Upsi;":"","&Upsilon;":"","&Uring;":"","&Uscr;":"","&Utilde;":"","&Uuml":"","&Uuml;":"","&VDash;":"","&Vbar;":"","&Vcy;":"","&Vdash;":"","&Vdashl;":"","&Vee;":"","&Verbar;":"","&Vert;":"","&VerticalBar;":"","&VerticalLine;":"|","&VerticalSeparator;":"","&VerticalTilde;":"","&VeryThinSpace;":"","&Vfr;":"","&Vopf;":"","&Vscr;":"","&Vvdash;":"","&Wcirc;":"","&Wedge;":"","&Wfr;":"","&Wopf;":"","&Wscr;":"","&Xfr;":"","&Xi;":"","&Xopf;":"","&Xscr;":"","&YAcy;":"","&YIcy;":"","&YUcy;":"","&Yacute":"","&Yacute;":"","&Ycirc;":"","&Ycy;":"","&Yfr;":"","&Yopf;":"","&Yscr;":"","&Yuml;":"","&ZHcy;":"","&Zacute;":"","&Zcaron;":"","&Zcy;":"","&Zdot;":"","&ZeroWidthSpace;":"","&Zeta;":"","&Zfr;":"","&Zopf;":"","&Zscr;":"","&aacute":"","&aacute;":"","&abreve;":"","&ac;":"","&acE;":"","&acd;":"","&acirc":"","&acirc;":"","&acute":"","&acute;":"","&acy;":"","&aelig":"","&aelig;":"","&af;":"","&afr;":"","&agrave":"","&agrave;":"","&alefsym;":"","&aleph;":"","&alpha;":"","&amacr;":"","&amalg;":"","&amp":"&","&amp;":"&","&and;":"","&andand;":"","&andd;":"","&andslope;":"","&andv;":"","&ang;":"","&ange;":"","&angle;":"","&angmsd;":"","&angmsdaa;":"","&angmsdab;":"","&angmsdac;":"","&angmsdad;":"","&angmsdae;":"","&angmsdaf;":"","&angmsdag;":"","&angmsdah;":"","&angrt;":"","&angrtvb;":"","&angrtvbd;":"","&angsph;":"","&angst;":"","&angzarr;":"","&aogon;":"","&aopf;":"","&ap;":"","&apE;":"","&apacir;":"","&ape;":"","&apid;":"","&apos;":"'","&approx;":"","&approxeq;":"","&aring":"","&aring;":"","&ascr;":"","&ast;":"*","&asymp;":"","&asympeq;":"","&atilde":"","&atilde;":"","&auml":"","&auml;":"","&awconint;":"","&awint;":"","&bNot;":"","&backcong;":"","&backepsilon;":"","&backprime;":"","&backsim;":"","&backsimeq;":"","&barvee;":"","&barwed;":"","&barwedge;":"","&bbrk;":"","&bbrktbrk;":"","&bcong;":"","&bcy;":"","&bdquo;":"","&becaus;":"","&because;":"","&bemptyv;":"","&bepsi;":"","&bernou;":"","&beta;":"","&beth;":"","&between;":"","&bfr;":"","&bigcap;":"","&bigcirc;":"","&bigcup;":"","&bigodot;":"","&bigoplus;":"","&bigotimes;":"","&bigsqcup;":"","&bigstar;":"","&bigtriangledown;":"","&bigtriangleup;":"","&biguplus;":"","&bigvee;":"","&bigwedge;":"","&bkarow;":"","&blacklozenge;":"","&blacksquare;":"","&blacktriangle;":"","&blacktriangledown;":"","&blacktriangleleft;":"","&blacktriangleright;":"","&blank;":"","&blk12;":"","&blk14;":"","&blk34;":"","&block;":"","&bne;":"=","&bnequiv;":"","&bnot;":"","&bopf;":"","&bot;":"","&bottom;":"","&bowtie;":"","&boxDL;":"","&boxDR;":"","&boxDl;":"","&boxDr;":"","&boxH;":"","&boxHD;":"","&boxHU;":"","&boxHd;":"","&boxHu;":"","&boxUL;":"","&boxUR;":"","&boxUl;":"","&boxUr;":"","&boxV;":"","&boxVH;":"","&boxVL;":"","&boxVR;":"","&boxVh;":"","&boxVl;":"","&boxVr;":"","&boxbox;":"","&boxdL;":"","&boxdR;":"","&boxdl;":"","&boxdr;":"","&boxh;":"","&boxhD;":"","&boxhU;":"","&boxhd;":"","&boxhu;":"","&boxminus;":"","&boxplus;":"","&boxtimes;":"","&boxuL;":"","&boxuR;":"","&boxul;":"","&boxur;":"","&boxv;":"","&boxvH;":"","&boxvL;":"","&boxvR;":"","&boxvh;":"","&boxvl;":"","&boxvr;":"","&bprime;":"","&breve;":"","&brvbar":"","&brvbar;":"","&bscr;":"","&bsemi;":"","&bsim;":"","&bsime;":"","&bsol;":"\\","&bsolb;":"","&bsolhsub;":"","&bull;":"","&bullet;":"","&bump;":"","&bumpE;":"","&bumpe;":"","&bumpeq;":"","&cacute;":"","&cap;":"","&capand;":"","&capbrcup;":"","&capcap;":"","&capcup;":"","&capdot;":"","&caps;":"","&caret;":"","&caron;":"","&ccaps;":"","&ccaron;":"","&ccedil":"","&ccedil;":"","&ccirc;":"","&ccups;":"","&ccupssm;":"","&cdot;":"","&cedil":"","&cedil;":"","&cemptyv;":"","&cent":"","&cent;":"","&centerdot;":"","&cfr;":"","&chcy;":"","&check;":"","&checkmark;":"","&chi;":"","&cir;":"","&cirE;":"","&circ;":"","&circeq;":"","&circlearrowleft;":"","&circlearrowright;":"","&circledR;":"","&circledS;":"","&circledast;":"","&circledcirc;":"","&circleddash;":"","&cire;":"","&cirfnint;":"","&cirmid;":"","&cirscir;":"","&clubs;":"","&clubsuit;":"","&colon;":":","&colone;":"","&coloneq;":"","&comma;":",","&commat;":"@","&comp;":"","&compfn;":"","&complement;":"","&complexes;":"","&cong;":"","&congdot;":"","&conint;":"","&copf;":"","&coprod;":"","&copy":"","&copy;":"","&copysr;":"","&crarr;":"","&cross;":"","&cscr;":"","&csub;":"","&csube;":"","&csup;":"","&csupe;":"","&ctdot;":"","&cudarrl;":"","&cudarrr;":"","&cuepr;":"","&cuesc;":"","&cularr;":"","&cularrp;":"","&cup;":"","&cupbrcap;":"","&cupcap;":"","&cupcup;":"","&cupdot;":"","&cupor;":"","&cups;":"","&curarr;":"","&curarrm;":"","&curlyeqprec;":"","&curlyeqsucc;":"","&curlyvee;":"","&curlywedge;":"","&curren":"","&curren;":"","&curvearrowleft;":"","&curvearrowright;":"","&cuvee;":"","&cuwed;":"","&cwconint;":"","&cwint;":"","&cylcty;":"","&dArr;":"","&dHar;":"","&dagger;":"","&daleth;":"","&darr;":"","&dash;":"","&dashv;":"","&dbkarow;":"","&dblac;":"","&dcaron;":"","&dcy;":"","&dd;":"","&ddagger;":"","&ddarr;":"","&ddotseq;":"","&deg":"","&deg;":"","&delta;":"","&demptyv;":"","&dfisht;":"","&dfr;":"","&dharl;":"","&dharr;":"","&diam;":"","&diamond;":"","&diamondsuit;":"","&diams;":"","&die;":"","&digamma;":"","&disin;":"","&div;":"","&divide":"","&divide;":"","&divideontimes;":"","&divonx;":"","&djcy;":"","&dlcorn;":"","&dlcrop;":"","&dollar;":"$","&dopf;":"","&dot;":"","&doteq;":"","&doteqdot;":"","&dotminus;":"","&dotplus;":"","&dotsquare;":"","&doublebarwedge;":"","&downarrow;":"","&downdownarrows;":"","&downharpoonleft;":"","&downharpoonright;":"","&drbkarow;":"","&drcorn;":"","&drcrop;":"","&dscr;":"","&dscy;":"","&dsol;":"","&dstrok;":"","&dtdot;":"","&dtri;":"","&dtrif;":"","&duarr;":"","&duhar;":"","&dwangle;":"","&dzcy;":"","&dzigrarr;":"","&eDDot;":"","&eDot;":"","&eacute":"","&eacute;":"","&easter;":"","&ecaron;":"","&ecir;":"","&ecirc":"","&ecirc;":"","&ecolon;":"","&ecy;":"","&edot;":"","&ee;":"","&efDot;":"","&efr;":"","&eg;":"","&egrave":"","&egrave;":"","&egs;":"","&egsdot;":"","&el;":"","&elinters;":"","&ell;":"","&els;":"","&elsdot;":"","&emacr;":"","&empty;":"","&emptyset;":"","&emptyv;":"","&emsp13;":"","&emsp14;":"","&emsp;":"","&eng;":"","&ensp;":"","&eogon;":"","&eopf;":"","&epar;":"","&eparsl;":"","&eplus;":"","&epsi;":"","&epsilon;":"","&epsiv;":"","&eqcirc;":"","&eqcolon;":"","&eqsim;":"","&eqslantgtr;":"","&eqslantless;":"","&equals;":"=","&equest;":"","&equiv;":"","&equivDD;":"","&eqvparsl;":"","&erDot;":"","&erarr;":"","&escr;":"","&esdot;":"","&esim;":"","&eta;":"","&eth":"","&eth;":"","&euml":"","&euml;":"","&euro;":"","&excl;":"!","&exist;":"","&expectation;":"","&exponentiale;":"","&fallingdotseq;":"","&fcy;":"","&female;":"","&ffilig;":"","&fflig;":"","&ffllig;":"","&ffr;":"","&filig;":"","&fjlig;":"fj","&flat;":"","&fllig;":"","&fltns;":"","&fnof;":"","&fopf;":"","&forall;":"","&fork;":"","&forkv;":"","&fpartint;":"","&frac12":"","&frac12;":"","&frac13;":"","&frac14":"","&frac14;":"","&frac15;":"","&frac16;":"","&frac18;":"","&frac23;":"","&frac25;":"","&frac34":"","&frac34;":"","&frac35;":"","&frac38;":"","&frac45;":"","&frac56;":"","&frac58;":"","&frac78;":"","&frasl;":"","&frown;":"","&fscr;":"","&gE;":"","&gEl;":"","&gacute;":"","&gamma;":"","&gammad;":"","&gap;":"","&gbreve;":"","&gcirc;":"","&gcy;":"","&gdot;":"","&ge;":"","&gel;":"","&geq;":"","&geqq;":"","&geqslant;":"","&ges;":"","&gescc;":"","&gesdot;":"","&gesdoto;":"","&gesdotol;":"","&gesl;":"","&gesles;":"","&gfr;":"","&gg;":"","&ggg;":"","&gimel;":"","&gjcy;":"","&gl;":"","&glE;":"","&gla;":"","&glj;":"","&gnE;":"","&gnap;":"","&gnapprox;":"","&gne;":"","&gneq;":"","&gneqq;":"","&gnsim;":"","&gopf;":"","&grave;":"`","&gscr;":"","&gsim;":"","&gsime;":"","&gsiml;":"","&gt":">","&gt;":">","&gtcc;":"","&gtcir;":"","&gtdot;":"","&gtlPar;":"","&gtquest;":"","&gtrapprox;":"","&gtrarr;":"","&gtrdot;":"","&gtreqless;":"","&gtreqqless;":"","&gtrless;":"","&gtrsim;":"","&gvertneqq;":"","&gvnE;":"","&hArr;":"","&hairsp;":"","&half;":"","&hamilt;":"","&hardcy;":"","&harr;":"","&harrcir;":"","&harrw;":"","&hbar;":"","&hcirc;":"","&hearts;":"","&heartsuit;":"","&hellip;":"","&hercon;":"","&hfr;":"","&hksearow;":"","&hkswarow;":"","&hoarr;":"","&homtht;":"","&hookleftarrow;":"","&hookrightarrow;":"","&hopf;":"","&horbar;":"","&hscr;":"","&hslash;":"","&hstrok;":"","&hybull;":"","&hyphen;":"","&iacute":"","&iacute;":"","&ic;":"","&icirc":"","&icirc;":"","&icy;":"","&iecy;":"","&iexcl":"","&iexcl;":"","&iff;":"","&ifr;":"","&igrave":"","&igrave;":"","&ii;":"","&iiiint;":"","&iiint;":"","&iinfin;":"","&iiota;":"","&ijlig;":"","&imacr;":"","&image;":"","&imagline;":"","&imagpart;":"","&imath;":"","&imof;":"","&imped;":"","&in;":"","&incare;":"","&infin;":"","&infintie;":"","&inodot;":"","&int;":"","&intcal;":"","&integers;":"","&intercal;":"","&intlarhk;":"","&intprod;":"","&iocy;":"","&iogon;":"","&iopf;":"","&iota;":"","&iprod;":"","&iquest":"","&iquest;":"","&iscr;":"","&isin;":"","&isinE;":"","&isindot;":"","&isins;":"","&isinsv;":"","&isinv;":"","&it;":"","&itilde;":"","&iukcy;":"","&iuml":"","&iuml;":"","&jcirc;":"","&jcy;":"","&jfr;":"","&jmath;":"","&jopf;":"","&jscr;":"","&jsercy;":"","&jukcy;":"","&kappa;":"","&kappav;":"","&kcedil;":"","&kcy;":"","&kfr;":"","&kgreen;":"","&khcy;":"","&kjcy;":"","&kopf;":"","&kscr;":"","&lAarr;":"","&lArr;":"","&lAtail;":"","&lBarr;":"","&lE;":"","&lEg;":"","&lHar;":"","&lacute;":"","&laemptyv;":"","&lagran;":"","&lambda;":"","&lang;":"","&langd;":"","&langle;":"","&lap;":"","&laquo":"","&laquo;":"","&larr;":"","&larrb;":"","&larrbfs;":"","&larrfs;":"","&larrhk;":"","&larrlp;":"","&larrpl;":"","&larrsim;":"","&larrtl;":"","&lat;":"","&latail;":"","&late;":"","&lates;":"","&lbarr;":"","&lbbrk;":"","&lbrace;":"{","&lbrack;":"[","&lbrke;":"","&lbrksld;":"","&lbrkslu;":"","&lcaron;":"","&lcedil;":"","&lceil;":"","&lcub;":"{","&lcy;":"","&ldca;":"","&ldquo;":"","&ldquor;":"","&ldrdhar;":"","&ldrushar;":"","&ldsh;":"","&le;":"","&leftarrow;":"","&leftarrowtail;":"","&leftharpoondown;":"","&leftharpoonup;":"","&leftleftarrows;":"","&leftrightarrow;":"","&leftrightarrows;":"","&leftrightharpoons;":"","&leftrightsquigarrow;":"","&leftthreetimes;":"","&leg;":"","&leq;":"","&leqq;":"","&leqslant;":"","&les;":"","&lescc;":"","&lesdot;":"","&lesdoto;":"","&lesdotor;":"","&lesg;":"","&lesges;":"","&lessapprox;":"","&lessdot;":"","&lesseqgtr;":"","&lesseqqgtr;":"","&lessgtr;":"","&lesssim;":"","&lfisht;":"","&lfloor;":"","&lfr;":"","&lg;":"","&lgE;":"","&lhard;":"","&lharu;":"","&lharul;":"","&lhblk;":"","&ljcy;":"","&ll;":"","&llarr;":"","&llcorner;":"","&llhard;":"","&lltri;":"","&lmidot;":"","&lmoust;":"","&lmoustache;":"","&lnE;":"","&lnap;":"","&lnapprox;":"","&lne;":"","&lneq;":"","&lneqq;":"","&lnsim;":"","&loang;":"","&loarr;":"","&lobrk;":"","&longleftarrow;":"","&longleftrightarrow;":"","&longmapsto;":"","&longrightarrow;":"","&looparrowleft;":"","&looparrowright;":"","&lopar;":"","&lopf;":"","&loplus;":"","&lotimes;":"","&lowast;":"","&lowbar;":"_","&loz;":"","&lozenge;":"","&lozf;":"","&lpar;":"(","&lparlt;":"","&lrarr;":"","&lrcorner;":"","&lrhar;":"","&lrhard;":"","&lrm;":"","&lrtri;":"","&lsaquo;":"","&lscr;":"","&lsh;":"","&lsim;":"","&lsime;":"","&lsimg;":"","&lsqb;":"[","&lsquo;":"","&lsquor;":"","&lstrok;":"","&lt":"<","&lt;":"<","&ltcc;":"","&ltcir;":"","&ltdot;":"","&lthree;":"","&ltimes;":"","&ltlarr;":"","&ltquest;":"","&ltrPar;":"","&ltri;":"","&ltrie;":"","&ltrif;":"","&lurdshar;":"","&luruhar;":"","&lvertneqq;":"","&lvnE;":"","&mDDot;":"","&macr":"","&macr;":"","&male;":"","&malt;":"","&maltese;":"","&map;":"","&mapsto;":"","&mapstodown;":"","&mapstoleft;":"","&mapstoup;":"","&marker;":"","&mcomma;":"","&mcy;":"","&mdash;":"","&measuredangle;":"","&mfr;":"","&mho;":"","&micro":"","&micro;":"","&mid;":"","&midast;":"*","&midcir;":"","&middot":"","&middot;":"","&minus;":"","&minusb;":"","&minusd;":"","&minusdu;":"","&mlcp;":"","&mldr;":"","&mnplus;":"","&models;":"","&mopf;":"","&mp;":"","&mscr;":"","&mstpos;":"","&mu;":"","&multimap;":"","&mumap;":"","&nGg;":"","&nGt;":"","&nGtv;":"","&nLeftarrow;":"","&nLeftrightarrow;":"","&nLl;":"","&nLt;":"","&nLtv;":"","&nRightarrow;":"","&nVDash;":"","&nVdash;":"","&nabla;":"","&nacute;":"","&nang;":"","&nap;":"","&napE;":"","&napid;":"","&napos;":"","&napprox;":"","&natur;":"","&natural;":"","&naturals;":"","&nbsp":"","&nbsp;":"","&nbump;":"","&nbumpe;":"","&ncap;":"","&ncaron;":"","&ncedil;":"","&ncong;":"","&ncongdot;":"","&ncup;":"","&ncy;":"","&ndash;":"","&ne;":"","&neArr;":"","&nearhk;":"","&nearr;":"","&nearrow;":"","&nedot;":"","&nequiv;":"","&nesear;":"","&nesim;":"","&nexist;":"","&nexists;":"","&nfr;":"","&ngE;":"","&nge;":"","&ngeq;":"","&ngeqq;":"","&ngeqslant;":"","&nges;":"","&ngsim;":"","&ngt;":"","&ngtr;":"","&nhArr;":"","&nharr;":"","&nhpar;":"","&ni;":"","&nis;":"","&nisd;":"","&niv;":"","&njcy;":"","&nlArr;":"","&nlE;":"","&nlarr;":"","&nldr;":"","&nle;":"","&nleftarrow;":"","&nleftrightarrow;":"","&nleq;":"","&nleqq;":"","&nleqslant;":"","&nles;":"","&nless;":"","&nlsim;":"","&nlt;":"","&nltri;":"","&nltrie;":"","&nmid;":"","&nopf;":"","&not":"","&not;":"","&notin;":"","&notinE;":"","&notindot;":"","&notinva;":"","&notinvb;":"","&notinvc;":"","&notni;":"","&notniva;":"","&notnivb;":"","&notnivc;":"","&npar;":"","&nparallel;":"","&nparsl;":"","&npart;":"","&npolint;":"","&npr;":"","&nprcue;":"","&npre;":"","&nprec;":"","&npreceq;":"","&nrArr;":"","&nrarr;":"","&nrarrc;":"","&nrarrw;":"","&nrightarrow;":"","&nrtri;":"","&nrtrie;":"","&nsc;":"","&nsccue;":"","&nsce;":"","&nscr;":"","&nshortmid;":"","&nshortparallel;":"","&nsim;":"","&nsime;":"","&nsimeq;":"","&nsmid;":"","&nspar;":"","&nsqsube;":"","&nsqsupe;":"","&nsub;":"","&nsubE;":"","&nsube;":"","&nsubset;":"","&nsubseteq;":"","&nsubseteqq;":"","&nsucc;":"","&nsucceq;":"","&nsup;":"","&nsupE;":"","&nsupe;":"","&nsupset;":"","&nsupseteq;":"","&nsupseteqq;":"","&ntgl;":"","&ntilde":"","&ntilde;":"","&ntlg;":"","&ntriangleleft;":"","&ntrianglelefteq;":"","&ntriangleright;":"","&ntrianglerighteq;":"","&nu;":"","&num;":"#","&numero;":"","&numsp;":"","&nvDash;":"","&nvHarr;":"","&nvap;":"","&nvdash;":"","&nvge;":"","&nvgt;":">","&nvinfin;":"","&nvlArr;":"","&nvle;":"","&nvlt;":"<","&nvltrie;":"","&nvrArr;":"","&nvrtrie;":"","&nvsim;":"","&nwArr;":"","&nwarhk;":"","&nwarr;":"","&nwarrow;":"","&nwnear;":"","&oS;":"","&oacute":"","&oacute;":"","&oast;":"","&ocir;":"","&ocirc":"","&ocirc;":"","&ocy;":"","&odash;":"","&odblac;":"","&odiv;":"","&odot;":"","&odsold;":"","&oelig;":"","&ofcir;":"","&ofr;":"","&ogon;":"","&ograve":"","&ograve;":"","&ogt;":"","&ohbar;":"","&ohm;":"","&oint;":"","&olarr;":"","&olcir;":"","&olcross;":"","&oline;":"","&olt;":"","&omacr;":"","&omega;":"","&omicron;":"","&omid;":"","&ominus;":"","&oopf;":"","&opar;":"","&operp;":"","&oplus;":"","&or;":"","&orarr;":"","&ord;":"","&order;":"","&orderof;":"","&ordf":"","&ordf;":"","&ordm":"","&ordm;":"","&origof;":"","&oror;":"","&orslope;":"","&orv;":"","&oscr;":"","&oslash":"","&oslash;":"","&osol;":"","&otilde":"","&otilde;":"","&otimes;":"","&otimesas;":"","&ouml":"","&ouml;":"","&ovbar;":"","&par;":"","&para":"","&para;":"","&parallel;":"","&parsim;":"","&parsl;":"","&part;":"","&pcy;":"","&percnt;":"%","&period;":".","&permil;":"","&perp;":"","&pertenk;":"","&pfr;":"","&phi;":"","&phiv;":"","&phmmat;":"","&phone;":"","&pi;":"","&pitchfork;":"","&piv;":"","&planck;":"","&planckh;":"","&plankv;":"","&plus;":"+","&plusacir;":"","&plusb;":"","&pluscir;":"","&plusdo;":"","&plusdu;":"","&pluse;":"","&plusmn":"","&plusmn;":"","&plussim;":"","&plustwo;":"","&pm;":"","&pointint;":"","&popf;":"","&pound":"","&pound;":"","&pr;":"","&prE;":"","&prap;":"","&prcue;":"","&pre;":"","&prec;":"","&precapprox;":"","&preccurlyeq;":"","&preceq;":"","&precnapprox;":"","&precneqq;":"","&precnsim;":"","&precsim;":"","&prime;":"","&primes;":"","&prnE;":"","&prnap;":"","&prnsim;":"","&prod;":"","&profalar;":"","&profline;":"","&profsurf;":"","&prop;":"","&propto;":"","&prsim;":"","&prurel;":"","&pscr;":"","&psi;":"","&puncsp;":"","&qfr;":"","&qint;":"","&qopf;":"","&qprime;":"","&qscr;":"","&quaternions;":"","&quatint;":"","&quest;":"?","&questeq;":"","&quot":'"',"&quot;":'"',"&rAarr;":"","&rArr;":"","&rAtail;":"","&rBarr;":"","&rHar;":"","&race;":"","&racute;":"","&radic;":"","&raemptyv;":"","&rang;":"","&rangd;":"","&range;":"","&rangle;":"","&raquo":"","&raquo;":"","&rarr;":"","&rarrap;":"","&rarrb;":"","&rarrbfs;":"","&rarrc;":"","&rarrfs;":"","&rarrhk;":"","&rarrlp;":"","&rarrpl;":"","&rarrsim;":"","&rarrtl;":"","&rarrw;":"","&ratail;":"","&ratio;":"","&rationals;":"","&rbarr;":"","&rbbrk;":"","&rbrace;":"}","&rbrack;":"]","&rbrke;":"","&rbrksld;":"","&rbrkslu;":"","&rcaron;":"","&rcedil;":"","&rceil;":"","&rcub;":"}","&rcy;":"","&rdca;":"","&rdldhar;":"","&rdquo;":"","&rdquor;":"","&rdsh;":"","&real;":"","&realine;":"","&realpart;":"","&reals;":"","&rect;":"","&reg":"","&reg;":"","&rfisht;":"","&rfloor;":"","&rfr;":"","&rhard;":"","&rharu;":"","&rharul;":"","&rho;":"","&rhov;":"","&rightarrow;":"","&rightarrowtail;":"","&rightharpoondown;":"","&rightharpoonup;":"","&rightleftarrows;":"","&rightleftharpoons;":"","&rightrightarrows;":"","&rightsquigarrow;":"","&rightthreetimes;":"","&ring;":"","&risingdotseq;":"","&rlarr;":"","&rlhar;":"","&rlm;":"","&rmoust;":"","&rmoustache;":"","&rnmid;":"","&roang;":"","&roarr;":"","&robrk;":"","&ropar;":"","&ropf;":"","&roplus;":"","&rotimes;":"","&rpar;":")","&rpargt;":"","&rppolint;":"","&rrarr;":"","&rsaquo;":"","&rscr;":"","&rsh;":"","&rsqb;":"]","&rsquo;":"","&rsquor;":"","&rthree;":"","&rtimes;":"","&rtri;":"","&rtrie;":"","&rtrif;":"","&rtriltri;":"","&ruluhar;":"","&rx;":"","&sacute;":"","&sbquo;":"","&sc;":"","&scE;":"","&scap;":"","&scaron;":"","&sccue;":"","&sce;":"","&scedil;":"","&scirc;":"","&scnE;":"","&scnap;":"","&scnsim;":"","&scpolint;":"","&scsim;":"","&scy;":"","&sdot;":"","&sdotb;":"","&sdote;":"","&seArr;":"","&searhk;":"","&searr;":"","&searrow;":"","&sect":"","&sect;":"","&semi;":";","&seswar;":"","&setminus;":"","&setmn;":"","&sext;":"","&sfr;":"","&sfrown;":"","&sharp;":"","&shchcy;":"","&shcy;":"","&shortmid;":"","&shortparallel;":"","&shy":"","&shy;":"","&sigma;":"","&sigmaf;":"","&sigmav;":"","&sim;":"","&simdot;":"","&sime;":"","&simeq;":"","&simg;":"","&simgE;":"","&siml;":"","&simlE;":"","&simne;":"","&simplus;":"","&simrarr;":"","&slarr;":"","&smallsetminus;":"","&smashp;":"","&smeparsl;":"","&smid;":"","&smile;":"","&smt;":"","&smte;":"","&smtes;":"","&softcy;":"","&sol;":"/","&solb;":"","&solbar;":"","&sopf;":"","&spades;":"","&spadesuit;":"","&spar;":"","&sqcap;":"","&sqcaps;":"","&sqcup;":"","&sqcups;":"","&sqsub;":"","&sqsube;":"","&sqsubset;":"","&sqsubseteq;":"","&sqsup;":"","&sqsupe;":"","&sqsupset;":"","&sqsupseteq;":"","&squ;":"","&square;":"","&squarf;":"","&squf;":"","&srarr;":"","&sscr;":"","&ssetmn;":"","&ssmile;":"","&sstarf;":"","&star;":"","&starf;":"","&straightepsilon;":"","&straightphi;":"","&strns;":"","&sub;":"","&subE;":"","&subdot;":"","&sube;":"","&subedot;":"","&submult;":"","&subnE;":"","&subne;":"","&subplus;":"","&subrarr;":"","&subset;":"","&subseteq;":"","&subseteqq;":"","&subsetneq;":"","&subsetneqq;":"","&subsim;":"","&subsub;":"","&subsup;":"","&succ;":"","&succapprox;":"","&succcurlyeq;":"","&succeq;":"","&succnapprox;":"","&succneqq;":"","&succnsim;":"","&succsim;":"","&sum;":"","&sung;":"","&sup1":"","&sup1;":"","&sup2":"","&sup2;":"","&sup3":"","&sup3;":"","&sup;":"","&supE;":"","&supdot;":"","&supdsub;":"","&supe;":"","&supedot;":"","&suphsol;":"","&suphsub;":"","&suplarr;":"","&supmult;":"","&supnE;":"","&supne;":"","&supplus;":"","&supset;":"","&supseteq;":"","&supseteqq;":"","&supsetneq;":"","&supsetneqq;":"","&supsim;":"","&supsub;":"","&supsup;":"","&swArr;":"","&swarhk;":"","&swarr;":"","&swarrow;":"","&swnwar;":"","&szlig":"","&szlig;":"","&target;":"","&tau;":"","&tbrk;":"","&tcaron;":"","&tcedil;":"","&tcy;":"","&tdot;":"","&telrec;":"","&tfr;":"","&there4;":"","&therefore;":"","&theta;":"","&thetasym;":"","&thetav;":"","&thickapprox;":"","&thicksim;":"","&thinsp;":"","&thkap;":"","&thksim;":"","&thorn":"","&thorn;":"","&tilde;":"","&times":"","&times;":"","&timesb;":"","&timesbar;":"","&timesd;":"","&tint;":"","&toea;":"","&top;":"","&topbot;":"","&topcir;":"","&topf;":"","&topfork;":"","&tosa;":"","&tprime;":"","&trade;":"","&triangle;":"","&triangledown;":"","&triangleleft;":"","&trianglelefteq;":"","&triangleq;":"","&triangleright;":"","&trianglerighteq;":"","&tridot;":"","&trie;":"","&triminus;":"","&triplus;":"","&trisb;":"","&tritime;":"","&trpezium;":"","&tscr;":"","&tscy;":"","&tshcy;":"","&tstrok;":"","&twixt;":"","&twoheadleftarrow;":"","&twoheadrightarrow;":"","&uArr;":"","&uHar;":"","&uacute":"","&uacute;":"","&uarr;":"","&ubrcy;":"","&ubreve;":"","&ucirc":"","&ucirc;":"","&ucy;":"","&udarr;":"","&udblac;":"","&udhar;":"","&ufisht;":"","&ufr;":"","&ugrave":"","&ugrave;":"","&uharl;":"","&uharr;":"","&uhblk;":"","&ulcorn;":"","&ulcorner;":"","&ulcrop;":"","&ultri;":"","&umacr;":"","&uml":"","&uml;":"","&uogon;":"","&uopf;":"","&uparrow;":"","&updownarrow;":"","&upharpoonleft;":"","&upharpoonright;":"","&uplus;":"","&upsi;":"","&upsih;":"","&upsilon;":"","&upuparrows;":"","&urcorn;":"","&urcorner;":"","&urcrop;":"","&uring;":"","&urtri;":"","&uscr;":"","&utdot;":"","&utilde;":"","&utri;":"","&utrif;":"","&uuarr;":"","&uuml":"","&uuml;":"","&uwangle;":"","&vArr;":"","&vBar;":"","&vBarv;":"","&vDash;":"","&vangrt;":"","&varepsilon;":"","&varkappa;":"","&varnothing;":"","&varphi;":"","&varpi;":"","&varpropto;":"","&varr;":"","&varrho;":"","&varsigma;":"","&varsubsetneq;":"","&varsubsetneqq;":"","&varsupsetneq;":"","&varsupsetneqq;":"","&vartheta;":"","&vartriangleleft;":"","&vartriangleright;":"","&vcy;":"","&vdash;":"","&vee;":"","&veebar;":"","&veeeq;":"","&vellip;":"","&verbar;":"|","&vert;":"|","&vfr;":"","&vltri;":"","&vnsub;":"","&vnsup;":"","&vopf;":"","&vprop;":"","&vrtri;":"","&vscr;":"","&vsubnE;":"","&vsubne;":"","&vsupnE;":"","&vsupne;":"","&vzigzag;":"","&wcirc;":"","&wedbar;":"","&wedge;":"","&wedgeq;":"","&weierp;":"","&wfr;":"","&wopf;":"","&wp;":"","&wr;":"","&wreath;":"","&wscr;":"","&xcap;":"","&xcirc;":"","&xcup;":"","&xdtri;":"","&xfr;":"","&xhArr;":"","&xharr;":"","&xi;":"","&xlArr;":"","&xlarr;":"","&xmap;":"","&xnis;":"","&xodot;":"","&xopf;":"","&xoplus;":"","&xotime;":"","&xrArr;":"","&xrarr;":"","&xscr;":"","&xsqcup;":"","&xuplus;":"","&xutri;":"","&xvee;":"","&xwedge;":"","&yacute":"","&yacute;":"","&yacy;":"","&ycirc;":"","&ycy;":"","&yen":"","&yen;":"","&yfr;":"","&yicy;":"","&yopf;":"","&yscr;":"","&yucy;":"","&yuml":"","&yuml;":"","&zacute;":"","&zcaron;":"","&zcy;":"","&zdot;":"","&zeetrf;":"","&zeta;":"","&zfr;":"","&zhcy;":"","&zigrarr;":"","&zopf;":"","&zscr;":"","&zwj;":"","&zwnj;":""},characters:{"":"&AElig;","&":"&amp;","":"&Aacute;","":"&Abreve;","":"&Acirc;","":"&Acy;","":"&Afr;","":"&Agrave;","":"&Alpha;","":"&Amacr;","":"&And;","":"&Aogon;","":"&Aopf;","":"&af;","":"&angst;","":"&Ascr;","":"&coloneq;","":"&Atilde;","":"&Auml;","":"&ssetmn;","":"&Barv;","":"&doublebarwedge;","":"&Bcy;","":"&because;","":"&bernou;","":"&Beta;","":"&Bfr;","":"&Bopf;","":"&breve;","":"&bump;","":"&CHcy;","":"&copy;","":"&Cacute;","":"&Cap;","":"&DD;","":"&Cfr;","":"&Ccaron;","":"&Ccedil;","":"&Ccirc;","":"&Cconint;","":"&Cdot;","":"&cedil;","":"&middot;","":"&Chi;","":"&odot;","":"&ominus;","":"&oplus;","":"&otimes;","":"&cwconint;","":"&rdquor;","":"&rsquor;","":"&Proportion;","":"&Colone;","":"&equiv;","":"&DoubleContourIntegral;","":"&oint;","":"&complexes;","":"&coprod;","":"&awconint;","":"&Cross;","":"&Cscr;","":"&Cup;","":"&asympeq;","":"&DDotrahd;","":"&DJcy;","":"&DScy;","":"&DZcy;","":"&ddagger;","":"&Darr;","":"&DoubleLeftTee;","":"&Dcaron;","":"&Dcy;","":"&nabla;","":"&Delta;","":"&Dfr;","":"&acute;","":"&dot;","":"&dblac;","`":"&grave;","":"&tilde;","":"&diamond;","":"&dd;","":"&Dopf;","":"&uml;","":"&DotDot;","":"&esdot;","":"&dArr;","":"&lArr;","":"&iff;","":"&xlArr;","":"&xhArr;","":"&xrArr;","":"&rArr;","":"&vDash;","":"&uArr;","":"&vArr;","":"&spar;","":"&downarrow;","":"&DownArrowBar;","":"&duarr;","":"&DownBreve;","":"&DownLeftRightVector;","":"&DownLeftTeeVector;","":"&lhard;","":"&DownLeftVectorBar;","":"&DownRightTeeVector;","":"&rightharpoondown;","":"&DownRightVectorBar;","":"&top;","":"&mapstodown;","":"&Dscr;","":"&Dstrok;","":"&ENG;","":"&ETH;","":"&Eacute;","":"&Ecaron;","":"&Ecirc;","":"&Ecy;","":"&Edot;","":"&Efr;","":"&Egrave;","":"&isinv;","":"&Emacr;","":"&EmptySmallSquare;","":"&EmptyVerySmallSquare;","":"&Eogon;","":"&Eopf;","":"&Epsilon;","":"&Equal;","":"&esim;","":"&rlhar;","":"&expectation;","":"&Esim;","":"&Eta;","":"&Euml;","":"&exist;","":"&exponentiale;","":"&Fcy;","":"&Ffr;","":"&FilledSmallSquare;","":"&squf;","":"&Fopf;","":"&forall;","":"&Fscr;","":"&GJcy;",">":"&gt;","":"&Gamma;","":"&Gammad;","":"&Gbreve;","":"&Gcedil;","":"&Gcirc;","":"&Gcy;","":"&Gdot;","":"&Gfr;","":"&ggg;","":"&Gopf;","":"&geq;","":"&gtreqless;","":"&geqq;","":"&GreaterGreater;","":"&gtrless;","":"&ges;","":"&gtrsim;","":"&Gscr;","":"&gg;","":"&HARDcy;","":"&caron;","^":"&Hat;","":"&Hcirc;","":"&Poincareplane;","":"&hamilt;","":"&quaternions;","":"&boxh;","":"&Hstrok;","":"&bumpeq;","":"&IEcy;","":"&IJlig;","":"&IOcy;","":"&Iacute;","":"&Icirc;","":"&Icy;","":"&Idot;","":"&imagpart;","":"&Igrave;","":"&Imacr;","":"&ii;","":"&Int;","":"&int;","":"&xcap;","":"&ic;","":"&it;","":"&Iogon;","":"&Iopf;","":"&Iota;","":"&imagline;","":"&Itilde;","":"&Iukcy;","":"&Iuml;","":"&Jcirc;","":"&Jcy;","":"&Jfr;","":"&Jopf;","":"&Jscr;","":"&Jsercy;","":"&Jukcy;","":"&KHcy;","":"&KJcy;","":"&Kappa;","":"&Kcedil;","":"&Kcy;","":"&Kfr;","":"&Kopf;","":"&Kscr;","":"&LJcy;","<":"&lt;","":"&Lacute;","":"&Lambda;","":"&Lang;","":"&lagran;","":"&twoheadleftarrow;","":"&Lcaron;","":"&Lcedil;","":"&Lcy;","":"&langle;","":"&slarr;","":"&larrb;","":"&lrarr;","":"&lceil;","":"&lobrk;","":"&LeftDownTeeVector;","":"&downharpoonleft;","":"&LeftDownVectorBar;","":"&lfloor;","":"&leftrightarrow;","":"&LeftRightVector;","":"&dashv;","":"&mapstoleft;","":"&LeftTeeVector;","":"&vltri;","":"&LeftTriangleBar;","":"&trianglelefteq;","":"&LeftUpDownVector;","":"&LeftUpTeeVector;","":"&upharpoonleft;","":"&LeftUpVectorBar;","":"&lharu;","":"&LeftVectorBar;","":"&lesseqgtr;","":"&leqq;","":"&lg;","":"&LessLess;","":"&les;","":"&lsim;","":"&Lfr;","":"&Ll;","":"&lAarr;","":"&Lmidot;","":"&xlarr;","":"&xharr;","":"&xrarr;","":"&Lopf;","":"&swarrow;","":"&searrow;","":"&lsh;","":"&Lstrok;","":"&ll;","":"&Map;","":"&Mcy;","":"&MediumSpace;","":"&phmmat;","":"&Mfr;","":"&mp;","":"&Mopf;","":"&Mu;","":"&NJcy;","":"&Nacute;","":"&Ncaron;","":"&Ncedil;","":"&Ncy;","":"&ZeroWidthSpace;","\n":"&NewLine;","":"&Nfr;","":"&NoBreak;","":"&nbsp;","":"&naturals;","":"&Not;","":"&nequiv;","":"&NotCupCap;","":"&nspar;","":"&notinva;","":"&ne;","":"&nesim;","":"&nexists;","":"&ngtr;","":"&ngeq;","":"&ngeqq;","":"&nGtv;","":"&ntgl;","":"&nges;","":"&ngsim;","":"&nbump;","":"&nbumpe;","":"&ntriangleleft;","":"&NotLeftTriangleBar;","":"&ntrianglelefteq;","":"&nlt;","":"&nleq;","":"&ntlg;","":"&nLtv;","":"&nles;","":"&nlsim;","":"&NotNestedGreaterGreater;","":"&NotNestedLessLess;","":"&nprec;","":"&npreceq;","":"&nprcue;","":"&notniva;","":"&ntriangleright;","":"&NotRightTriangleBar;","":"&ntrianglerighteq;","":"&NotSquareSubset;","":"&nsqsube;","":"&NotSquareSuperset;","":"&nsqsupe;","":"&vnsub;","":"&nsubseteq;","":"&nsucc;","":"&nsucceq;","":"&nsccue;","":"&NotSucceedsTilde;","":"&vnsup;","":"&nsupseteq;","":"&nsim;","":"&nsimeq;","":"&ncong;","":"&napprox;","":"&nsmid;","":"&Nscr;","":"&Ntilde;","":"&Nu;","":"&OElig;","":"&Oacute;","":"&Ocirc;","":"&Ocy;","":"&Odblac;","":"&Ofr;","":"&Ograve;","":"&Omacr;","":"&ohm;","":"&Omicron;","":"&Oopf;","":"&ldquo;","":"&lsquo;","":"&Or;","":"&Oscr;","":"&Oslash;","":"&Otilde;","":"&Otimes;","":"&Ouml;","":"&oline;","":"&OverBrace;","":"&tbrk;","":"&OverParenthesis;","":"&part;","":"&Pcy;","":"&Pfr;","":"&Phi;","":"&Pi;","":"&pm;","":"&primes;","":"&Pr;","":"&prec;","":"&preceq;","":"&preccurlyeq;","":"&prsim;","":"&Prime;","":"&prod;","":"&vprop;","":"&Pscr;","":"&Psi;",'"':"&quot;","":"&Qfr;","":"&rationals;","":"&Qscr;","":"&drbkarow;","":"&reg;","":"&Racute;","":"&Rang;","":"&twoheadrightarrow;","":"&Rarrtl;","":"&Rcaron;","":"&Rcedil;","":"&Rcy;","":"&realpart;","":"&niv;","":"&lrhar;","":"&duhar;","":"&Rho;","":"&rangle;","":"&srarr;","":"&rarrb;","":"&rlarr;","":"&rceil;","":"&robrk;","":"&RightDownTeeVector;","":"&downharpoonright;","":"&RightDownVectorBar;","":"&rfloor;","":"&vdash;","":"&mapsto;","":"&RightTeeVector;","":"&vrtri;","":"&RightTriangleBar;","":"&trianglerighteq;","":"&RightUpDownVector;","":"&RightUpTeeVector;","":"&upharpoonright;","":"&RightUpVectorBar;","":"&rightharpoonup;","":"&RightVectorBar;","":"&reals;","":"&RoundImplies;","":"&rAarr;","":"&realine;","":"&rsh;","":"&RuleDelayed;","":"&SHCHcy;","":"&SHcy;","":"&SOFTcy;","":"&Sacute;","":"&Sc;","":"&Scaron;","":"&Scedil;","":"&Scirc;","":"&Scy;","":"&Sfr;","":"&uparrow;","":"&Sigma;","":"&compfn;","":"&Sopf;","":"&radic;","":"&square;","":"&sqcap;","":"&sqsubset;","":"&sqsubseteq;","":"&sqsupset;","":"&sqsupseteq;","":"&sqcup;","":"&Sscr;","":"&sstarf;","":"&Subset;","":"&subseteq;","":"&succ;","":"&succeq;","":"&succcurlyeq;","":"&succsim;","":"&sum;","":"&Supset;","":"&supset;","":"&supseteq;","":"&THORN;","":"&trade;","":"&TSHcy;","":"&TScy;","\t":"&Tab;","":"&Tau;","":"&Tcaron;","":"&Tcedil;","":"&Tcy;","":"&Tfr;","":"&therefore;","":"&Theta;","":"&ThickSpace;","":"&thinsp;","":"&thksim;","":"&simeq;","":"&cong;","":"&thkap;","":"&Topf;","":"&tdot;","":"&Tscr;","":"&Tstrok;","":"&Uacute;","":"&Uarr;","":"&Uarrocir;","":"&Ubrcy;","":"&Ubreve;","":"&Ucirc;","":"&Ucy;","":"&Udblac;","":"&Ufr;","":"&Ugrave;","":"&Umacr;",_:"&lowbar;","":"&UnderBrace;","":"&bbrk;","":"&UnderParenthesis;","":"&xcup;","":"&uplus;","":"&Uogon;","":"&Uopf;","":"&UpArrowBar;","":"&udarr;","":"&varr;","":"&udhar;","":"&perp;","":"&mapstoup;","":"&nwarrow;","":"&nearrow;","":"&upsih;","":"&Upsilon;","":"&Uring;","":"&Uscr;","":"&Utilde;","":"&Uuml;","":"&VDash;","":"&Vbar;","":"&Vcy;","":"&Vdash;","":"&Vdashl;","":"&xvee;","":"&Vert;","":"&smid;","|":"&vert;","":"&VerticalSeparator;","":"&wreath;","":"&hairsp;","":"&Vfr;","":"&Vopf;","":"&Vscr;","":"&Vvdash;","":"&Wcirc;","":"&xwedge;","":"&Wfr;","":"&Wopf;","":"&Wscr;","":"&Xfr;","":"&Xi;","":"&Xopf;","":"&Xscr;","":"&YAcy;","":"&YIcy;","":"&YUcy;","":"&Yacute;","":"&Ycirc;","":"&Ycy;","":"&Yfr;","":"&Yopf;","":"&Yscr;","":"&Yuml;","":"&ZHcy;","":"&Zacute;","":"&Zcaron;","":"&Zcy;","":"&Zdot;","":"&Zeta;","":"&zeetrf;","":"&integers;","":"&Zscr;","":"&aacute;","":"&abreve;","":"&mstpos;","":"&acE;","":"&acd;","":"&acirc;","":"&acy;","":"&aelig;","":"&afr;","":"&agrave;","":"&aleph;","":"&alpha;","":"&amacr;","":"&amalg;","":"&wedge;","":"&andand;","":"&andd;","":"&andslope;","":"&andv;","":"&angle;","":"&ange;","":"&measuredangle;","":"&angmsdaa;","":"&angmsdab;","":"&angmsdac;","":"&angmsdad;","":"&angmsdae;","":"&angmsdaf;","":"&angmsdag;","":"&angmsdah;","":"&angrt;","":"&angrtvb;","":"&angrtvbd;","":"&angsph;","":"&angzarr;","":"&aogon;","":"&aopf;","":"&apE;","":"&apacir;","":"&approxeq;","":"&apid;","'":"&apos;","":"&aring;","":"&ascr;","*":"&midast;","":"&atilde;","":"&auml;","":"&awint;","":"&bNot;","":"&bcong;","":"&bepsi;","":"&bprime;","":"&bsim;","":"&bsime;","":"&barvee;","":"&barwedge;","":"&bbrktbrk;","":"&bcy;","":"&ldquor;","":"&bemptyv;","":"&beta;","":"&beth;","":"&twixt;","":"&bfr;","":"&xcirc;","":"&xodot;","":"&xoplus;","":"&xotime;","":"&xsqcup;","":"&starf;","":"&xdtri;","":"&xutri;","":"&xuplus;","":"&rbarr;","":"&lozf;","":"&utrif;","":"&dtrif;","":"&ltrif;","":"&rtrif;","":"&blank;","":"&blk12;","":"&blk14;","":"&blk34;","":"&block;","=":"&bne;","":"&bnequiv;","":"&bnot;","":"&bopf;","":"&bowtie;","":"&boxDL;","":"&boxDR;","":"&boxDl;","":"&boxDr;","":"&boxH;","":"&boxHD;","":"&boxHU;","":"&boxHd;","":"&boxHu;","":"&boxUL;","":"&boxUR;","":"&boxUl;","":"&boxUr;","":"&boxV;","":"&boxVH;","":"&boxVL;","":"&boxVR;","":"&boxVh;","":"&boxVl;","":"&boxVr;","":"&boxbox;","":"&boxdL;","":"&boxdR;","":"&boxdl;","":"&boxdr;","":"&boxhD;","":"&boxhU;","":"&boxhd;","":"&boxhu;","":"&minusb;","":"&plusb;","":"&timesb;","":"&boxuL;","":"&boxuR;","":"&boxul;","":"&boxur;","":"&boxv;","":"&boxvH;","":"&boxvL;","":"&boxvR;","":"&boxvh;","":"&boxvl;","":"&boxvr;","":"&brvbar;","":"&bscr;","":"&bsemi;","\\":"&bsol;","":"&bsolb;","":"&bsolhsub;","":"&bullet;","":"&bumpE;","":"&cacute;","":"&cap;","":"&capand;","":"&capbrcup;","":"&capcap;","":"&capcup;","":"&capdot;","":"&caps;","":"&caret;","":"&ccaps;","":"&ccaron;","":"&ccedil;","":"&ccirc;","":"&ccups;","":"&ccupssm;","":"&cdot;","":"&cemptyv;","":"&cent;","":"&cfr;","":"&chcy;","":"&checkmark;","":"&chi;","":"&cir;","":"&cirE;","":"&circ;","":"&cire;","":"&olarr;","":"&orarr;","":"&oS;","":"&oast;","":"&ocir;","":"&odash;","":"&cirfnint;","":"&cirmid;","":"&cirscir;","":"&clubsuit;",":":"&colon;",",":"&comma;","@":"&commat;","":"&complement;","":"&congdot;","":"&copf;","":"&copysr;","":"&crarr;","":"&cross;","":"&cscr;","":"&csub;","":"&csube;","":"&csup;","":"&csupe;","":"&ctdot;","":"&cudarrl;","":"&cudarrr;","":"&curlyeqprec;","":"&curlyeqsucc;","":"&curvearrowleft;","":"&cularrp;","":"&cup;","":"&cupbrcap;","":"&cupcap;","":"&cupcup;","":"&cupdot;","":"&cupor;","":"&cups;","":"&curvearrowright;","":"&curarrm;","":"&cuvee;","":"&cuwed;","":"&curren;","":"&cwint;","":"&cylcty;","":"&dHar;","":"&dagger;","":"&daleth;","":"&hyphen;","":"&rBarr;","":"&dcaron;","":"&dcy;","":"&downdownarrows;","":"&eDDot;","":"&deg;","":"&delta;","":"&demptyv;","":"&dfisht;","":"&dfr;","":"&diams;","":"&gammad;","":"&disin;","":"&divide;","":"&divonx;","":"&djcy;","":"&llcorner;","":"&dlcrop;",$:"&dollar;","":"&dopf;","":"&eDot;","":"&minusd;","":"&plusdo;","":"&sdotb;","":"&lrcorner;","":"&drcrop;","":"&dscr;","":"&dscy;","":"&dsol;","":"&dstrok;","":"&dtdot;","":"&triangledown;","":"&dwangle;","":"&dzcy;","":"&dzigrarr;","":"&eacute;","":"&easter;","":"&ecaron;","":"&eqcirc;","":"&ecirc;","":"&eqcolon;","":"&ecy;","":"&edot;","":"&fallingdotseq;","":"&efr;","":"&eg;","":"&egrave;","":"&eqslantgtr;","":"&egsdot;","":"&el;","":"&elinters;","":"&ell;","":"&eqslantless;","":"&elsdot;","":"&emacr;","":"&varnothing;","":"&emsp13;","":"&emsp14;","":"&emsp;","":"&eng;","":"&ensp;","":"&eogon;","":"&eopf;","":"&epar;","":"&eparsl;","":"&eplus;","":"&epsilon;","":"&varepsilon;","=":"&equals;","":"&questeq;","":"&equivDD;","":"&eqvparsl;","":"&risingdotseq;","":"&erarr;","":"&escr;","":"&eta;","":"&eth;","":"&euml;","":"&euro;","!":"&excl;","":"&fcy;","":"&female;","":"&ffilig;","":"&fflig;","":"&ffllig;","":"&ffr;","":"&filig;",fj:"&fjlig;","":"&flat;","":"&fllig;","":"&fltns;","":"&fnof;","":"&fopf;","":"&pitchfork;","":"&forkv;","":"&fpartint;","":"&half;","":"&frac13;","":"&frac14;","":"&frac15;","":"&frac16;","":"&frac18;","":"&frac23;","":"&frac25;","":"&frac34;","":"&frac35;","":"&frac38;","":"&frac45;","":"&frac56;","":"&frac58;","":"&frac78;","":"&frasl;","":"&sfrown;","":"&fscr;","":"&gtreqqless;","":"&gacute;","":"&gamma;","":"&gtrapprox;","":"&gbreve;","":"&gcirc;","":"&gcy;","":"&gdot;","":"&gescc;","":"&gesdot;","":"&gesdoto;","":"&gesdotol;","":"&gesl;","":"&gesles;","":"&gfr;","":"&gimel;","":"&gjcy;","":"&glE;","":"&gla;","":"&glj;","":"&gneqq;","":"&gnapprox;","":"&gneq;","":"&gnsim;","":"&gopf;","":"&gscr;","":"&gsime;","":"&gsiml;","":"&gtcc;","":"&gtcir;","":"&gtrdot;","":"&gtlPar;","":"&gtquest;","":"&gtrarr;","":"&gvnE;","":"&hardcy;","":"&harrcir;","":"&leftrightsquigarrow;","":"&plankv;","":"&hcirc;","":"&heartsuit;","":"&mldr;","":"&hercon;","":"&hfr;","":"&searhk;","":"&swarhk;","":"&hoarr;","":"&homtht;","":"&larrhk;","":"&rarrhk;","":"&hopf;","":"&horbar;","":"&hscr;","":"&hstrok;","":"&hybull;","":"&iacute;","":"&icirc;","":"&icy;","":"&iecy;","":"&iexcl;","":"&ifr;","":"&igrave;","":"&qint;","":"&tint;","":"&iinfin;","":"&iiota;","":"&ijlig;","":"&imacr;","":"&inodot;","":"&imof;","":"&imped;","":"&incare;","":"&infin;","":"&infintie;","":"&intercal;","":"&intlarhk;","":"&iprod;","":"&iocy;","":"&iogon;","":"&iopf;","":"&iota;","":"&iquest;","":"&iscr;","":"&isinE;","":"&isindot;","":"&isins;","":"&isinsv;","":"&itilde;","":"&iukcy;","":"&iuml;","":"&jcirc;","":"&jcy;","":"&jfr;","":"&jmath;","":"&jopf;","":"&jscr;","":"&jsercy;","":"&jukcy;","":"&kappa;","":"&varkappa;","":"&kcedil;","":"&kcy;","":"&kfr;","":"&kgreen;","":"&khcy;","":"&kjcy;","":"&kopf;","":"&kscr;","":"&lAtail;","":"&lBarr;","":"&lesseqqgtr;","":"&lHar;","":"&lacute;","":"&laemptyv;","":"&lambda;","":"&langd;","":"&lessapprox;","":"&laquo;","":"&larrbfs;","":"&larrfs;","":"&looparrowleft;","":"&larrpl;","":"&larrsim;","":"&leftarrowtail;","":"&lat;","":"&latail;","":"&late;","":"&lates;","":"&lbarr;","":"&lbbrk;","{":"&lcub;","[":"&lsqb;","":"&lbrke;","":"&lbrksld;","":"&lbrkslu;","":"&lcaron;","":"&lcedil;","":"&lcy;","":"&ldca;","":"&ldrdhar;","":"&ldrushar;","":"&ldsh;","":"&leq;","":"&llarr;","":"&lthree;","":"&lescc;","":"&lesdot;","":"&lesdoto;","":"&lesdotor;","":"&lesg;","":"&lesges;","":"&ltdot;","":"&lfisht;","":"&lfr;","":"&lgE;","":"&lharul;","":"&lhblk;","":"&ljcy;","":"&llhard;","":"&lltri;","":"&lmidot;","":"&lmoustache;","":"&lneqq;","":"&lnapprox;","":"&lneq;","":"&lnsim;","":"&loang;","":"&loarr;","":"&xmap;","":"&rarrlp;","":"&lopar;","":"&lopf;","":"&loplus;","":"&lotimes;","":"&lowast;","":"&lozenge;","(":"&lpar;","":"&lparlt;","":"&lrhard;","":"&lrm;","":"&lrtri;","":"&lsaquo;","":"&lscr;","":"&lsime;","":"&lsimg;","":"&sbquo;","":"&lstrok;","":"&ltcc;","":"&ltcir;","":"&ltimes;","":"&ltlarr;","":"&ltquest;","":"&ltrPar;","":"&triangleleft;","":"&lurdshar;","":"&luruhar;","":"&lvnE;","":"&mDDot;","":"&strns;","":"&male;","":"&maltese;","":"&marker;","":"&mcomma;","":"&mcy;","":"&mdash;","":"&mfr;","":"&mho;","":"&micro;","":"&midcir;","":"&minus;","":"&minusdu;","":"&mlcp;","":"&models;","":"&mopf;","":"&mscr;","":"&mu;","":"&mumap;","":"&nGg;","":"&nGt;","":"&nlArr;","":"&nhArr;","":"&nLl;","":"&nLt;","":"&nrArr;","":"&nVDash;","":"&nVdash;","":"&nacute;","":"&nang;","":"&napE;","":"&napid;","":"&napos;","":"&natural;","":"&ncap;","":"&ncaron;","":"&ncedil;","":"&ncongdot;","":"&ncup;","":"&ncy;","":"&ndash;","":"&neArr;","":"&nearhk;","":"&nedot;","":"&toea;","":"&nfr;","":"&nleftrightarrow;","":"&nhpar;","":"&nis;","":"&nisd;","":"&njcy;","":"&nleqq;","":"&nleftarrow;","":"&nldr;","":"&nopf;","":"&not;","":"&notinE;","":"&notindot;","":"&notinvb;","":"&notinvc;","":"&notnivb;","":"&notnivc;","":"&nparsl;","":"&npart;","":"&npolint;","":"&nrightarrow;","":"&nrarrc;","":"&nrarrw;","":"&nscr;","":"&nsub;","":"&nsubseteqq;","":"&nsup;","":"&nsupseteqq;","":"&ntilde;","":"&nu;","#":"&num;","":"&numero;","":"&numsp;","":"&nvDash;","":"&nvHarr;","":"&nvap;","":"&nvdash;","":"&nvge;",">":"&nvgt;","":"&nvinfin;","":"&nvlArr;","":"&nvle;","<":"&nvlt;","":"&nvltrie;","":"&nvrArr;","":"&nvrtrie;","":"&nvsim;","":"&nwArr;","":"&nwarhk;","":"&nwnear;","":"&oacute;","":"&ocirc;","":"&ocy;","":"&odblac;","":"&odiv;","":"&odsold;","":"&oelig;","":"&ofcir;","":"&ofr;","":"&ogon;","":"&ograve;","":"&ogt;","":"&ohbar;","":"&olcir;","":"&olcross;","":"&olt;","":"&omacr;","":"&omega;","":"&omicron;","":"&omid;","":"&oopf;","":"&opar;","":"&operp;","":"&vee;","":"&ord;","":"&oscr;","":"&ordf;","":"&ordm;","":"&origof;","":"&oror;","":"&orslope;","":"&orv;","":"&oslash;","":"&osol;","":"&otilde;","":"&otimesas;","":"&ouml;","":"&ovbar;","":"&para;","":"&parsim;","":"&parsl;","":"&pcy;","%":"&percnt;",".":"&period;","":"&permil;","":"&pertenk;","":"&pfr;","":"&phi;","":"&varphi;","":"&phone;","":"&pi;","":"&varpi;","":"&planckh;","+":"&plus;","":"&plusacir;","":"&pluscir;","":"&plusdu;","":"&pluse;","":"&plussim;","":"&plustwo;","":"&pointint;","":"&popf;","":"&pound;","":"&prE;","":"&precapprox;","":"&prnap;","":"&prnE;","":"&prnsim;","":"&prime;","":"&profalar;","":"&profline;","":"&profsurf;","":"&prurel;","":"&pscr;","":"&psi;","":"&puncsp;","":"&qfr;","":"&qopf;","":"&qprime;","":"&qscr;","":"&quatint;","?":"&quest;","":"&rAtail;","":"&rHar;","":"&race;","":"&racute;","":"&raemptyv;","":"&rangd;","":"&range;","":"&raquo;","":"&rarrap;","":"&rarrbfs;","":"&rarrc;","":"&rarrfs;","":"&rarrpl;","":"&rarrsim;","":"&rightarrowtail;","":"&rightsquigarrow;","":"&ratail;","":"&ratio;","":"&rbbrk;","}":"&rcub;","]":"&rsqb;","":"&rbrke;","":"&rbrksld;","":"&rbrkslu;","":"&rcaron;","":"&rcedil;","":"&rcy;","":"&rdca;","":"&rdldhar;","":"&rdsh;","":"&rect;","":"&rfisht;","":"&rfr;","":"&rharul;","":"&rho;","":"&varrho;","":"&rrarr;","":"&rthree;","":"&ring;","":"&rlm;","":"&rmoustache;","":"&rnmid;","":"&roang;","":"&roarr;","":"&ropar;","":"&ropf;","":"&roplus;","":"&rotimes;",")":"&rpar;","":"&rpargt;","":"&rppolint;","":"&rsaquo;","":"&rscr;","":"&rtimes;","":"&triangleright;","":"&rtriltri;","":"&ruluhar;","":"&rx;","":"&sacute;","":"&scE;","":"&succapprox;","":"&scaron;","":"&scedil;","":"&scirc;","":"&succneqq;","":"&succnapprox;","":"&succnsim;","":"&scpolint;","":"&scy;","":"&sdot;","":"&sdote;","":"&seArr;","":"&sect;",";":"&semi;","":"&tosa;","":"&sext;","":"&sfr;","":"&sharp;","":"&shchcy;","":"&shcy;","":"&shy;","":"&sigma;","":"&varsigma;","":"&simdot;","":"&simg;","":"&simgE;","":"&siml;","":"&simlE;","":"&simne;","":"&simplus;","":"&simrarr;","":"&smashp;","":"&smeparsl;","":"&ssmile;","":"&smt;","":"&smte;","":"&smtes;","":"&softcy;","/":"&sol;","":"&solb;","":"&solbar;","":"&sopf;","":"&spadesuit;","":"&sqcaps;","":"&sqcups;","":"&sscr;","":"&star;","":"&subset;","":"&subseteqq;","":"&subdot;","":"&subedot;","":"&submult;","":"&subsetneqq;","":"&subsetneq;","":"&subplus;","":"&subrarr;","":"&subsim;","":"&subsub;","":"&subsup;","":"&sung;","":"&sup1;","":"&sup2;","":"&sup3;","":"&supseteqq;","":"&supdot;","":"&supdsub;","":"&supedot;","":"&suphsol;","":"&suphsub;","":"&suplarr;","":"&supmult;","":"&supsetneqq;","":"&supsetneq;","":"&supplus;","":"&supsim;","":"&supsub;","":"&supsup;","":"&swArr;","":"&swnwar;","":"&szlig;","":"&target;","":"&tau;","":"&tcaron;","":"&tcedil;","":"&tcy;","":"&telrec;","":"&tfr;","":"&theta;","":"&vartheta;","":"&thorn;","":"&times;","":"&timesbar;","":"&timesd;","":"&topbot;","":"&topcir;","":"&topf;","":"&topfork;","":"&tprime;","":"&utri;","":"&trie;","":"&tridot;","":"&triminus;","":"&triplus;","":"&trisb;","":"&tritime;","":"&trpezium;","":"&tscr;","":"&tscy;","":"&tshcy;","":"&tstrok;","":"&uHar;","":"&uacute;","":"&ubrcy;","":"&ubreve;","":"&ucirc;","":"&ucy;","":"&udblac;","":"&ufisht;","":"&ufr;","":"&ugrave;","":"&uhblk;","":"&ulcorner;","":"&ulcrop;","":"&ultri;","":"&umacr;","":"&uogon;","":"&uopf;","":"&upsilon;","":"&uuarr;","":"&urcorner;","":"&urcrop;","":"&uring;","":"&urtri;","":"&uscr;","":"&utdot;","":"&utilde;","":"&uuml;","":"&uwangle;","":"&vBar;","":"&vBarv;","":"&vangrt;","":"&vsubne;","":"&vsubnE;","":"&vsupne;","":"&vsupnE;","":"&vcy;","":"&veebar;","":"&veeeq;","":"&vellip;","":"&vfr;","":"&vopf;","":"&vscr;","":"&vzigzag;","":"&wcirc;","":"&wedbar;","":"&wedgeq;","":"&wp;","":"&wfr;","":"&wopf;","":"&wscr;","":"&xfr;","":"&xi;","":"&xnis;","":"&xopf;","":"&xscr;","":"&yacute;","":"&yacy;","":"&ycirc;","":"&ycy;","":"&yen;","":"&yfr;","":"&yicy;","":"&yopf;","":"&yscr;","":"&yucy;","":"&yuml;","":"&zacute;","":"&zcaron;","":"&zcy;","":"&zdot;","":"&zeta;","":"&zfr;","":"&zhcy;","":"&zigrarr;","":"&zopf;","":"&zscr;","":"&zwj;","":"&zwnj;"}}}},92642:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numericUnicodeMap={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}},59726:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromCodePoint=String.fromCodePoint||function(e){return String.fromCharCode(Math.floor((e-65536)/1024)+55296,(e-65536)%1024+56320)},t.getCodePoint=String.prototype.codePointAt?function(e,t){return e.codePointAt(t)}:function(e,t){return 1024*(e.charCodeAt(t)-55296)+e.charCodeAt(t+1)-56320+65536},t.highSurrogateFrom=55296,t.highSurrogateTo=56319},33042:function(e,t,r){var n;!function(){"use strict";var o=function e(t){var r,n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element"),o={use_static:!1};function a(e){var t=Object.getPrototypeOf(e);return t?Object.create(t):{}}function i(e,t,r){Object.defineProperty(e,t,{enumerable:!1,configurable:!1,writable:!1,value:r})}function l(e,t){i(e,t,(function(){throw new v("The "+t+" method cannot be invoked on an Immutable data structure.")}))}"object"!=typeof(r=t)||Array.isArray(r)||null===r||void 0!==t.use_static&&(o.use_static=Boolean(t.use_static));var s="__immutable_invariants_hold";function c(e){return"object"!=typeof e||(null===e||Boolean(Object.getOwnPropertyDescriptor(e,s)))}function d(e,t){return e===t||e!=e&&t!=t}function u(e){return!(null===e||"object"!=typeof e||Array.isArray(e)||e instanceof Date)}var p=["setPrototypeOf"],m=p.concat(["push","pop","sort","splice","shift","unshift","reverse"]),f=["keys"].concat(["map","filter","slice","concat","reduce","reduceRight"]),g=p.concat(["setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear"]);function v(e){this.name="MyError",this.message=e,this.stack=(new Error).stack}function h(e,t){for(var r in i(e,s,!0),t)t.hasOwnProperty(r)&&l(e,t[r]);return Object.freeze(e),e}function b(e,t){var r=e[t];i(e,t,(function(){return z(r.apply(e,arguments))}))}function y(e,t,r){var n=r&&r.deep;if(e in this&&(n&&this[e]!==t&&u(t)&&u(this[e])&&(t=z.merge(this[e],t,{deep:!0,mode:"replace"})),d(this[e],t)))return this;var o=x.call(this);return o[e]=z(t),_(o)}v.prototype=new Error,v.prototype.constructor=Error;var E=z([]);function w(e,t,r){var n=e[0];if(1===e.length)return y.call(this,n,t,r);var o,a=e.slice(1),i=this[n];if("object"==typeof i&&null!==i)o=z.setIn(i,a,t);else{var l=a[0];o=""!==l&&isFinite(l)?w.call(E,a,t):L.call(P,a,t)}if(n in this&&i===o)return this;var s=x.call(this);return s[n]=o,_(s)}function _(e){for(var t in f){if(f.hasOwnProperty(t))b(e,f[t])}o.use_static||(i(e,"flatMap",S),i(e,"asObject",M),i(e,"asMutable",x),i(e,"set",y),i(e,"setIn",w),i(e,"update",V),i(e,"updateIn",j),i(e,"getIn",q));for(var r=0,n=e.length;r<n;r++)e[r]=z(e[r]);return h(e,m)}function C(){return new Date(this.getTime())}function S(e){if(0===arguments.length)return this;var t,r=[],n=this.length;for(t=0;t<n;t++){var o=e(this[t],t,this);Array.isArray(o)?r.push.apply(r,o):r.push(o)}return _(r)}function k(e){if(void 0===e&&0===arguments.length)return this;if("function"!=typeof e){var t=Array.isArray(e)?e.slice():Array.prototype.slice.call(arguments);t.forEach((function(e,t,r){"number"==typeof e&&(r[t]=e.toString())})),e=function(e,r){return-1!==t.indexOf(r)}}var r=a(this);for(var n in this)this.hasOwnProperty(n)&&!1===e(this[n],n)&&(r[n]=this[n]);return H(r)}function x(e){var t,r,n=[];if(e&&e.deep)for(t=0,r=this.length;t<r;t++)n.push(I(this[t]));else for(t=0,r=this.length;t<r;t++)n.push(this[t]);return n}function M(e){"function"!=typeof e&&(e=function(e){return e});var t,r={},n=this.length;for(t=0;t<n;t++){var o=e(this[t],t,this),a=o[0],i=o[1];r[a]=i}return H(r)}function I(e){return!e||"object"!=typeof e||!Object.getOwnPropertyDescriptor(e,s)||e instanceof Date?e:z.asMutable(e,{deep:!0})}function A(e,t){for(var r in e)Object.getOwnPropertyDescriptor(e,r)&&(t[r]=e[r]);return t}function N(e,t){if(0===arguments.length)return this;if(null===e||"object"!=typeof e)throw new TypeError("Immutable#merge can only be invoked with objects or arrays, not "+JSON.stringify(e));var r,n,o=Array.isArray(e),i=t&&t.deep,l=t&&t.mode||"merge",s=t&&t.merger;function c(e,n,o){var l,c=z(n[o]),p=s&&s(e[o],c,t),m=e[o];void 0===r&&void 0===p&&e.hasOwnProperty(o)&&d(c,m)||(d(m,l=void 0!==p?p:i&&u(m)&&u(c)?z.merge(m,c,t):c)&&e.hasOwnProperty(o)||(void 0===r&&(r=A(e,a(e))),r[o]=l))}function p(e,t){for(var n in e)t.hasOwnProperty(n)||(void 0===r&&(r=A(e,a(e))),delete r[n])}if(o)for(var m=0,f=e.length;m<f;m++){var g=e[m];for(n in g)g.hasOwnProperty(n)&&c(void 0!==r?r:this,g,n)}else{for(n in e)Object.getOwnPropertyDescriptor(e,n)&&c(this,e,n);"replace"===l&&p(this,e)}return void 0===r?this:H(r)}function O(e,t){var r=t&&t.deep;if(0===arguments.length)return this;if(null===e||"object"!=typeof e)throw new TypeError("Immutable#replace can only be invoked with objects or arrays, not "+JSON.stringify(e));return z.merge(this,e,{deep:r,mode:"replace"})}var T,D,F,P=z({});function L(e,t,r){if(!Array.isArray(e)||0===e.length)throw new TypeError('The first argument to Immutable#setIn must be an array containing at least one "key" string.');var n=e[0];if(1===e.length)return R.call(this,n,t,r);var o,i=e.slice(1),l=this[n];if(o=this.hasOwnProperty(n)&&"object"==typeof l&&null!==l?z.setIn(l,i,t):L.call(P,i,t),this.hasOwnProperty(n)&&l===o)return this;var s=A(this,a(this));return s[n]=o,H(s)}function R(e,t,r){var n=r&&r.deep;if(this.hasOwnProperty(e)&&(n&&this[e]!==t&&u(t)&&u(this[e])&&(t=z.merge(this[e],t,{deep:!0,mode:"replace"})),d(this[e],t)))return this;var o=A(this,a(this));return o[e]=z(t),H(o)}function V(e,t){var r=Array.prototype.slice.call(arguments,2),n=this[e];return z.set(this,e,t.apply(n,[n].concat(r)))}function B(e,t){for(var r=0,n=t.length;null!=e&&r<n;r++)e=e[t[r]];return r&&r==n?e:void 0}function j(e,t){var r=Array.prototype.slice.call(arguments,2),n=B(this,e);return z.setIn(this,e,t.apply(n,[n].concat(r)))}function q(e,t){var r=B(this,e);return void 0===r?t:r}function W(e){var t,r=a(this);if(e&&e.deep)for(t in this)this.hasOwnProperty(t)&&(r[t]=I(this[t]));else for(t in this)this.hasOwnProperty(t)&&(r[t]=this[t]);return r}function U(){return{}}function H(e){return o.use_static||(i(e,"merge",N),i(e,"replace",O),i(e,"without",k),i(e,"asMutable",W),i(e,"set",R),i(e,"setIn",L),i(e,"update",V),i(e,"updateIn",j),i(e,"getIn",q)),h(e,p)}function z(e,t,r){if(c(e)||function(e){return"object"==typeof e&&null!==e&&(60103===e.$$typeof||e.$$typeof===n)}(e)||function(e){return"undefined"!=typeof File&&e instanceof File}(e)||function(e){return"undefined"!=typeof Blob&&e instanceof Blob}(e)||function(e){return e instanceof Error}(e))return e;if(function(e){return"object"==typeof e&&"function"==typeof e.then}(e))return e.then(z);if(Array.isArray(e))return _(e.slice());if(e instanceof Date)return a=new Date(e.getTime()),o.use_static||i(a,"asMutable",C),h(a,g);var a,l=t&&t.prototype,s=(l&&l!==Object.prototype?function(){return Object.create(l)}:U)();if(null==r&&(r=64),r<=0)throw new v("Attempt to construct Immutable from a deeply nested object was detected. Have you tried to wrap an object with circular references (e.g. React element)? See https://github.com/rtfeldman/seamless-immutable/wiki/Deeply-nested-object-was-detected for details.");for(var d in r-=1,e)Object.getOwnPropertyDescriptor(e,d)&&(s[d]=z(e[d],void 0,r));return H(s)}function G(e){return function(){var t=[].slice.call(arguments),r=t.shift();return e.apply(r,t)}}function $(e,t){return function(){var r=[].slice.call(arguments),n=r.shift();return Array.isArray(n)?t.apply(n,r):e.apply(n,r)}}return z.from=z,z.isImmutable=c,z.ImmutableError=v,z.merge=G(N),z.replace=G(O),z.without=G(k),z.asMutable=(T=W,D=x,F=C,function(){var e=[].slice.call(arguments),t=e.shift();return Array.isArray(t)?D.apply(t,e):t instanceof Date?F.apply(t,e):T.apply(t,e)}),z.set=$(R,y),z.setIn=$(L,w),z.update=G(V),z.updateIn=G(j),z.getIn=G(q),z.flatMap=G(S),z.asObject=G(M),o.use_static||(z.static=e({use_static:!0})),Object.freeze(z),z}();void 0===(n=function(){return o}.call(t,r,t,e))||(e.exports=n)}()},79762:function(e,t,r){"use strict";r.d(t,{B:function(){return a}});var n=r(92819),o=r(88763);e=r.hmd(e);const a=({layerModules:t,filterKeyword:r})=>{const a=(0,o.select)("divi/edit-post"),i={},l={},s={};let c=!0,d={};return Object.values(t).forEach((s=>{let d=s.moduleName;if("module"===r&&(d=s.moduleCategory),r===d&&"hidden"!==s.visibility){const r=a.getAncestorModules(s.id,"top-to-bottom"),d=s.id;i[d]={id:d,visibility:"visible",matched:!0,adminLabel:s.adminLabel,expand:!0,moduleName:s.moduleName,moduleCategory:s.moduleCategory},t=Object.fromEntries(Object.entries(t).filter((([e])=>e!==d))),0!==r.length&&Object.values(r).forEach((r=>{if("root"===r.id)return;const a=r.id,i=(0,o.select)("divi/module-library").getModule(r.name),s=(0,n.get)(e,["props","attrs","adminLabel","desktop","value"],i?.title);l[a]={id:a,visibility:"transparent",matched:!1,adminLabel:s,expand:!0,moduleName:r.name,moduleCategory:i.category},t=Object.fromEntries(Object.entries(t).filter((([e])=>e!==a)))})),c=!1}})),Object.values(t).forEach((e=>{const t=e.id;s[t]={id:t,visibility:"hidden",matched:!1,adminLabel:e.adminLabel,expand:e.expand,moduleName:e.moduleName,moduleCategory:e.moduleCategory}})),d={...i,...l,...s},{isFilterEmpty:c,updatedModules:d}}},92819:function(e){"use strict";e.exports=window.lodash},88763:function(e){"use strict";e.exports=window.divi.data},93967:function(e,t){var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=i(e,a(r)))}return e}function a(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)n.call(e,r)&&e[r]&&(t=i(t,r));return t}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e};var n={};!function(){"use strict";r.r(n),r.d(n,{ModalLibraryComponent:function(){return Id},createScopeOptions:function(){return un},modalLibraryMap:function(){return Qs},registerModalLibraryStore:function(){return kd},registerModals:function(){return Nd},useAllModulesWithLabels:function(){return cn},useAvailableModuleTypes:function(){return dn}});var e={};r.r(e),r.d(e,{addModal:function(){return tc},close:function(){return rc},expand:function(){return nc},handleAIResult:function(){return fc},open:function(){return oc},openGroup:function(){return ac},openGroupTab:function(){return ic},openTab:function(){return lc},removeModal:function(){return sc},setAIActiveField:function(){return mc},setAttributes:function(){return cc},setBodySiblingHeight:function(){return dc},setDimension:function(){return uc},setDraggingState:function(){return pc},setIsModalClosing:function(){return gc},setIsResizing:function(){return vc},setLayersViewActiveModuleId:function(){return hc},setLayersViewExpandAll:function(){return bc},setLayersViewFilter:function(){return yc},setLayersViewModule:function(){return Ec},setLayersViewSearch:function(){return wc},setOffset:function(){return _c},setPanelSize:function(){return Cc},setSidebarPosition:function(){return Sc},setTimestamp:function(){return kc}});var t={};r.r(t),r.d(t,{cacheAllAttributeMaps:function(){return $c},getAIActiveField:function(){return Kc},getAIResult:function(){return Zc},getActiveModal:function(){return Dc},getActiveModalNames:function(){return zc},getActiveModals:function(){return Gc},getLayersView:function(){return Jc},getLayersViewActiveModuleId:function(){return Xc},getLayersViewFilterKeyword:function(){return Qc},getLayersViewFilterModule:function(){return ed},getLayersViewModule:function(){return td},getLayersViewSearchKeyword:function(){return rd},getLayersViewSearchModule:function(){return nd},getLayersViewSearchResultCount:function(){return od},getMaximumModalDimensionMinimum:function(){return ad},getModal:function(){return id},getModalLabelsByNames:function(){return ld},getModalOwner:function(){return sd},getModalProperty:function(){return cd},getModals:function(){return dd},getOpenGroupTab:function(){return ud},isAnySectionSelfExpanded:function(){return pd},isGroupOpen:function(){return md},isLayersViewFilterActive:function(){return fd},isLayersViewFilterReset:function(){return gd},isLayersViewFilterResultEmpty:function(){return vd},isLayersViewSearchActive:function(){return hd},isLayersViewSearchResultEmpty:function(){return bd},isModalActive:function(){return yd},isModalClosing:function(){return Ed},isModalDragging:function(){return wd},isModuleEdited:function(){return Cd},shouldSkipAIResult:function(){return Yc}});var o=window.vendor.wp.hooks,a=window.vendor.wp.i18n,i=window.vendor.React,l=r.n(i),s=r(92819),c=window.divi.cloudApp,d=r(88763),u=window.divi.errorBoundary,p=window.divi.modal,m=window.divi.uiLibrary,f=window.divi.window,g=r(93967),v=r.n(g),h=window.divi.constantLibrary;const b=e=>{const{onOptionClick:t,onOptionMouseEnter:r,onOptionMouseLeave:n,selected:o,selectedOption:a,inner:i,sectionColumnType:s}=e,{name:c}=a||{},d=(i?"2_3"===s?h.columnInnerWide:h.columnInner:h.columnRegular).map((e=>{const a=e.split(","),i=a.length,s=a.map(((t,r)=>((e,t,r,n)=>{const[o,a]=r.split("_"),i=`calc(${parseInt(o)/parseInt(a)*100}% - ((2px * ${t-1}) / ${t}))`;return l().createElement("span",{key:`et-vb-column-option-pseudo-icon-part--${e}--${n.toString()}`,className:"et-vb-column-picker-option-pseudo-icon-part",style:{width:i}})})(e,i,t,r)));return l().createElement("button",{key:`et-vb-column-option--${e}`,className:v()({"et-vb-column-picker-option":!0,"et-vb-column-picker-option--selected":e===c,"et-vb-column-picker-option--column-selected":e===o}),type:"button","data-column-layout":e,value:"divi/row",onClick:f.handleOnClickFallback,onMouseEnter:r,onMouseLeave:n,onMouseDown:t},l().createElement("span",{className:"et-vb-column-picker-option-pseudo-icon"},s))}));return l().createElement("div",{className:"et-vb-column-picker-options"},d)},y=(e,t)=>{if("add-from-library"!==t&&"your-saved-layouts"!==t)return null;return[{name:"library-import",label:"",tooltipId:"library-import",tooltipText:(0,a.__)("Import","et_builder"),iconName:"divi/portability",iconSize:12,iconColor:"#326BFF",visible:!0,onButtonClick:e=>{e.preventDefault(),e.stopPropagation();const t=window.ETCloudApp.getActiveFolderName(),r=(0,a.__)("My Library","et_builder")===t||""===t?"My":`${t}'s`;(0,d.dispatch)("divi/modal-library").open({name:"divi/portability",tab:"import",attributes:{layoutContent:null,isCloudAppAction:!0,isCloudEnabled:!!f.topWindow.jQuery(".et-cloud-app-status-on").length,showTabs:!1,itemName:"",sharedCloudName:r,afterPortabilityClose:()=>{(0,d.dispatch)("divi/modal-library").close({name:"divi/portability"}),(0,d.dispatch)("divi/modal-library").setAttributes({name:"divi/portability",tab:"export",attributes:{isCloudAppAction:!1,showTabs:!0}}),window.ETCloudApp.emitSignal({signal:"finishDownload",data:{}})}}})}}]};var E=window.divi.fieldLibrary,w=window.divi.iconLibrary;const _=e=>{const{moduleCount:t={},moduleFilter:r,moduleFolderList:n,selectedOption:o,onFilterOptionChange:i,onFilterOptionKeyDown:c,onOptionMouseEnter:d,onOptionMouseLeave:u,onOptionClick:p,themeBuilderLayout:m="postContent"}=e,{name:g}=o||{},h=l().createElement(E.Text,{name:"filter-option",className:"et-vb-module-picker-filter-option",onChange:i,onKeyDown:c,value:r,autofocus:!0,showPlaceholderOnEmpty:!0,defaultValue:(0,a.__)("Search for a module"),renderBefore:()=>l().createElement(w.IconSvg,{name:"divi/search",size:8,viewBox:"2 2 16 16"})}),b=(0,s.values)(n).map((e=>{const r=(0,s.get)(e,"moduleIcon",(0,s.get)(e,"icon","")),n="path"in e?e?.path:"",o=""!==n?`${n}/${e.name}`:e.name,a=v()({"et-vb-module-picker-option":!0,"et-vb-module-picker-option--folder":(0,s.has)(e,"path"),"et-vb-module-picker-option--selected":o===g});if("appearance"in e){const{appearance:r}=e;if(r?.themeBuilderLayouts&&!(0,s.includes)(r?.themeBuilderLayouts,m))return null;if("number"==typeof r.multiple||!1===r.multiple){const e="number"==typeof r.multiple?r.multiple:1;let n=t?.[o]?.[m]??0;if("multipleAliases"in r&&(0,s.forEach)(r.multipleAliases,(e=>{n+=t?.[e]?.[m]??0})),n>=e)return null}}return l().createElement("button",{type:"button",key:`module-picker-option-${o}`,className:a,value:o,onClick:f.handleOnClickFallback,onMouseEnter:d,onMouseLeave:u,onMouseDown:p},(i=r,l().createElement(w.IconSvg,{name:i,size:16,viewBox:"0 0 16 16",fallbackName:"divi/module-wc-stock"})),e.title);var i}));return l().createElement("div",{className:"et-vb-module-picker-options"},h,b)},C=e=>{const{onOptionClick:t,showOnlySpecialtySection:r}=e,n=[{name:"regular",label:(0,a.__)("Regular","et_builder")},{name:"specialty",label:(0,a.__)("Specialty","et_builder")},{name:"fullwidth",label:(0,a.__)("Fullwidth","et_builder")}].filter((e=>!r||"specialty"===e.name)).map((e=>l().createElement("button",{type:"button",key:`et-vb-section-picker-option--${e.name}`,className:v()(["et-vb-section-picker-option",`et-vb-section-picker-option--${e.name}`]),value:e.name,onClick:f.handleOnClickFallback,onMouseDown:t},l().createElement("span",{className:"et-vb-section-picker-option-label"},e.label))));return l().createElement("div",{className:"et-vb-section-picker-options"},n)},S=({selectedOption:e,onOptionClick:t,onOptionMouseEnter:r,onOptionMouseLeave:n})=>{const{name:o,position:a}=e||{},i=(0,s.map)(h.columnSpecialty,(e=>{const i=`${e.structure}--${e.position}`;return l().createElement("button",{type:"button",key:`et-vb-specialty-section-picker-option--${i}`,className:v()({"et-vb-specialty-section-picker-option":!0,"et-vb-specialty-section-picker-option--selected":e.structure===o&&e.position===a}),value:e.structure,"data-position":e.position,onClick:f.handleOnClickFallback,onMouseEnter:r,onMouseLeave:n,onMouseDown:t},l().createElement("span",{className:"et-vb-specialty-section-picker-option-pseudo-icon"},l().createElement("span",{className:"et-vb-specialty-section-picker-option-pseudo-icon-label"},e.structure),((e,t)=>{const r=e.split(","),n=t.split(","),o=r.length;return l().createElement("span",{className:"et-vb-specialty-section-picker-option-pseudo-icon"},r.map(((t,r)=>{const a="0"===n[r],i=v()({"et-vb-specialty-section-picker-option-pseudo-icon-part":!0,"et-vb-specialty-section-picker-option-pseudo-icon-part--column-single":a,"et-vb-specialty-section-picker-option-pseudo-icon-part--column-has-row":!a}),s=`et-vb-specialty-section-picker-pseudo-icon-part--${e}-${r}`,[c,d]=t.split("_"),u=`calc(${parseInt(c)/parseInt(d)*100}% - ((5px * ${o-1}) / ${o}))`;return l().createElement("span",{className:i,"data-column-type":t,key:s,style:{width:u}},a?null:l().createElement("span",{className:i,"data-column-type":t,key:s},l().createElement("span",{className:"et-vb-specialty-section-picker-option-pseudo-icon-part--row-inner"},l().createElement("span",{className:"et-vb-specialty-section-picker-option-pseudo-icon-part--column-inner","data-column-type":"4_4"})),l().createElement("span",{className:"et-vb-specialty-section-picker-option-pseudo-icon-part--row-inner"},l().createElement("span",{className:"et-vb-specialty-section-picker-option-pseudo-icon-part--column-inner","data-column-type":"1_2"}),l().createElement("span",{className:"et-vb-specialty-section-picker-option-pseudo-icon-part--column-inner","data-column-type":"1_2"}))))})))})(e.structure,e.position)))}));return l().createElement("div",{className:"et-vb-specialty-section-picker-options"},i)};const k=/[\r\n%#()<>?[\\\]^`{|}]/g,x=new Map;function M({name:e,svgDefinition:t,fillColor:r="",strokeColor:n="",escape:o=!1}){const a=`${e}|${r}|${n}|${o}`;if(x.has(a))return x.get(a);let i=function(e,t,r){const{viewBox:n,elements:o}=e,a=o.map((e=>"path"===e.type?`<path d="${e.d}" fill="${t}" />`:"rect"===e.type?e.isFill?`<rect x="${e.x}" y="${e.y}" width="${e.width}" height="${e.height}" fill="${t}" class="et-vb-svg-nofill" />`:`<rect x="${e.x}" y="${e.y}" width="${e.width}" height="${e.height}" fill="none" stroke="${r}" class="et-vb-svg-nofill" />`:""));return`<svg width="${n.split(" ")[2]}" height="${n.split(" ")[3]}" viewBox="${n}" xmlns="http://www.w3.org/2000/svg">${a.join("")}</svg>`}(t,r,n);return o&&(i=((e,t="double")=>(e=(e=(e="double"===t?e.replace(/"/g,"'"):e.replace(/'/g,'"')).replace(/>\s+</g,"><")).replace(/\s{2,}/g," ")).replace(k,encodeURIComponent))(i,"double")),x.set(a,i),i}const I={"equal-columns":(0,a.__)("Equal Columns","et_builder"),"offset-columns":(0,a.__)("Offset Columns","et_builder"),"multi-row-grids":(0,a.__)("Multi-Row Grids","et_builder"),"multi-column-grids":(0,a.__)("Multi-Column Grids","et_builder")},A=({className:e="",value:t,onChange:r,fillColor:n="#D2D7E4",strokeColor:o="#326BFF",layoutType:a="section"})=>l().createElement("div",{className:v()(["et-vb-row-picker",`et-vb-row-picker--${a}`,e])},Object.keys(h.premadeGrids).map(((e,i,s)=>{const{items:c}=h.premadeGrids[e];return l().createElement("div",{key:e,className:"et-vb-row-picker__group"},l().createElement("h4",{className:"et-vb-row-picker__group-title"},I[e]),l().createElement("div",{className:"et-vb-row-picker__options-grid"},Object.values(c).map((e=>l().createElement("button",{key:e.name,type:"button",className:v()("et-vb-row-picker__option",`et-vb-row-picker__option--${a}`,{"et-vb-row-picker__option--selected":t===e.name}),onClick:r,"aria-label":e.name,"data-column-layout":e.name},l().createElement("div",{className:"et-vb-row-picker__option-preview",dangerouslySetInnerHTML:{__html:M({name:e.name,svgDefinition:e.svg,fillColor:n,strokeColor:o})}}))))),i<s.length-1&&l().createElement("div",{className:"et-vb-row-picker__divider"}))}))),N="divi/row-picker";A.fieldName=N;const O=e=>{const{name:t,onChange:r=(()=>{}),value:n="",fillColor:o="#D2D7E4",strokeColor:a="#326BFF",layoutType:l="section",...s}=e,c={...s,name:t,value:n,onChange:r,fillColor:o,strokeColor:a,layoutType:l};return(0,i.createElement)(A,c)};O.fieldName=N;const T="divi/add-module",D=["add-module","add-nested-row","add-from-library"],F=({name:e,tab:t,moduleFolderList:r,moduleFolder:n,moduleFilter:o,selectedOption:g,parentModule:v,moduleCount:h,moduleType:E,onButtonClick:w,onAddRowButtonClick:k,onBackButtonClick:x,onFilterOptionChange:M,onOptionKeyDown:I,onOptionMouseEnter:A,onOptionMouseLeave:N,adminBarHeight:T,themeBuilderLayout:F,topWindowHeight:P,topWindowWidth:L,openTab:R,onCloudUseItem:V,templateType:B,userCanAddFromLibrary:j,offset:q,dimension:W,loadAISectionModal:U,isDiviAIEnabled:H,isInsideRegularSection:z})=>{const[G,$]=(0,i.useState)(!0),[K,Z]=(0,i.useState)((0,a.__)("Layout Details","et_builder")),[Y,J]=(0,i.useState)(null),X="specialty-section"===E,Q="section"===E,ee="row"===E,te="row-inner"===E,re="module"===E,ne=re&&z,oe=window.DiviDevFlags?.experiments?.flexbox,ae=t||"add-module";j||D.filter((e=>"add-from-library"!==e));const ie=(e,t)=>{$(e),Z(t||(0,a.__)("Layout Details","et_builder"))},le=G||"add-from-library"!==ae,{builderBarWidth:se,pageBarHeight:ce,sidebarLeftWidth:de,sidebarRightWidth:ue}=(0,d.useSelect)((e=>({pageBarHeight:e("divi/app-ui").getElementProperty({elementName:"pageBar",propertyGroup:"dimension",propertyName:"height"}),builderBarWidth:e("divi/app-ui").getElementProperty({elementName:"builderBar",propertyGroup:"dimension",propertyName:"width"}),sidebarLeftWidth:e("divi/app-ui").getElementProperty({elementName:"sidebarLeft",propertyGroup:"dimension",propertyName:"width"}),sidebarRightWidth:e("divi/app-ui").getElementProperty({elementName:"sidebarRight",propertyGroup:"dimension",propertyName:"width"})}))),pe=e=>"add-from-library"===e?(0,a.__)("Add From Library","et_builder"):"add-nested-row"===e?(0,a.__)("New Row","et_builder"):Q?(0,a.__)("New Section","et_builder"):ee||te?(0,a.__)("New Row","et_builder"):(0,a.__)("New Module","et_builder"),me=()=>{const e=W.height;if("add-from-library"===ae)return P-(T+ce+64);if(re){let t=P-(q.top+T+150);return"root"===v?.parent?e:"number"==typeof W.height&&W.height<=q.top&&q.top>P/2?(t=q.top-T-ce,t):"number"==typeof t&&"number"==typeof e&&t<e?e:t}if(X)return 277;if(Q){if(H){let e=P-(q.top+T+150);return"number"==typeof W.height&&W.height<=q.top&&q.top>P/2?(e=q.top-T-ce,e):oe?e:205}return 151}return te?147:ee?411:e},fe=()=>{const e=(()=>{switch(E){case"section":case"specialty-section":return"section";case"row":case"row-inner":return"row";default:return"module"}})();if("section"===e)return l().createElement(c.CloudAppContainer,{context:"section",libraryDataTypeToFetch:["section"],onCloudPageChanged:ie,onCloudUseItem:V,backButton:Y});if("row"===e){if(te){const e=(0,s.get)(v,["props","attrs","module","advanced","type","desktop","value"],"");if(e){const t=4===Number.parseInt(e)?["4_4","1_2,1_2","1_3,1_3,1_3","1_4,1_4,1_4,1_4"]:["4_4","1_2,1_2","1_3,1_3,1_3"];return l().createElement(c.CloudAppContainer,{context:"row",libraryDataTypeToFetch:["row"],permanentFilter:{property:"row_layout",value:t},onCloudPageChanged:ie,onCloudUseItem:V,backButton:Y})}}return l().createElement(c.CloudAppContainer,{context:"row",libraryDataTypeToFetch:["row"],onCloudPageChanged:ie,onCloudUseItem:V,backButton:Y})}let t="regular";return"fullwidth"===(0,s.get)(v,["props","attrs","module","advanced","type","desktop","value"],"regular")&&(t="fullwidth"),l().createElement(c.CloudAppContainer,{context:"module",libraryDataTypeToFetch:["module"],permanentFilter:{property:"width",value:t},onCloudPageChanged:ie,onCloudUseItem:V,backButton:Y})},ge=e=>"add-from-library"===e?fe():"add-nested-row"===e?l().createElement(b,{onOptionClick:k,onOptionMouseEnter:A,onOptionMouseLeave:N,inner:te,sectionColumnType:"4_4",selectedOption:g}):(()=>{if(X)return l().createElement(S,{selectedOption:g,onOptionClick:w,onOptionMouseEnter:A,onOptionMouseLeave:N});if(Q){const e="specialty_section"===B,t=()=>{window.DiviDevFlags?.experiments?.flexbox&&alert("This feature is not developed for flexbox yet!")};return oe?l().createElement(l().Fragment,null,l().createElement(O,{onChange:k,layoutType:"section"}),H&&l().createElement(m.DiviAiButton,{className:"et-vb-modal-section-ai-button et-vb-button et-vb-button--secondary",title:(0,a.__)("Generate Section With AI","et_builder"),onClick:t})):l().createElement(l().Fragment,null,l().createElement(C,{showOnlySpecialtySection:e,onOptionClick:w}),H&&l().createElement(m.DiviAiButton,{className:"et-vb-modal-section-ai-button et-vb-button et-vb-button--secondary",title:(0,a.__)("Generate Section With AI","et_builder"),onClick:U}))}if(ee||te){const e=te?(0,s.get)(v,["props","attrs","module","advanced","type","desktop","value"]):"";return oe?l().createElement(O,{onChange:k,layoutType:"row"}):l().createElement(b,{onOptionClick:k,onOptionMouseEnter:A,onOptionMouseLeave:N,inner:te,sectionColumnType:e,selectedOption:g})}return l().createElement(_,{moduleCount:h,moduleFolderList:r,moduleFilter:o,selectedOption:g,onFilterOptionChange:M,onFilterOptionKeyDown:I,onOptionMouseEnter:A,onOptionMouseLeave:N,onOptionClick:w,themeBuilderLayout:F})})();return(0,i.useEffect)((()=>{J(G?null:[f.topWindow.document.querySelector(".et-vb-modal-header-button--back-to-parent"),f.topWindow.document.querySelector(".et-vb-modal-tab:not(.et-vb-modal-tab--active)")])}),[G]),(0,i.useEffect)((()=>{$(!0),Z(pe(ae))}),[ae]),l().createElement(u.ErrorBoundary,{key:"et-vb-divi-modals--add-module",componentName:"et-vb-divi-modals--add-module"},l().createElement(p.WrapperContainer,{snappable:!1,expandable:!1,caret:!0,caretStaysOnAppWindowClickPosition:"add-from-library"!==ae,modalName:e,modalActiveTab:ae,dimension:{width:"add-from-library"===ae?L-(se+de+ue+64):(Q||ee)&&oe?442:W.width,height:me()}},l().createElement(p.Header,{name:le?Q?(0,a.__)("Insert Section","et_builder"):ee||te?(0,a.__)("Insert Row","et_builder"):ne?(0,a.__)("Insert Module Or Row","et_builder"):(0,a.__)("Insert Module","et_builder"):K,backButton:!le||""!==n,onClickBackButton:e=>{le?x(e):$(!0)},customButtons:y(0,ae)}),l().createElement(p.Tabs,null,D.map((e=>{if("add-nested-row"===e&&!ne)return null;const t=e===ae;return l().createElement(p.Tab,{key:e,onClick:()=>R(e),active:t},pe(e))}))),l().createElement(p.BodyContainer,null,D.map((e=>{if("add-nested-row"===e&&!ne)return null;const t=["et-vb-modal-panel",`et-vb-modal-panel--${e}`,`et-vb-modal-panel--${E}`];return e===ae&&t.push("et-vb-active"),l().createElement("div",{key:e,className:t.join(" ")},ge(e))})))))};var P=window.divi.hooks,L=window.divi.keyboardShortcuts,R=window.divi.moduleUtils;const V=e=>{(0,d.dispatch)("divi/modal-library").openTab({name:T,tabName:e})},B=e=>{const{owner:t}=e,[r,n]=(0,i.useState)((0,d.select)("divi/edit-post").getSpecialtySectionStatus()),[l,c]=(0,i.useState)(""),[u,p]=(0,i.useState)(""),[m,g]=(0,i.useState)(0),[v,b]=(0,i.useState)({name:"",position:""}),{adminBarHeight:y,attributes:E,bodySiblingHeight:w,folderList:_,isAddRow:C,isAddRowInner:S,isAddSection:k,isInsideRegularSection:x,loadPlaceholderContent:M,moduleCount:I,moduleList:A,parentModule:N,themeBuilderLayout:O,topWindowHeight:B,topWindowWidth:j,templateType:q,userCanAddFromLibrary:W,isDiviAIEnabled:U,builderVersion:H,parentModuleAttrs:z}=(0,d.useSelect)((e=>{const r=e("divi/edit-post").getModule(t),n=e("divi/modal-library").getModalProperty({modalName:"divi/add-module",property:"attributes"}),o="inside"===(n?.position??"after")?r:(0,d.select)("divi/edit-post").getParentModule(t),a=(0,s.get)(o,["props","attrs"])?(0,s.get)(o,["props","attrs"]).asMutable({deep:!0}):{},i=e("divi/module-library").getChildModules({moduleName:(0,s.get)(o,"name"),moduleAttrs:a,moduleFolder:l,moduleFilter:u});return{adminBarHeight:e("divi/app-ui").getElementProperty({elementName:"adminBar",propertyName:"height",propertyGroup:"dimension"}),builderVersion:e("divi/settings").getSetting(["builderVersion"]),attributes:n,bodySiblingHeight:e("divi/modal-library").getModalProperty({modalName:"divi/module",property:"bodySiblingHeight"}),folderList:""===u?e("divi/module-library").getFolders(l,a):{},isAddRow:(0,s.isEqual)(i,{"divi/row":e("divi/module-library").getModule("divi/row")}),isAddRowInner:(0,s.isEqual)(i,{"divi/row-inner":e("divi/module-library").getModule("divi/row-inner")}),isAddSection:(0,s.isEqual)(i,{"divi/section":e("divi/module-library").getModule("divi/section")}),isInsideRegularSection:e("divi/edit-post").isSectionOrInsideSection({moduleId:t,type:"regular"}),loadPlaceholderContent:e("divi/app-preferences").get(["module","dummyContent"]),module:r,moduleCount:e("divi/module").getModuleCount(),moduleList:i,parentModule:o,parentModuleAttrs:a,themeBuilderLayout:e("divi/settings").getSetting(["themeBuilder","layout"]),topWindowHeight:e("divi/app-ui").getWindow("height","top"),topWindowWidth:e("divi/app-ui").getWindow("width","top"),templateType:e("divi/settings").getSetting(["layout","templateType"]),userCanAddFromLibrary:e("divi/settings").checkRolePermission("divi_library")&&e("divi/settings").checkRolePermission("add_library"),isDiviAIEnabled:e("divi/settings").checkRolePermission("divi_ai")}}),[l,u,m,t]),G=(0,s.get)(E,"position","after");W||D.filter((e=>"add-from-library"!==e));const $=(0,i.useMemo)((()=>Object.fromEntries(Object.entries(A).filter((([e])=>{const t=e.split("/")[1];return(0,d.select)("divi/settings").checkRolePermission(t)})))),[A]);let K=(0,s.keyBy)((0,s.orderBy)({...$,..._},[e=>"divi/group"===e.name?0:1,"title"]),"name");const Z={moduleFolder:l,moduleFilter:u,moduleName:(0,s.get)(N,"name"),moduleAttrs:z};K=(0,P.applyFilters)("divi.modalLibrary.addModule.moduleList",K,Z);const Y=r?h.columnSpecialty.map((e=>`${e.structure}|${e.position}`)):C?h.columnRegular:S?"2_3"===(0,s.get)(N,["props","attrs","module","advanced","type","desktop","value"])?h.columnInnerWide:h.columnInner:Object.keys(K),J=r?"specialty-section":k?"section":C?"row":S?"row-inner":"module",X=e=>{e.preventDefault();const r=e.currentTarget?.getAttribute("data-column-layout");(0,R.isPremadeGrid)(r)?(0,d.dispatch)("divi/edit-post").addGrid({id:t,position:G,template:r,isAddSection:k}):(0,d.dispatch)("divi/edit-post").addRow(t,G,r,S),(0,d.dispatch)("divi/modal-library").close({name:T})},Q=e=>{e.preventDefault();const r=(0,s.get)(e,"target.value",""),n=(0,d.select)("divi/edit-post").getParentModule(t).getIn(["children"]),a=r.startsWith("divi/shortcode-module/");if((0,s.has)(_,r))return void c(r);((e,t,r="after",n=!0)=>{if(t.startsWith("divi/shortcode-module/"))return void(0,o.doAction)("divi.modalLibrary.addModule.addShortcodeModule",e,t,r);const a=(0,d.select)("divi/module-library").getModule(t)?.placeholderContent??{},i=(0,d.select)("divi/settings").getSetting(["builderVersion"]),l={attrs:(0,s.merge)({},n?a:{},{builderVersion:i})};(0,d.dispatch)("divi/edit-post").addModule(e,t,l,r),(0,d.dispatch)("divi/modal-library").close({name:T})})(t,r,G,M);const i=(0,d.select)("divi/edit-post").getParentModule(t).getIn(["children"]),l=(0,d.select)("divi/edit-post").getModule(t).getIn(["children"]);let u=1===l.length?l[0]:t;1===(0,s.difference)(i,n).length&&(u=(0,s.difference)(i,n).join()),"divi/group"===r?(0,d.dispatch)("divi/edit-post").addModuleGroup(u):(0,d.dispatch)("divi/modal-library").open({owner:u,name:a?"divi/module-shortcode":"divi/module"})},ee=r?e=>{e.preventDefault();const r=(0,s.get)(e,"target.value",""),n=e.currentTarget.getAttribute("data-position");(0,d.dispatch)("divi/edit-post").addSpecialtySection(t,"after",r,n),(0,d.dispatch)("divi/modal-library").close({name:T})}:k?e=>{e.preventDefault();const r=(0,s.get)(e,"target.value","");if("specialty"===r)return void n(!0);const o=(0,s.includes)(["fullwidth","specialty"],r)?{attrs:{builderVersion:H,module:{advanced:{type:{desktop:{value:r}}}}}}:{attrs:{builderVersion:H}};(0,d.dispatch)("divi/edit-post").addModule(t,"divi/section",o,"after"),(0,d.dispatch)("divi/modal-library").close({name:T})}:C||S?X:Q,te=e=>{"Enter"===e.key?(()=>{if(!v.name)return;const e=v.position?`button[value="${v.name}"][data-position="${v.position}"]`:`button[value="${v.name}"]`;f.topWindow.document.querySelector(e).click()})():"Escape"===e.key?(0,d.dispatch)("divi/modal-library").close({name:T}):["ArrowUp","ArrowRight","ArrowDown","ArrowLeft"].includes(e.key)&&(e=>{const t=r||C||S?3:2,n=v.position?`${v.name}|${v.position}`:v.name,o=Y.indexOf(n);let a=-1;switch(e){case"ArrowUp":a=o>=0?o-t:0;break;case"ArrowRight":a=o>=0?o+1:0;break;case"ArrowDown":a=o>=0?o+t:0;break;case"ArrowLeft":a=o>=0?o-1:0}if(a<0||a>=Y.length||!Y[a])return;const i=Y[a].split("|"),l=i[0],s=i[1]||"";b({name:l,position:s||""});const c=s?`button[value="${l}"][data-position="${s}"]`:`button[value="${l}"]`;f.topWindow.document.querySelector(c).scrollIntoView({behavior:"auto",block:"center"})})(e.key)},re=()=>{if((0,d.select)("divi/modal-library").isModalActive(T)){const e=(0,d.select)("divi/modal-library").getModal(T).tab||D[0],t=D.indexOf(e);if(-1!==t){const e=(t+1)%D.length,r=D[e];r&&V(r)}}};return(0,i.useEffect)((()=>{const e=(({onOptionKeyDown:e,onSwitchTab:t})=>[{name:`switchTab--${T}`,label:(0,a.__)("Switch Tab","et_builder"),keys:["Shift","Tab"],category:"modal",action:()=>t()},{name:"optionNavigation--up",label:(0,a.__)("Option Move Up","et_builder"),keys:["ArrowUp"],category:"modal",action:()=>e({key:"ArrowUp"})},{name:"optionNavigation--right",label:(0,a.__)("Option Move Right","et_builder"),keys:["ArrowRight"],category:"modal",action:()=>e({key:"ArrowRight"})},{name:"optionNavigation--down",label:(0,a.__)("Option Move Down","et_builder"),keys:["ArrowDown"],category:"modal",action:()=>e({key:"ArrowDown"})},{name:"optionNavigation--left",label:(0,a.__)("Option Move Left","et_builder"),keys:["ArrowLeft"],category:"modal",action:()=>e({key:"ArrowLeft"})},{name:"optionNavigation--enter",label:(0,a.__)("Option Enter","et_builder"),keys:["Enter"],category:"modal",action:()=>e({key:"Enter"})}])({onOptionKeyDown:te,onSwitchTab:re});return(0,L.registerShortcuts)(e),()=>{(0,L.unregisterShortcuts)(e.map((e=>e.name)))}}),[v,r]),(0,i.useEffect)((()=>{const e=(0,s.head)((0,s.values)(K));b({name:"",position:null}),e&&u.length>=2&&b({name:e.name||"",position:null})}),[u]),(0,i.useEffect)((()=>()=>{(0,d.dispatch)("divi/edit-post").setSpecialtySectionStatus(!1)}),[]),(0,i.useEffect)((()=>((0,o.addAction)("divi.settings.store.settings-loaded","divi/modal-library/add-module",(()=>{g((e=>e+1))})),()=>{(0,o.removeAction)("divi.settings.store.settings-loaded","divi/modal-library/add-module")})),[]),(0,i.createElement)(F,{...e,moduleType:J,moduleCount:I,moduleFolderList:K,moduleFolder:l,moduleFilter:u,parentModule:N?.asMutable({deep:!0}),selectedOption:v,onButtonClick:ee,onAddRowButtonClick:X,onBackButtonClick:()=>{const e=l.lastIndexOf("/"),t=l.substring(0,e);c(t)},onFilterOptionChange:e=>{const{inputValue:t}=e;p(t)},onOptionKeyDown:te,onOptionMouseEnter:e=>{const t=e.target;b({name:t.value,position:t.getAttribute("data-position")})},onOptionMouseLeave:()=>b({name:"",position:""}),adminBarHeight:y,bodySiblingHeight:w,themeBuilderLayout:O,topWindowHeight:B,topWindowWidth:j,openTab:V,onCloudUseItem:e=>{(0,d.dispatch)("divi/cloud-app").setUseCloudModuleType({isAddRow:C,isAddRowInner:S}),(0,d.dispatch)("divi/edit-post").copyModuleFromLibrary(e,G,t),(0,d.dispatch)("divi/modal-library").close({name:T})},templateType:q,userCanAddFromLibrary:W,loadAISectionModal:()=>{const e={aiMode:"section",type:"section_with_ai",contextData:{page:(0,R.stripHTML)((0,R.getPageHTML)()),ownerId:t},additionalInfo:{field_name:"",fields:[]}};jQuery(window).trigger("et_ai_container_ready",[e,"et-ai-app"]),(0,d.dispatch)("divi/modal-library").close({name:"divi/add-module"})},isDiviAIEnabled:U,isInsideRegularSection:x})},j={name:"divi/add-module",label:(0,a.__)("Add Module","et_builder"),component:B,videos:[{id:"FkQuawiGWUw",name:"An introduction to Modules"},{id:"1iqjhnHVA9Y",name:"Design Settings and Advanced Module Settings"},{id:"boNZZ0MYU0E",name:"Saving and loading from the library"}],type:"multiInstanceModal",autoCloseOnClickOutside:!0,autoCloseExceptionSelector:".et-vb-modal",canBeSavedOnWorkspace:!1};var q=window.jQuery,W=r.n(q),U=r(19135),H=r.n(U),z=r(63666),G=r.n(z),$=r(26093),K=r.n($),Z=r(77785),Y=r.n(Z),J=r(27381),X=r.n(J),Q=r(30127),ee=r.n(Q);function te(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const re="https://www.elegantthemes.com";let ne=null;class oe extends i.PureComponent{constructor(e){super(e),te(this,"componentDidMount",(()=>{this.serverFramePopUp=this.loadServerFrame(),window.addEventListener("message",this.sendMessage),ne=setInterval((()=>{X()(this,"serverFramePopUp.closed")&&(clearInterval(ne),this.props.onFrameClose&&this.props.onFrameClose())}),1e3)})),te(this,"componentWillUnmount",(()=>{window.removeEventListener("message",this.sendMessage),clearInterval(ne),ne=null,this.serverFramePopUp&&this.serverFramePopUp.close()})),te(this,"loadServerFrame",(()=>{const{frameWidth:e,frameHeight:t}=this.props,r=this.getFrameUrl(),n=window.top.outerWidth/2+window.top.screenX-e/2,o=window.top.outerHeight/2+window.top.screenY-t/2;return K()(window.etServerFrameWindow)?window.open(r,"Elegantthemes",`popup, width=${e}, height=${t}, left=${n}, top=${o}, toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no`):(window.etServerFrameWindow.location.href=r,window.etServerFrameWindow)})),te(this,"getGenerateDomainTokenUrl",(()=>{const{isCloud:e,domain:t,queryParams:r}=this.props;let n={domain:t,is_divi_cloud:e?1:0};return r&&(n=ee()(n,r)),n=W().param(n),`${re}/members-area/divi-cloud/token/?is_popup=1&${n}`})),te(this,"getFrameUrl",(()=>{const{domainToken:e,frameUrl:t}=this.props;return!H()(e)||G()(e)?this.getGenerateDomainTokenUrl():t})),te(this,"onDomainTokenReceived",(e=>{if(!H()(e)||G()(e))return;const{api:t,setDomainTokenNonce:r}=this.props;W().ajax({type:"POST",url:t,data:{action:"et_builder_ajax_save_domain_token",domain_token:e,nonce:r}})})),te(this,"sendMessage",(e=>{if(re!==X()(e,"origin",""))return;const t=X()(e,"data",{});if(Y()(t,"domain_token_generated")){const e=X()(t,"domain_token_generated");this.onDomainTokenReceived(e)}this.props.sendMessage(t)})),te(this,"render",(()=>null))}}var ae=oe,ie=r(93063),le=r.n(ie);class se extends i.PureComponent{_renderGraphics(){const e=this.props.svgId??"";switch(this.props.icon){case"delete":return l().createElement("g",null,l().createElement("path",{d:"M19 9h-3V8a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v1H9a1 1 0 1 0 0 2h10a1 1 0 0 0 .004-2H19zM9 20c.021.543.457.979 1 1h8c.55-.004.996-.45 1-1v-7H9v7zm2.02-4.985h2v4h-2v-4zm4 0h2v4h-2v-4z",fillRule:"evenodd"}));case"close":return l().createElement("g",null,l().createElement("path",{d:"M15.59 14l4.08-4.082a1.124 1.124 0 0 0-1.587-1.588L14 12.411 9.918 8.329A1.124 1.124 0 0 0 8.33 9.92L12.411 14l-4.082 4.082a1.124 1.124 0 0 0 1.59 1.589L14 15.589l4.082 4.082a1.124 1.124 0 0 0 1.589-1.59L15.589 14h.001z",fillRule:"evenodd"}));case"exit":return l().createElement("g",null,l().createElement("path",{d:"M19.71 16.857l-2.85-2.854 2.85-2.854c.39-.395.39-1.03 0-1.426l-1.43-1.427a1 1 0 0 0-1.42 0L14 11.15l-2.85-2.854a1.013 1.013 0 0 0-1.43 0L8.3 9.723a1 1 0 0 0 0 1.426l2.85 2.854-2.85 2.853a1 1 0 0 0 0 1.427l1.42 1.427a1.011 1.011 0 0 0 1.43 0L14 16.856l2.86 2.854a1 1 0 0 0 1.42 0l1.43-1.427c.39-.395.39-1.03 0-1.426z",fillRule:"evenodd"}));case"check":return l().createElement("g",null,l().createElement("path",{d:"M19.203 9.21a.677.677 0 0 0-.98 0l-5.71 5.9-2.85-2.95a.675.675 0 0 0-.98 0l-1.48 1.523a.737.737 0 0 0 0 1.015l4.82 4.979a.677.677 0 0 0 .98 0l7.68-7.927a.737.737 0 0 0 0-1.015l-1.48-1.525z",fillRule:"evenodd"}));case"three-dots":return l().createElement("g",null,l().createElement("path",{d:"M2.001 4.5a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 6a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 6a2 2 0 1 1 0-4 2 2 0 0 1 0 4z",fillRule:"evenodd"}));case"tag":return l().createElement("g",null,l().createElement("path",{d:"M14.83,5h6.6A1.57,1.57,0,0,1,23,6.57v6.59a1.45,1.45,0,0,1-.35.66l-8.83,8.83a1.2,1.2,0,0,1-1.69,0L5.35,15.87a1.2,1.2,0,0,1,0-1.7l8.82-8.82A2,2,0,0,1,14.83,5Zm4.67,5A1.5,1.5,0,1,0,18,8.5,1.5,1.5,0,0,0,19.5,10Z"}));case"pack":return l().createElement("g",null,l().createElement("rect",{x:"6",y:"12",width:"16",height:"10",rx:"1",ry:"1"}),l().createElement("path",{d:"M21 6a1 1 0 0 1 1 1v3H6V9a1 1 0 0 1 1-1h5.66C13.31 7.13 14 6 15 6z"}));case"list":return l().createElement("g",null,l().createElement("rect",{x:"6",y:"6",width:"4",height:"4",rx:"1",ry:"1"}),l().createElement("rect",{x:"6",y:"12",width:"4",height:"4",rx:"1",ry:"1"}),l().createElement("rect",{x:"6",y:"18",width:"4",height:"4",rx:"1",ry:"1"}),l().createElement("rect",{x:"12",y:"6",width:"10",height:"4",rx:"1",ry:"1"}),l().createElement("rect",{x:"12",y:"12",width:"10",height:"4",rx:"1",ry:"1"}),l().createElement("rect",{x:"12",y:"18",width:"10",height:"4",rx:"1",ry:"1"}));case"grid":return l().createElement("g",null,l().createElement("rect",{x:"6",y:"6",width:"4",height:"4",rx:"1",ry:"1"}),l().createElement("rect",{x:"6",y:"12",width:"4",height:"4",rx:"1",ry:"1"}),l().createElement("rect",{x:"6",y:"18",width:"4",height:"4",rx:"1",ry:"1"}),l().createElement("rect",{x:"18",y:"6",width:"4",height:"4",rx:"1",ry:"1"}),l().createElement("rect",{x:"18",y:"12",width:"4",height:"4",rx:"1",ry:"1"}),l().createElement("rect",{x:"18",y:"18",width:"4",height:"4",rx:"1",ry:"1"}),l().createElement("rect",{x:"12",y:"6",width:"4",height:"4",rx:"1",ry:"1"}),l().createElement("rect",{x:"12",y:"12",width:"4",height:"4",rx:"1",ry:"1"}),l().createElement("rect",{x:"12",y:"18",width:"4",height:"4",rx:"1",ry:"1"}));case"back":return l().createElement("g",null,l().createElement("path",{d:"M20.6587 18C19.8351 15.6696 19.1124 14 16.5 14C13.8876 14 9.34155 14 9.34155 14",stroke:"var(--dark-gray)",strokeWidth:"2",strokeLinecap:"round",fill:"transparent",className:"et-vb-svg-nofill"}),l().createElement("rect",{width:"6",height:"2",rx:"1",transform:"matrix(0.707107 0.707107 0.707107 -0.707107 7.75732 14.0001)",fill:"var(--dark-gray)"}),l().createElement("rect",{width:"6",height:"2",rx:"1",transform:"matrix(-0.707107 0.707107 0.707107 0.707107 12 9.75745)",fill:"var(--dark-gray)"}));case"placeholder":return l().createElement("g",null,l().createElement("path",{d:"M1 24h6a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1v-6a1 1 0 0 1 1-1zM25 0h6a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1h-6a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1zM1 12h30a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1v-6a1 1 0 0 1 1-1zm12 12h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H13a1 1 0 0 1-1-1v-6a1 1 0 0 1 1-1zM1 0h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1z",fill:"#e7eef5"}));case"cloud":return l().createElement("g",null,l().createElement("path",{d:"M5.48,23a5.5,5.5,0,0,1-.26-11A9,9,0,0,1,23,14h.5a4.5,4.5,0,0,1,0,9Z"}));case"menu-expand":return l().createElement("g",{fillRule:"evenodd"},l().createElement("path",{d:"M14 20l-3-5h6zM14 8l3 5h-6z",fillRule:"evenodd"}));case"arrow-down-dense":return l().createElement("g",{fillRule:"evenodd"},l().createElement("path",{d:"M3.44987 3.77347L5.90448 0.672666C6.00166 0.555503 6.0272 0.385363 5.96951 0.239402C5.91182 0.0934417 5.78188 -0.000569066 5.63861 2.59252e-06H0.359701C0.217594 0.000439083 0.0889622 0.0937073 0.0311752 0.238209C-0.0266118 0.382711 -0.00278329 0.551512 0.092034 0.669326L2.54904 3.77347C2.66298 3.91748 2.82706 4 2.99946 4C3.17186 4 3.33593 3.91748 3.44987 3.77347Z"}));case"caret-solid-down":return l().createElement("g",{fillRule:"evenodd"},l().createElement("path",{d:"M14.5998 16.5293L17.8726 12.8074C18.0022 12.6668 18.0363 12.4626 17.9593 12.2874C17.8824 12.1122 17.7092 11.9993 17.5181 12H10.4796C10.2901 12.0005 10.1186 12.1125 10.0416 12.2859C9.96452 12.4594 9.99629 12.662 10.1227 12.8034L13.3987 16.5293C13.5506 16.7021 13.7694 16.8012 13.9993 16.8012C14.2291 16.8012 14.4479 16.7021 14.5998 16.5293Z"}));case"caret-solid-right":return l().createElement("g",null,l().createElement("path",{d:"M6.65873 4.25043L2.00753 0.160427C1.83179 -0.00150394 1.57658 -0.0440559 1.35764 0.0520706C1.1387 0.148197 0.997682 0.364711 0.998539 0.603427L0.998539 9.39943C0.999194 9.63621 1.1391 9.85055 1.35585 9.94683C1.5726 10.0431 1.8258 10.0034 2.00252 9.84543L6.65873 5.75143C6.87475 5.56158 6.99854 5.28819 6.99854 5.00093C6.99854 4.71366 6.87475 4.44027 6.65873 4.25043Z"}));case"heart":return l().createElement("g",null,l().createElement("path",{d:"M4,10.66A5.67,5.67,0,0,1,9.51,5Q12.92,5,14,7.37C14.72,5.79,16.21,5,18.49,5A5.67,5.67,0,0,1,24,10.65C24,14,22.87,17.31,14,23,5.13,17.31,4,14,4,10.66Z"}));case"globe":return l().createElement("g",null,l().createElement("path",{d:"M14 4C8.477 4 4 8.477 4 14s4.477 10 10 10 10-4.477 10-10S19.523 4 14 4zm.01 18c-4.411 0-8-3.589-8-8 0-.783.118-1.539.329-2.255.258.507.628.965.995 1.38.958 1.083.883 1.267.883 1.267.577 1.658 3.275.854 3.627 2.076s1.328.859.906 2.437c-.438 1.636.683 2.553 1.491 3.083-.077.003-.153.012-.231.012zm6.406-3.228c-.025-.011-.047-.027-.072-.037-1.754-.721-2.514-2.467-3.884-2.467s-2.113.532-2.882.436-.723-.917-1.276-1.373c-.553-.457-.457-.312-1.49-.697-1.033-.385-.24-2.307.481-1.971.721.336 1.304-.324 1.52.229.216.553.695 1.298.647.577-.048-.721.189-1.431.79-1.984s.096-.649.216-1.538 2.211.505 2.211-.312.361-.721.961-1.394c.528-.591.368-.882-.217-1.465a8.04 8.04 0 0 1 3.317 2.914c-1.041.174-1.418.809-1.953 1.92-.951 1.975 1.465 3.142 2.808 3.96.08.049.157.08.234.118a7.963 7.963 0 0 1-1.411 3.084z"}));case"help":return l().createElement("g",null,l().createElement("path",{d:"M14 22a8 8 0 1 1 0-16 8 8 0 0 1 0 16zm0-3.6a.8.8 0 1 0 0-1.6.8.8 0 0 0 0 1.6zm-.8-3.2a.744.744 0 0 0 .8.8.744.744 0 0 0 .8-.8c.08-.343.305-.634.616-.8a2.976 2.976 0 0 0 1.784-2.8A2.944 2.944 0 0 0 14 8.8a3.112 3.112 0 0 0-3.2 2.4c-.096.48.264.8.8.8s.704-.32.8-.8c0-.04.216-.8 1.6-.8 1.24 0 1.6.8 1.6 1.2 0 .816-.536 1.088-1.128 1.456A2.536 2.536 0 0 0 13.2 15.2z"}));case"layout-placeholder":return l().createElement("g",{stroke:"none",strokeWidth:"1",fillRule:"evenodd"},l().createElement("path",{d:"M102,188 C107.522847,188 112,192.477153 112,198 L112,234 C112,239.522847 107.522847,244 102,244 L50,244 C44.4771525,244 40,239.522847 40,234 L40,198 C40,192.477153 44.4771525,188 50,188 L102,188 Z M350,188 C355.522847,188 360,192.477153 360,198 L360,234 C360,239.522847 355.522847,244 350,244 L140,244 C134.477153,244 130,239.522847 130,234 L130,198 C130,192.477153 134.477153,188 140,188 L350,188 Z M350,114 C355.522847,114 360,118.477153 360,124 L360,160 C360,165.522847 355.522847,170 350,170 L50,170 C44.4771525,170 40,165.522847 40,160 L40,124 C40,118.477153 44.4771525,114 50,114 L350,114 Z M211,40 C216.522847,40 221,44.4771525 221,50 L221,86 C221,91.5228475 216.522847,96 211,96 L50,96 C44.4771525,96 40,91.5228475 40,86 L40,50 C40,44.4771525 44.4771525,40 50,40 L211,40 Z M350,40 C355.522847,40 360,44.4771525 360,50 L360,86 C360,91.5228475 355.522847,96 350,96 L249,96 C243.477153,96 239,91.5228475 239,86 L239,50 C239,44.4771525 243.477153,40 249,40 L350,40 Z"}));case"background-image":return l().createElement("g",null,l().createElement("path",{d:"M309,78V206H91V78H309m8-16H83a8,8,0,0,0-8,8V214a8,8,0,0,0,8,8H317a8,8,0,0,0,8-8V70a8,8,0,0,0-8-8Z",fill:"#e7eef5"}),l().createElement("circle",{cx:"160",cy:"111",r:"12",fill:"#e7eef5"}),l().createElement("path",{d:"M105.37,190.83H295.63V151.08l-47.77-47.77a8,8,0,0,0-11.32,0l-65.2,65.2-15.75-15.74a8,8,0,0,0-11.24-.06Z",fill:"#e7eef5"}));case"folder-open":return l().createElement("g",null,l().createElement("path",{d:"M3.72076 6H17.6126L15.2792 13L1.38743 13L3.72076 6Z",fill:"var(--app-color)",stroke:"var(--app-color)",strokeWidth:"2"}),l().createElement("path",{d:"M7.00087 1.00001L7.00293 1C7.17604 0.999623 7.29258 1.04456 7.40366 1.12166C7.53485 1.21271 7.67711 1.36286 7.85596 1.60786L7.93916 1.72478L8.39713 2.40217L8.40492 2.4137L8.41303 2.425L8.52694 2.58378L8.82621 3.00095L9.33962 3.00087L15 3.00003V13H1V3.02273L1.00097 3.00138L1.0028 2.96112L1.00138 2.92084L1.00073 2.90238V1.02984L1.00233 1.0024L1.02999 1.00082L7.00087 1.00001Z",stroke:"var(--app-color)",strokeWidth:"2"}));case"folder-close":return l().createElement("g",null,l().createElement("mask",{id:"path-1-inside-1_0_3891",fill:"white"},l().createElement("rect",{y:"2",width:"16",height:"12",rx:"1"})),l().createElement("rect",{y:"2",width:"16",height:"12",rx:"1",fill:"var(--gray)",stroke:"var(--gray)",strokeWidth:"4",mask:"url(#path-1-inside-1_0_3891)"}),l().createElement("path",{d:"M7.00184 0.500018C5.56659 0.503188 2.56668 0.501792 1.00092 0.500763C0.724748 0.500582 0.500739 0.724357 0.500739 1.0009V2.92021C0.500739 3.21507 0.746868 3.44071 1.03311 3.41833C2.56852 3.29832 5.46237 3.06926 7.76508 2.87025C8.32065 2.82224 8.84065 2.77608 9.29826 2.73369C9.0211 2.44434 8.80329 2.11638 8.61409 1.83149C8.60153 1.81259 8.58911 1.79387 8.5768 1.77537C8.04592 0.977625 7.68891 0.4985 7.00184 0.500018Z",fill:"var(--gray)",stroke:"var(--gray)"}));case"portability":return l().createElement("g",null,l().createElement("path",{d:"M9.6 20.8c0.2 0.3 0.7 0.3 0.9 0l2.1-3.5c0.2-0.3 0-0.8-0.4-0.8H11V8c0-0.6-0.4-1-1-1C9.4 7 9 7.4 9 8v8.5H7.9c-0.4 0-0.6 0.4-0.4 0.8L9.6 20.8z",fillRule:"evenodd"}),l().createElement("path",{d:"M18.4 7.2c-0.2-0.3-0.7-0.3-0.9 0l-2.1 3.5c-0.2 0.3 0 0.8 0.4 0.8H17V20c0 0.6 0.4 1 1 1 0.6 0 1-0.4 1-1v-8.5h1.1c0.4 0 0.6-0.4 0.4-0.8L18.4 7.2z",fillRule:"evenodd"}));case"right-arrow":return l().createElement("g",null,l().createElement("rect",{width:"2.5",height:"9",rx:"1.25",transform:"matrix(-0.707107 0.707107 0.707107 0.707107 6.5 0.135986)",fill:"var(--gray)"}),l().createElement("rect",{width:"2.5",height:"9",rx:"1.25",transform:"matrix(0.707107 0.707107 0.707107 -0.707107 4.73218 11.0962)",fill:"var(--gray)"}));case"left-arrow":return l().createElement("g",null,l().createElement("rect",{x:"6.5",y:"0.135986",width:"2.5",height:"9",rx:"1.25",transform:"rotate(45 6.5 0.135986)",fill:"var(--gray)"}),l().createElement("rect",{x:"8.26782",y:"11.0962",width:"2.5",height:"9",rx:"1.25",transform:"rotate(135 8.26782 11.0962)",fill:"var(--gray)"}));case"magnifying-glass":return l().createElement("g",null,l().createElement("rect",{width:"28",height:"28",rx:"14",fill:"white"}),l().createElement("circle",{cx:"14",cy:"14",r:"5",stroke:"#32373C",strokeWidth:"2",fill:"white"}),l().createElement("rect",{x:"10.1992",y:"16.3867",width:"2",height:"3.66819",rx:"1",transform:"rotate(45 10.1992 16.3867)"}),l().createElement("rect",{x:"17",y:"13",width:"2",height:"6",rx:"1",transform:"rotate(90 17 13)"}),l().createElement("rect",{x:"15",y:"17",width:"2",height:"6",rx:"1",transform:"rotate(-180 15 17)"}));case"divi-ai-light":return l().createElement(l().Fragment,null,l().createElement("defs",null,l().createElement("linearGradient",{id:"divi-ai-light-linear-gradient",x1:"10.77",y1:"10.73",x2:"17.1",y2:"18.31",gradientUnits:"userSpaceOnUse"},l().createElement("stop",{offset:"0",stopColor:"aqua"}),l().createElement("stop",{offset:"1",stopColor:"#5200ff"}))),l().createElement("g",null,l().createElement("path",{className:"cls-2",d:"M5,11c0-2.83,0-4.24,.88-5.12,.88-.88,2.29-.88,5.12-.88h6c2.83,0,4.24,0,5.12,.88,.88,.88,.88,2.29,.88,5.12v6c0,2.83,0,4.24-.88,5.12s-2.29,.88-5.12,.88h-6c-2.83,0-4.24,0-5.12-.88-.88-.88-.88-2.29-.88-5.12v-6Z"})),l().createElement("g",null,l().createElement("path",{className:"cls-1",d:"M16,11c0-.55,.45-1,1-1s1,.45,1,1v6c0,.55-.45,1-1,1s-1-.45-1-1v-6Zm-1.05,5.68l-2-6c-.14-.41-.52-.68-.95-.68s-.81,.28-.95,.68l-2,6c-.17,.52,.11,1.09,.63,1.26,.52,.17,1.09-.11,1.26-.63l.44-1.32h1.23l.44,1.32c.17,.52,.74,.81,1.26,.63,.52-.17,.81-.74,.63-1.26Z"})));case"divi-ai":return l().createElement(l().Fragment,null,l().createElement("defs",null,l().createElement("linearGradient",{id:"divi-ai-linear-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%"},l().createElement("stop",{offset:"0%",stopColor:"aqua"}),l().createElement("stop",{offset:"100%",stopColor:"#5200ff"}))),l().createElement("g",null,l().createElement("path",{d:"M22.12,5.88c-.88-.88-2.29-.88-5.12-.88h-6c-2.83,0-4.24,0-5.12,.88-.88,.88-.88,2.29-.88,5.12v6c0,2.83,0,4.24,.88,5.12s2.29,.88,5.12,.88h6c2.83,0,4.24,0,5.12-.88,.88-.88,.88-2.29,.88-5.12v-6c0-2.83,0-4.24-.88-5.12Zm-7.8,12.07c-.52,.17-1.09-.11-1.26-.63l-.44-1.32h-1.23l-.44,1.32c-.17,.52-.74,.81-1.26,.63-.52-.17-.81-.74-.63-1.26l2-6c.14-.41,.52-.68,.95-.68s.81,.28,.95,.68l2,6c.17,.52-.11,1.09-.63,1.26Zm3.68-.95c0,.55-.45,1-1,1s-1-.45-1-1v-6c0-.55,.45-1,1-1s1,.45,1,1v6Z"})));case"warning":return l().createElement(l().Fragment,null,l().createElement("rect",{width:"24",height:"24",rx:"12",fill:"#FF5C01"}),l().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.4846 5.14279C12.8248 3.99993 11.1752 3.99993 10.5154 5.14279L4.57695 15.4285C3.91713 16.5714 4.74191 17.9999 6.06157 17.9999H17.9385C19.2581 17.9999 20.0829 16.5714 19.4231 15.4285L13.4846 5.14279ZM12 8.57143C11.5266 8.57143 11.1429 8.95518 11.1429 9.42857V12.8571C11.1429 13.3305 11.5266 13.7143 12 13.7143C12.4734 13.7143 12.8571 13.3305 12.8571 12.8571V9.42857C12.8571 8.95518 12.4734 8.57143 12 8.57143ZM12 14.5714C11.5266 14.5714 11.1429 14.9552 11.1429 15.4286C11.1429 15.902 11.5266 16.2857 12 16.2857C12.4734 16.2857 12.8571 15.902 12.8571 15.4286C12.8571 14.9552 12.4734 14.5714 12 14.5714Z",fill:"white"}));case"divi-ai-code":return l().createElement(l().Fragment,null,l().createElement("rect",{x:"5",y:"5",width:"18",height:"18",rx:"3",fill:"white"}),l().createElement("path",{d:"M16 11C16 10.4477 16.4477 10 17 10C17.5523 10 18 10.4477 18 11V17C18 17.5523 17.5523 18 17 18C16.4477 18 16 17.5523 16 17V11Z",fill:`url(#paint0_linear_654_6159_${e})`}),l().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 10C12.4305 10 12.8126 10.2754 12.9487 10.6838L14.9487 16.6838C15.1234 17.2077 14.8402 17.774 14.3163 17.9487C13.7923 18.1233 13.226 17.8402 13.0513 17.3162L12 14.1623L10.9487 17.3162C10.7741 17.8402 10.2077 18.1233 9.6838 17.9487C9.15986 17.774 8.8767 17.2077 9.05134 16.6838L11.0513 10.6838C11.1875 10.2754 11.5696 10 12 10Z",fill:`url(#paint1_linear_654_6159_${e})`}),l().createElement("path",{d:"M11 14H13V16H11V14Z",fill:`url(#paint2_linear_654_6159_${e})`}),l().createElement("defs",null,l().createElement("linearGradient",{id:`paint0_linear_654_6159_${e}`,x1:"8.99976",y1:"10",x2:"16.9449",y2:"18.9382",gradientUnits:"userSpaceOnUse"},l().createElement("stop",{stopColor:"#4C5563"}),l().createElement("stop",{offset:"1",stopColor:"#5200FF"})),l().createElement("linearGradient",{id:`paint1_linear_654_6159_${e}`,x1:"8.99976",y1:"10",x2:"16.9449",y2:"18.9382",gradientUnits:"userSpaceOnUse"},l().createElement("stop",{stopColor:"#4C5563"}),l().createElement("stop",{offset:"1",stopColor:"#5200FF"})),l().createElement("linearGradient",{id:`paint2_linear_654_6159_${e}`,x1:"8.99976",y1:"10",x2:"16.9449",y2:"18.9382",gradientUnits:"userSpaceOnUse"},l().createElement("stop",{stopColor:"#4C5563"}),l().createElement("stop",{offset:"1",stopColor:"#5200FF"}))));case"divi-ai-code-hover":return l().createElement(l().Fragment,null,l().createElement("rect",{width:"28",height:"28",rx:"3",fill:"white",fillOpacity:"0.16"}),l().createElement("rect",{x:"5",y:"5",width:"18",height:"18",rx:"3",fill:"white"}),l().createElement("path",{d:"M16 11C16 10.4477 16.4477 10 17 10C17.5523 10 18 10.4477 18 11V17C18 17.5523 17.5523 18 17 18C16.4477 18 16 17.5523 16 17V11Z",fill:`url(#paint0_linear_655_5811_${e})`}),l().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 10C12.4305 10 12.8126 10.2754 12.9487 10.6838L14.9487 16.6838C15.1234 17.2077 14.8402 17.774 14.3163 17.9487C13.7923 18.1233 13.226 17.8402 13.0513 17.3162L12 14.1623L10.9487 17.3162C10.7741 17.8402 10.2077 18.1233 9.6838 17.9487C9.15986 17.774 8.8767 17.2077 9.05134 16.6838L11.0513 10.6838C11.1875 10.2754 11.5696 10 12 10Z",fill:`url(#paint1_linear_655_5811_${e})`}),l().createElement("path",{d:"M11 14H13V16H11V14Z",fill:`url(#paint2_linear_655_5811_${e})`}),l().createElement("defs",null,l().createElement("linearGradient",{id:`paint0_linear_655_5811_${e}`,x1:"8.99976",y1:"10",x2:"16.9449",y2:"18.9382",gradientUnits:"userSpaceOnUse"},l().createElement("stop",{stopColor:"#00FFFF"}),l().createElement("stop",{offset:"1",stopColor:"#5200FF"})),l().createElement("linearGradient",{id:`paint1_linear_655_5811_${e}`,x1:"8.99976",y1:"10",x2:"16.9449",y2:"18.9382",gradientUnits:"userSpaceOnUse"},l().createElement("stop",{stopColor:"#00FFFF"}),l().createElement("stop",{offset:"1",stopColor:"#5200FF"})),l().createElement("linearGradient",{id:`paint2_linear_655_5811_${e}`,x1:"8.99976",y1:"10",x2:"16.9449",y2:"18.9382",gradientUnits:"userSpaceOnUse"},l().createElement("stop",{stopColor:"#00FFFF"}),l().createElement("stop",{offset:"1",stopColor:"#5200FF"}))));case"divi-ai-filled":return l().createElement(l().Fragment,null,l().createElement("rect",{x:"5",y:"5",width:"18",height:"18",rx:"3",fill:"url(#divi-ai-gradient)"}),l().createElement("rect",{x:"16",y:"10",width:"2",height:"8",rx:"1",fill:"white"}),l().createElement("path",{d:"M10 17L12 11L14 17",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),l().createElement("rect",{x:"11",y:"14",width:"2",height:"2",fill:"white"}),l().createElement("defs",null,l().createElement("linearGradient",{id:"divi-ai-gradient",x1:"5",y1:"5",x2:"23",y2:"23",gradientUnits:"userSpaceOnUse"},l().createElement("stop",{stopColor:"#00FFFF"}),l().createElement("stop",{offset:"1",stopColor:"#5200FF"}))));case"save":return l().createElement("g",null,l().createElement("path",{d:"M18.95 9.051a1 1 0 1 0-1.414 1.414 5 5 0 1 1-7.07 0A1 1 0 0 0 9.05 9.051a7 7 0 1 0 9.9.001v-.001zm-5.378 8.235a.5.5 0 0 0 .857 0l2.117-3.528a.5.5 0 0 0-.429-.758H15V8a1 1 0 0 0-2 0v5h-1.117a.5.5 0 0 0-.428.758l2.117 3.528z",fillRule:"evenodd"}));case"setting":return l().createElement("g",null,l().createElement("path",{d:"M20.426 13.088l-1.383-.362a.874.874 0 0 1-.589-.514l-.043-.107a.871.871 0 0 1 .053-.779l.721-1.234a.766.766 0 0 0-.116-.917 6.682 6.682 0 0 0-.252-.253.768.768 0 0 0-.917-.116l-1.234.722a.877.877 0 0 1-.779.053l-.107-.044a.87.87 0 0 1-.513-.587l-.362-1.383a.767.767 0 0 0-.73-.567h-.358a.768.768 0 0 0-.73.567l-.362 1.383a.878.878 0 0 1-.513.589l-.107.044a.875.875 0 0 1-.778-.054l-1.234-.722a.769.769 0 0 0-.918.117c-.086.082-.17.166-.253.253a.766.766 0 0 0-.115.916l.721 1.234a.87.87 0 0 1 .053.779l-.043.106a.874.874 0 0 1-.589.514l-1.382.362a.766.766 0 0 0-.567.731v.357a.766.766 0 0 0 .567.731l1.383.362c.266.07.483.26.588.513l.043.107a.87.87 0 0 1-.053.779l-.721 1.233a.767.767 0 0 0 .115.917c.083.087.167.171.253.253a.77.77 0 0 0 .918.116l1.234-.721a.87.87 0 0 1 .779-.054l.107.044a.878.878 0 0 1 .513.589l.362 1.383a.77.77 0 0 0 .731.567h.356a.766.766 0 0 0 .73-.567l.362-1.383a.878.878 0 0 1 .515-.589l.107-.044a.875.875 0 0 1 .778.054l1.234.721c.297.17.672.123.917-.117.087-.082.171-.166.253-.253a.766.766 0 0 0 .116-.917l-.721-1.234a.874.874 0 0 1-.054-.779l.044-.107a.88.88 0 0 1 .589-.513l1.383-.362a.77.77 0 0 0 .567-.731v-.357a.772.772 0 0 0-.569-.724v-.005zm-6.43 3.9a2.986 2.986 0 1 1 2.985-2.986 3 3 0 0 1-2.985 2.987v-.001z",fillRule:"evenodd"}));case"modify":return l().createElement(l().Fragment,null,l().createElement("path",{style:{opacity:.5},d:"M7,10c0-1.1,0.9-2,2-2c1.1,0,2,0.9,2,2c0,1.1-0.9,2-2,2C7.9,12,7,11.1,7,10z M16,12l-4.1,6.8L10,16l-4,6h16 L16,12z"}),l().createElement("path",{d:"M25,0.5c0.7-0.7,1.8-0.7,2.5,0c0.7,0.7,0.7,1.8,0,2.5l-1.2,1.3l-2.5-2.5L25,0.5z M21.9,3.6l2.4,2.4l-5.7,5.7 L16,12l0.2-2.6L21.9,3.6z M26,24V11.6c0-0.6-0.4-1-1-1s-1,0.4-1,1V24H4V4h12.4c0.6,0,1-0.4,1-1s-0.4-1-1-1H4C2.9,2,2,2.9,2,4v20 c0,1.1,0.9,2,2,2h20C25.1,26,26,25.1,26,24z"}));case"extend":return l().createElement(l().Fragment,null,l().createElement("path",{style:{opacity:.5},d:"M26,0H2C0.9,0,0,0.9,0,2v24c0,1.1,0.9,2,2,2h24c1.1,0,2-0.9,2-2V2C28,0.9,27.1,0,26,0z M2,2L2,2h3.3L2,5.3V2z M2,6.7L2,6.7L6.7,2h3.6L2,10.3V6.7z M26,26h-3.3l3.3-3.3V26z M26,21.3L21.3,26h-3.6l8.3-8.3V21.3z M26,6.3l-4,4v1.4l4-4v3.6l-4,4 v1.4l4-4v3.6l-4,4V21c0,0.6-0.4,1-1,1h-0.7l-4,4h-3.6l4-4h-1.4l-4,4H7.7l4-4h-1.4l-4,4H2.7l4-4c-0.4-0.1-0.6-0.4-0.7-0.7l-4,4v-3.6 l0,0l4-4v-1.4l-4,4v-3.6l0,0l4-4v-1.4l-4,4v-3.6l0,0l4-4V7c0-0.6,0.4-1,1-1h0.7l4-4h3.6l-4,4h1.4l4-4h3.6l-4,4h1.4l4-4h3.6l-4,4 c0.4,0.1,0.6,0.4,0.7,0.7l4-4V6.3z"}),l().createElement("path",{d:"M10.5,9c0.8,0,1.5,0.7,1.5,1.5S11.3,12,10.5,12S9,11.3,9,10.5S9.7,9,10.5,9z M20,19l-4.5-7l-3.1,4.8L11,15l-3,4 H20z M21,5H7C5.9,5,5,5.9,5,7v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V7C23,5.9,22.1,5,21,5z M21,21H7V7l0,0h14V21z"}));case"upscale":return l().createElement(l().Fragment,null,l().createElement("path",{style:{opacity:.5},d:"M24,26H4c-1.1,0-2-0.9-2-2V4c0-1.1,0.9-2,2-2h12.4c0.6,0,1,0.4,1,1s-0.4,1-1,1H4v20h20V11.6c0-0.6,0.4-1,1-1s1,0.4,1,1V24 C26,25.1,25.1,26,24,26z"}),l().createElement("path",{d:"M25.7,2.3C25.5,2.1,25.3,2,25,2h-4c-0.6,0-1,0.4-1,1s0.4,1,1,1h1.6l-4.1,4.1C18.3,8,18.2,8,18,8H4c-1.1,0-2,0.9-2,2v14 c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V10c0-0.2,0-0.3-0.1-0.5L24,5.4V7c0,0.6,0.4,1,1,1s1-0.4,1-1V3C26,2.7,25.9,2.5,25.7,2.3z M18,24H4V10l0,0h14V24z M7.5,12C8.3,12,9,12.7,9,13.5S8.3,15,7.5,15S6,14.3,6,13.5S6.7,12,7.5,12z M11,22h6l-4.5-7l-3.1,4.8L8,18 l-3,4h3H11z"}));case"enhance":return l().createElement(l().Fragment,null,l().createElement("path",{style:{opacity:.5},d:"M7,10c0-1.1,0.9-2,2-2c1.1,0,2,0.9,2,2c0,1.1-0.9,2-2,2C7.9,12,7,11.1,7,10z M16,12l-4.1,6.8L10,16l-4,6h16 L16,12z"}),l().createElement("path",{d:"M24,26H4c-1.1,0-2-0.9-2-2V4c0-1.1,0.9-2,2-2h8.3c0.6,0,1,0.4,1,1s-0.4,1-1,1H4v20h20v-8.1c0-0.6,0.4-1,1-1 s1,0.4,1,1V24C26,25.1,25.1,26,24,26z M15.6,5.6L13,6.5l2.6,0.9l0.9,2.6l0.9-2.6L20,6.5l-2.6-0.9L16.5,3L15.6,5.6z M22.6,3.6L20,4.5 l2.6,0.9L23.5,8l0.9-2.6L27,4.5l-2.6-0.9L23.5,1L22.6,3.6z M20.6,10.6L18,11.5l2.6,0.9l0.9,2.6l0.9-2.6l2.6-0.9l-2.6-0.9L21.5,8 L20.6,10.6z"}));case"undo":return l().createElement("g",null,l().createElement("path",{d:"M14.355 7.253c-1.74.026-3.321.559-4.576 1.528L7.999 7A1 1 0 0 0 7 8v4.998c0 .552.447.999.999.999h4.995a1 1 0 0 0 .999-.999l-2.014-2.016a4.51 4.51 0 0 1 2.44-.733c2.235-.032 4.261 1.58 4.534 3.799.338 2.751-1.789 5.009-4.46 5.009-1.149 0-2.186-.462-2.978-1.182a.654.654 0 0 0-.902.026l-1.184 1.175a.674.674 0 0 0 .032.979A7.443 7.443 0 0 0 14.493 22c4.401 0 7.915-3.8 7.452-8.297-.395-3.826-3.745-6.507-7.59-6.45z",fillRule:"evenodd"}));case"redo":return l().createElement("g",null,l().createElement("path",{d:"M13.645 6.253C15.385 6.279 16.966 6.812 18.221 7.781L20.001 6C20.5529 6.00055 21 6.44811 21 7V11.998C21 12.55 20.553 12.997 20.001 12.997H15.006C14.4545 12.9964 14.0076 12.5495 14.007 11.998L16.021 9.982C15.295 9.50824 14.4479 9.25375 13.581 9.249C11.346 9.217 9.32 10.829 9.047 13.048C8.709 15.799 10.836 18.057 13.507 18.057C14.656 18.057 15.693 17.595 16.485 16.875C16.7445 16.6416 17.1414 16.6531 17.387 16.901L18.571 18.076C18.7014 18.2076 18.7719 18.3872 18.7658 18.5724C18.7598 18.7576 18.6777 18.9322 18.539 19.055C17.1639 20.3098 15.3685 21.0037 13.507 21C9.106 21 5.592 17.2 6.055 12.703C6.45 8.877 9.8 6.196 13.645 6.253Z",fillRule:"evenodd"}));case"image-edit":return l().createElement("g",null,l().createElement("rect",{width:"28",height:"28",rx:"14",fill:"white"}),l().createElement("path",{d:"M17.1348 9.45117C17.6018 8.9841 18.3591 8.9841 18.8262 9.45117C19.2932 9.91824 19.2932 10.6755 18.8262 11.1426L14.3692 15.5996C14.1739 15.7948 13.8573 15.7948 13.6621 15.5996L12.6778 14.6153C12.4825 14.42 12.4825 14.1034 12.6778 13.9082L17.1348 9.45117Z"}),l().createElement("path",{d:"M10.5408 17.5892C10.4987 17.7696 10.6606 17.9315 10.8411 17.8895L12.8749 17.4152C13.0659 17.3707 13.1336 17.1336 12.9949 16.9949L11.4353 15.4354C11.2967 15.2967 11.0596 15.3644 11.0151 15.5554L10.5408 17.5892Z"}),l().createElement("rect",{x:"19",y:"19",width:"2",height:"10",rx:"1",transform:"rotate(90 19 19)"}));case"youtube-play-button":return l().createElement("g",null,l().createElement("path",{fill:"#FF3D00",d:"M43.2,33.9c-0.4,2.1-2.1,3.7-4.2,4c-3.3,0.5-8.8,1.1-15,1.1c-6.1,0-11.6-0.6-15-1.1c-2.1-0.3-3.8-1.9-4.2-4C4.4,31.6,4,28.2,4,24c0-4.2,0.4-7.6,0.8-9.9c0.4-2.1,2.1-3.7,4.2-4C12.3,9.6,17.8,9,24,9c6.2,0,11.6,0.6,15,1.1c2.1,0.3,3.8,1.9,4.2,4c0.4,2.3,0.9,5.7,0.9,9.9C44,28.2,43.6,31.6,43.2,33.9z"}),l().createElement("path",{fill:"#FFF",d:"M20 31L20 17 32 24z"}));case"caret-solid-down":return l().createElement("g",null,l().createElement("path",{d:"M3.44987 3.77347L5.90448 0.672666C6.00166 0.555503 6.0272 0.385363 5.96951 0.239402C5.91182 0.0934417 5.78188 -0.000569066 5.63861 2.59252e-06H0.359701C0.217594 0.000439083 0.0889622 0.0937073 0.0311752 0.238209C-0.0266118 0.382711 -0.00278329 0.551512 0.092034 0.669326L2.54904 3.77347C2.66298 3.91748 2.82706 4 2.99946 4C3.17186 4 3.33593 3.91748 3.44987 3.77347Z",fill:"#32373C"}));case"dash-warning-orange":return l().createElement("g",null,l().createElement("rect",{width:"24",height:"24",rx:"12",fill:"#FF8800"}),l().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.4846 5.14279C12.8248 3.99993 11.1752 3.99993 10.5154 5.14279L4.57695 15.4285C3.91713 16.5714 4.74191 17.9999 6.06157 17.9999H17.9385C19.2581 17.9999 20.0829 16.5714 19.4231 15.4285L13.4846 5.14279ZM12 8.57143C11.5266 8.57143 11.1429 8.95518 11.1429 9.42857V12.8571C11.1429 13.3305 11.5266 13.7143 12 13.7143C12.4734 13.7143 12.8571 13.3305 12.8571 12.8571V9.42857C12.8571 8.95518 12.4734 8.57143 12 8.57143ZM12 14.5714C11.5266 14.5714 11.1429 14.9552 11.1429 15.4286C11.1429 15.902 11.5266 16.2857 12 16.2857C12.4734 16.2857 12.8571 15.902 12.8571 15.4286C12.8571 14.9552 12.4734 14.5714 12 14.5714Z",fill:"white"}));case"dash-success-green":return l().createElement("g",null,l().createElement("rect",{width:"24",height:"24",rx:"12",fill:"#0ACFA0"}),l().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.4846 5.14279C12.8248 3.99993 11.1752 3.99993 10.5154 5.14279L4.57695 15.4285C3.91713 16.5714 4.74191 17.9999 6.06157 17.9999H17.9385C19.2581 17.9999 20.0829 16.5714 19.4231 15.4285L13.4846 5.14279ZM12 8.57143C11.5266 8.57143 11.1429 8.95518 11.1429 9.42857V12.8571C11.1429 13.3305 11.5266 13.7143 12 13.7143C12.4734 13.7143 12.8571 13.3305 12.8571 12.8571V9.42857C12.8571 8.95518 12.4734 8.57143 12 8.57143ZM12 14.5714C11.5266 14.5714 11.1429 14.9552 11.1429 15.4286C11.1429 15.902 11.5266 16.2857 12 16.2857C12.4734 16.2857 12.8571 15.902 12.8571 15.4286C12.8571 14.9552 12.4734 14.5714 12 14.5714Z",fill:"white"}));case"checkmark-rounded":return l().createElement("g",null,l().createElement("rect",{width:"34",height:"34",rx:"17",fill:"#7E3BD0"}),l().createElement("path",{d:"M22.2026 12.2099C22.0748 12.0758 21.8977 12 21.7126 12C21.5274 12 21.3503 12.0758 21.2226 12.2099L15.5126 18.1099L12.6626 15.1599C12.5351 15.0253 12.3579 14.9491 12.1726 14.9491C11.9872 14.9491 11.81 15.0253 11.6826 15.1599L10.2026 16.6829C9.93248 16.9673 9.93248 17.4134 10.2026 17.6979L15.0226 22.6769C15.1503 22.8109 15.3274 22.8867 15.5126 22.8867C15.6977 22.8867 15.8748 22.8109 16.0026 22.6769L23.6826 14.7499C23.9527 14.4654 23.9527 14.0193 23.6826 13.7349L22.2026 12.2099Z",fill:"white"}));case"layers":return l().createElement("g",null,l().createElement("path",{d:"M13.4335 16.6105C13.7747 16.8451 14.2253 16.8451 14.5665 16.6105L20.8014 12.324C21.3794 11.9267 21.3794 11.0733 20.8014 10.676L14.5665 6.38949C14.2253 6.15488 13.7747 6.15488 13.4335 6.38949L7.19861 10.676C6.62064 11.0733 6.62064 11.9267 7.19861 12.324L13.4335 16.6105Z",stroke:"#7E3BD0",strokeWidth:"2"}),l().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.7555 14.5763L19.9723 16.1598L20.5536 16.9735L19.9723 16.1598L14 20.4258L8.02766 16.1598L7.44642 15.3461L8.02766 16.1598L10.2445 14.5763L8.52408 13.3474L6.86518 14.5323C5.74849 15.33 5.74848 16.9896 6.86518 17.7873L12.8375 22.0532C13.5329 22.5499 14.4671 22.5499 15.1625 22.0532L21.1348 17.7873C22.2515 16.9896 22.2515 15.33 21.1348 14.5323L19.4759 13.3474L17.7555 14.5763Z",fill:"#7E3BD0"}));case"spinner":return l().createElement("g",null,l().createElement("circle",{className:"spinner-spin",cx:"12",cy:"12",r:"0"}),l().createElement("circle",{className:"spinner-spin spinner-spin-2",cx:"12",cy:"12",r:"0"}),l().createElement("circle",{className:"spinner-spin spinner-spin-3",cx:"12",cy:"12",r:"0"}));case"delete-light":return l().createElement("g",null,l().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 2L10.998 2H11.002C11.5543 2.0011 12.0011 2.44972 12 3.002C11.9989 3.55429 11.5503 4.0011 10.998 4L1 4C0.447715 4 0 3.55229 0 3C0 2.44772 0.447715 2 1 2H4V1C4 0.447715 4.44772 0 5 0H7C7.55229 0 8 0.447715 8 1V2ZM2 14C1.457 13.979 1.021 13.543 1 13V6H11V13C10.996 13.55 10.55 13.996 10 14H2ZM3 8H5V12H3V8ZM9 8H7V12H9V8Z",fill:"#326BFF"}));case"pencil":return l().createElement("g",null,l().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.9721 0.519712C11.665 -0.173237 12.7874 -0.173237 13.4803 0.519712C14.1733 1.21266 14.1733 2.33505 13.4803 3.028L12.2708 4.29248L9.76253 1.7842L10.9721 0.519712ZM7.93037 3.6394L10.3607 6.06969L3.63395 12.7964L0 14.0001L1.20366 10.3661L7.93037 3.6394Z",fill:"#326BFF"}));case"eye":return l().createElement("g",null,l().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 0.000102264C4.25771 -0.0182888 0.972543 2.44562 0 6.00019C0.98904 9.54379 4.26409 12 8 12C11.7359 12 15.011 9.54379 16 6.00019C15.0275 2.44562 11.7423 -0.0182888 8 0.000102264ZM8 10.033C5.36244 10.0501 2.99801 8.43638 2.091 6.00019C3.01229 3.57486 5.36779 1.96719 8 1.96719C10.6322 1.96719 12.9877 3.57486 13.909 6.00019C13.002 8.43638 10.6376 10.0501 8 10.033ZM10 6C10 7.10457 9.10457 8 8 8C6.89543 8 6 7.10457 6 6C6 4.89543 6.89543 4 8 4C9.10457 4 10 4.89543 10 6Z",fill:"#326BFF"}));case"plus":return l().createElement("g",null,l().createElement("path",{d:"M9 4H6V1C6 0.447715 5.55228 0 5 0C4.44772 0 4 0.447715 4 1V4H1C0.447715 4 0 4.44772 0 5C0 5.55228 0.447715 6 1 6H4V9C4 9.55229 4.44772 10 5 10C5.55228 10 6 9.55229 6 9V6H9C9.55229 6 10 5.55228 10 5C10 4.44772 9.55229 4 9 4Z",fill:"#32373C"}))}}render(){const{className:e,color:t,icon:r,size:n,viewBox:o,margin:a,onClick:i,elementType:s}=this.props;if(!r)return!1;let c;c=K()(a)||!1===a?-(n-8):a;let d={fill:t,width:2*n,minWidth:2*n,height:2*n,margin:c};const u=`et-common-icon--${r}`;let p=le()({"et-common-icon":!0},u,e);const m=this._renderGraphics();return m||(d={}),l().createElement(s,{className:p,style:ee()(d,this.props.style),onClick:i,"data-testid":this.props["data-for"]},l().createElement("svg",{viewBox:o,preserveAspectRatio:"xMidYMid meet",shapeRendering:"geometricPrecision"},m))}}!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(se,"defaultProps",{color:"var(--dark-gray)",size:14,viewBox:"0 0 28 28",elementType:"div"});var ce=se,de=window?.et_common_data?.config;function ue({className:e=""}){return l().createElement("div",{className:le()("et-common-app-spinner-block",e),"data-testid":"Spinner"},l().createElement("div",{className:"et-common-app-spinner-block__spinner"}))}var pe=l().memo(ue);const me={width:400,height:600},fe=(e,t)=>{const r="et-vb-settings-option-input",n=`${r} et-vb-field-input-error`;return(0,s.isEmpty)(e)?t?n:r:"on"===e?n:r},ge=({moduleType:e,saveToDiviCloud:t,hasSaveAsGlobal:r,category:n,tag:o,onSaveClick:c,onCancelClick:d,onHelpClick:f,hasSubmitError:g,topWindowHeight:v,modalDimension:h,modalOffset:b,cloudFetchInProgressStatus:y,cloudId:w,cloudLibraryOptions:_,cloudStatus:C,isUserLoggingIn:S,owner:k,selectedCloudFolderId:x,onDomainTokenGenerated:M,updateCloudStatus:I,updateSaveToDiviCloudOption:A,updateSelectedCloudFolderId:N,sectionsCount:O,rowsCount:T,modulesCount:D})=>{const[F,P]=(0,i.useState)(""),[L,R]=(0,i.useState)(""),[V,B]=(0,i.useState)(""),[j,q]=(0,i.useState)(""),[W,U]=(0,i.useState)(n?.values),[H,z]=(0,i.useState)(n?.options),[G,$]=(0,i.useState)(o?.values),[K,Z]=(0,i.useState)(o?.options),[Y,J]=(0,i.useState)(me),[X,Q]=(0,i.useState)(""),[ee,te]=(0,i.useState)([]),re=(0,i.useRef)(null),ne=l().createElement(ce,{className:"et-cloud-category-mark",color:"#0088E1",elementType:"span",icon:"cloud",size:7,style:{marginRight:"5px"}});(0,i.useEffect)((()=>{U(n?.values)}),[n?.values]),(0,i.useEffect)((()=>{z(n?.options)}),[n?.options]),(0,i.useEffect)((()=>{$(o?.values)}),[o?.values]),(0,i.useEffect)((()=>{Z(o?.options)}),[o?.options]),(0,i.useEffect)((()=>{P("")}),[k]);const oe=(0,s.capitalize)(e),ie="layout"===e?(0,a.__)("Save To Library","et_builder"):(0,a.sprintf)((0,a.__)("Save To %1$s Library","et_builder"),oe),le=(0,a.sprintf)((0,a.__)("Save your current %1$s to the Divi Library for later use.","et_builder"),oe),se=(0,a.sprintf)((0,a.__)("%1$s Name","et_builder"),oe),ue=(0,a.__)("Login To Divi Cloud","et_builder"),ge=(0,a.__)("Sign in to your Elegant Themes account using the pop up to activate Divi Cloud.","et_builder"),ve="on"===t?(0,a.__)("Save to Divi Cloud","et_builder"):(0,a.__)("Save to Library","et_builder");return(0,i.useEffect)((()=>{(()=>{let e=me.height;const t=v-me.height,r=v-t+50;t-50<b.top&&b.top<r&&(e="number"==typeof h.height?h.height:0),J({...Y,height:e})})()}),[v]),l().createElement(u.ErrorBoundary,{key:"et-vb-divi-modal--add-to-library",componentName:"et-vb-divi-modal--add-to-library"},l().createElement(p.WrapperContainer,{dimension:null,caretStaysOnAppWindowClickPosition:!1,modalName:"divi/add-to-library",snappable:!0,expandable:!0,draggable:!0,caret:!1,resizable:!0},l().createElement(p.Header,{name:ie,onClickCloseButton:d}),l().createElement(p.BodyContainer,null,l().createElement(p.PanelContainer,{id:"add-to-library-container",opened:!0},"off"!==t&&""!==C?.error&&l().createElement(ae,{api:de.api,setDomainTokenNonce:de.nonces.saveDomainToken,domain:de.site_domain,frameWidth:400,frameHeight:600,sendMessage:M,queryParams:{cloud_id:w},onFrameClose:(e={error:""})=>{A("off"),I(e)},isCloud:!0}),l().createElement("div",{className:"et-vb-save-to-library-options",ref:re},S?l().createElement("div",{className:"et-vb-save-to-library-login"},l().createElement("span",null,ue),l().createElement(p.DescriptionText,null,ge)):l().createElement(l().Fragment,null,l().createElement(p.DescriptionText,null,le),l().createElement(p.FieldWrapper,{label:se,description:(0,a.__)("","et_builder")},l().createElement(E.Text,{name:"nodal-name",className:fe(X,g),value:F,onChange:e=>{P(e.inputValue),Q((0,s.isEmpty)(e.inputValue?.trim())?"on":"off")}})),l().createElement(p.FieldWrapper,{label:(0,a.__)("Save to Divi Cloud","et_builder"),description:(0,a.__)("","et_builder")},l().createElement(E.Toggle,{name:"saveToDiviCloudOption",value:t,onChange:e=>A("on"===e.inputValue?"on":"off")})),"off"===t&&l().createElement(p.FieldWrapper,{id:"upsell-card",description:(0,a.__)("","et_builder")},l().createElement(m.CloudUpsellCard,null)),y?.sharedFolders?l().createElement(pe,null):!(0,s.isEmpty)(_)&&l().createElement(p.FieldWrapper,{label:(0,a.__)("Choose Library","et_builder"),description:(0,a.__)("","et_builder")},l().createElement(E.Select,{name:"cloudLibrary",onChange:e=>N(e.inputValue),options:_,value:x})),(()=>{let e=[];return 0<O&&(e=[...e,{label:(0,a.sprintf)((0,a.__)("Also Save All %d Sections as Individual Items","et_builder"),O),value:"save_sections"}]),0<T&&(e=[...e,{label:(0,a.sprintf)((0,a.__)("Also Save All %d Rows as Individual Items","et_builder"),T),value:"save_rows"}]),0<D&&(e=[...e,{label:(0,a.sprintf)((0,a.__)("Also Save All %d Modules as Individual Items","et_builder"),D),value:"save_modules"}]),!(e.length<1)&&l().createElement(p.FieldWrapper,{label:(0,a.__)("Save Individual Items","et_builder"),description:(0,a.__)("","et_builder")},l().createElement(E.Checkboxes,{name:"layoutCategory",options:e,onChange:e=>{te(e?.inputValue??[])}}))})(),r&&l().createElement(p.FieldWrapper,{label:(0,a.__)("Save as Global","et_builder"),description:(0,a.__)("","et_builder")},l().createElement(E.Toggle,{name:"saveAsGlobalOption",value:L,onChange:e=>R(e.inputValue)})),(()=>{if(y?.cloud_category)return l().createElement(p.FieldWrapper,{label:(0,a.__)("Add to Categories","et_builder"),description:(0,a.__)("","et_builder")},l().createElement(pe,null));const e=Object.values(H).map((e=>e.cloudTerm?{label:l().createElement(i.Fragment,null,ne,e.label),value:e.value}:e));return l().createElement(p.FieldWrapper,{label:(0,a.__)("Add to Categories","et_builder"),description:(0,a.__)("","et_builder")},l().createElement(E.Checkboxes,{name:"layoutCategory",options:e,onChange:e=>{const t=e?.inputValue??"";U((e=>{const r={...(0,s.mapValues)(e,(()=>"off"))};return(0,s.forEach)(t,(e=>{e in W&&(r[e]="on")})),r}))}}))})(),l().createElement(p.FieldWrapper,{label:(0,a.__)("Create New Category","et_builder"),description:(0,a.__)("","et_builder")},l().createElement(E.Text,{name:"add-to-categories",className:"et-vb-settings-option-input",value:V,onChange:e=>B(e.inputValue),defaultValue:(0,a.__)("Create New Category/Categories","et_builder")})),(()=>{if(y?.cloud_tag)return l().createElement(p.FieldWrapper,{label:(0,a.__)("Add to Tags","et_builder"),description:(0,a.__)("","et_builder")},l().createElement(pe,null));const e=Object.values(K).map((e=>e.cloudTerm?{label:l().createElement(i.Fragment,null,ne,e.label),value:e.value}:e));return l().createElement(p.FieldWrapper,{label:(0,a.__)("Add to Tags","et_builder"),description:(0,a.__)("","et_builder")},l().createElement(E.Checkboxes,{name:"layoutTag",options:e,onChange:e=>{const t=e?.inputValue??"";$((e=>{const r={...(0,s.mapValues)(e,(()=>"off"))};return(0,s.forEach)(t,(e=>{e in G&&(r[e]="on")})),r}))}}))})(),l().createElement(p.FieldWrapper,{label:(0,a.__)("Create New Tag","et_builder"),description:(0,a.__)("","et_builder")},l().createElement(E.Text,{name:"add-to-tags",className:"et-vb-settings-option-input",value:j,onChange:e=>q(e.inputValue),defaultValue:(0,a.__)("Create New Tag(s)","et_builder")})),l().createElement(p.HelpButton,{onHelpClick:f}))))),l().createElement(p.Footer,{buttons:S?[{name:"cancel",label:(0,a.__)("Cancel","et_builder"),showIcon:!1,showLabel:!0,showTooltip:!1,onClick:()=>d()}]:[{name:"add-to-library",label:ve,showIcon:!1,showLabel:!0,showTooltip:!1,onClick:()=>c({moduleNameOption:F,saveToDiviCloudOption:t,saveAsGlobalOption:L,addCategoryNameOption:V,addTagNameOption:j,selectedCategories:W,selectedTags:G,optionsContainerRef:re,selectedIndividualItems:ee})}]})))};var ve,he=new Uint8Array(16);function be(){if(!ve&&!(ve="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ve(he)}var ye=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var Ee=function(e){return"string"==typeof e&&ye.test(e)},we=[],_e=0;_e<256;++_e)we.push((_e+256).toString(16).substr(1));var Ce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(we[e[t+0]]+we[e[t+1]]+we[e[t+2]]+we[e[t+3]]+"-"+we[e[t+4]]+we[e[t+5]]+"-"+we[e[t+6]]+we[e[t+7]]+"-"+we[e[t+8]]+we[e[t+9]]+"-"+we[e[t+10]]+we[e[t+11]]+we[e[t+12]]+we[e[t+13]]+we[e[t+14]]+we[e[t+15]]).toLowerCase();if(!Ee(r))throw TypeError("Stringified UUID is invalid");return r};var Se=function(e,t,r){var n=(e=e||{}).random||(e.rng||be)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var o=0;o<16;++o)t[r+o]=n[o];return t}return Ce(n)};function ke(e){this.message=e}ke.prototype=new Error,ke.prototype.name="InvalidCharacterError";var xe="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new ke("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,n,o=0,a=0,i="";n=t.charAt(a++);~n&&(r=o%4?64*r+n:n,o++%4)?i+=String.fromCharCode(255&r>>(-2*o&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return i};function Me(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(xe(e).replace(/(.)/g,(function(e,t){var r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r})))}(t)}catch(e){return xe(t)}}function Ie(e){this.message=e}Ie.prototype=new Error,Ie.prototype.name="InvalidTokenError";var Ae=function(e,t){if("string"!=typeof e)throw new Ie("Invalid token specified");var r=!0===(t=t||{}).header?0:1;try{return JSON.parse(Me(e.split(".")[r]))}catch(e){throw new Ie("Invalid token specified: "+e.message)}},Ne=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function Oe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Te(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function De(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Fe=function(){function e(t){De(this,e),this.type=t,"string"==typeof(arguments.length<=1?void 0:arguments[1])?(this.name=arguments.length<=1?void 0:arguments[1],this.items=arguments.length<=2?void 0:arguments[2]):(this.name=null,this.items=arguments.length<=1?void 0:arguments[1]),Array.isArray(this.items)||(this.items=[this.items])}return Ne(e,[{key:"toJSON",value:function(){return{name:this.name,_functionTreePrimitive:!0,type:this.type,items:this.items}}}]),e}(),Pe=function(e){function t(){var e;De(this,t);for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return Oe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this,"sequence"].concat(n)))}return Te(t,e),t}(Fe),Le=function(e){function t(){var e;De(this,t);for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return Oe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this,"parallel"].concat(n)))}return Te(t,e),t}(Fe),Re=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function Ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Be(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function je(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var qe=function(e){function t(e){Ve(this,t);var r=Be(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e.message||e));return r.name="FunctionTreeError",r}return je(t,e),Re(t,[{key:"toJSON",value:function(){return{name:this.name,message:this.message,stack:this.stack}}}]),t}(function(e){function t(){var t=Reflect.construct(e,Array.from(arguments));return Object.setPrototypeOf(t,Object.getPrototypeOf(this)),t}return t.prototype=Object.create(e.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e,t}(Error)),We=function(e){function t(e,r,n,o){Ve(this,t);var a=Be(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,o));return a.name="FunctionTreeExecutionError",a.execution=e,a.funcDetails=r,a.payload=n,a}return je(t,e),Re(t,[{key:"toJSON",value:function(){return{name:this.name,message:this.message,execution:{name:this.execution.name},funcDetails:{name:this.funcDetails.name,functionIndex:this.funcDetails.functionIndex},payload:this.payload,stack:this.stack}}}]),t}(qe),Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function He(e){if(e.displayName)return e.displayName;if(e.name)return e.name;var t=e.toString(),r=void 0;return 0===t.indexOf("async function")?r="async function ":0===t.indexOf("function")&&(r="function "),t=(t=t.substr(r?r.length:0)).substr(0,t.indexOf("("))}function ze(e){return e&&!Array.isArray(e)&&"object"===(void 0===e?"undefined":Ue(e))&&!(e instanceof Fe)}function Ge(e,t,r,n){if(r instanceof Fe){var o=r.toJSON();return Object.assign(o,{items:Ge(e,t,o.items,r instanceof Le).items})}if(Array.isArray(r))return new Pe(r.reduce((function(n,o,a){if(o instanceof Fe){var i=o.toJSON();return n.concat(Object.assign(i,{items:Ge(e,t,i.items,o instanceof Le).items}))}if("function"==typeof o){var l={name:o.displayName||He(o),functionIndex:t.push(o)-1,function:o},s=r[a+1];return ze(s)&&(l.outputs={},Object.keys(s).forEach((function(r){if(o.outputs&&!~o.outputs.indexOf(r))throw new qe("Outputs object doesn't match list of possible outputs defined for function.");l.outputs[r]=Ge(e,t,"function"==typeof s[r]?[s[r]]:s[r])}))),n.concat(l)}if(ze(o))return n;if(Array.isArray(o)){var c=Ge(e,t,o);return n.concat(c)}throw new qe('Unexpected entry in "'+e+'". '+function(e,t){return"\n[\n"+e.map((function(e){return e===t?"  "+(void 0===t?"undefined":Ue(t))+", <-- PROBLEM":"function"==typeof e?"  "+He(e)+",":e instanceof Fe?"  [ "+e.type.toUpperCase()+" ],":Array.isArray(e)?"  [ SEQUENCE ],":"  { PATHS },"})).join("\n")+"\n]\n  "}(r,o))}),[])).toJSON();throw new qe("Unexpected entry in tree")}var $e=function(e,t){return Ge(e,[],"function"==typeof t?[t]:t)},Ke=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var Ze=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.path=t,this.payload=r}return Ke(e,[{key:"toJSON",value:function(){return{path:this.path,payload:this.payload,_functionTreePath:!0}}}]),e}(),Ye=Ze,Je=r(620),Xe=r.n(Je);function Qe(e,t){return e._functionTreePrimitive&&e.type===t}function et(e,t,r,n,o,a,i,l,s){!function t(s,c,d,u,p){r((function(){function r(e){t(s,c+1,e,d,p)}function m(r,o){return function(a){var i=Object.assign({},d,a?a.payload:{});if(a&&r.outputs){var l=Object.keys(r.outputs);if(!~l.indexOf(a.path))throw new We(e,r,d,"function "+r.name+" must use one of its possible outputs: "+l.join(", ")+".");n(r,a.path,i),t(r.outputs[a.path].items,0,i,d,o)}else o(i)}}var f=s[c];if(f)if(Qe(f,"sequence"))t(f.items,0,d,u,r);else if(Qe(f,"parallel")){var g=f.items.length,v=[];a(d,g),f.items.forEach((function(n,o){return n.function?e.runFunction(n,d,u,m(n,(function(e){v.push(e),v.length===g?(l(e,g),r(Object.assign.apply(Object,[{}].concat(v)))):i(e,g-v.length)}))):t(n.items,0,d,u,(function(e){v.push(e),v.length===g?(l(e,g),r(Object.assign.apply(Object,[{}].concat(v)))):i(e,g-v.length)})),v}))}else e.runFunction(f,d,u,m(f,r));else s!==e.staticTree&&o(d),p(d)}))}([e.staticTree],0,t,null,s)}var tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function rt(e){return e&&(e instanceof Promise||"function"==typeof e.then&&"function"==typeof e.catch)}function nt(e){return!(null!==e&&"object"===(void 0===e?"undefined":tt(e))&&!Array.isArray(e)&&e.constructor!==Object)}var ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},at=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function it(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var lt=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.wrap,o=void 0===n||n,a=r.ignoreDefinition,i=void 0!==a&&a;it(this,e),this.definition=t,"function"!=typeof t&&(i||this.verifyDefinition(t),this.wrap=o,this.ProviderConstructor=function(e){this.context=e},this.ProviderConstructor.prototype=t,this.WrappedProviderConstructor=function(e,t){this.context=t,this.providerName=e},this.WrappedProviderConstructor.prototype=Object.keys(i?{}:t).reduce((function(e,r){var n=t[r];return e[r]=function(){for(var e=this,t=arguments.length,o=Array(t),a=0;a<t;a++)o[a]=arguments[a];var i=n.apply(this,o);return rt(i)?i.then((function(t){return e.context.debugger.send({type:"provider",datetime:Date.now(),method:e.providerName+"."+r,args:o,isPromise:!0,isRejected:!1,returnValue:nt(t)?t:"[CAN_NOT_SERIALIZE]"}),t})).catch((function(t){throw e.context.debugger.send({method:e.providerName+"."+r,args:o,isPromise:!0,isRejected:!0}),t})):(this.context.debugger.send({type:"provider",datetime:Date.now(),method:this.providerName+"."+r,args:o,returnValue:nt(i)?i:"[CAN_NOT_SERIALIZE]"}),i)},e}),{}))}return at(e,[{key:"verifyDefinition",value:function(e){if(!this.ignoreDefinition){if("object"!==(void 0===e?"undefined":ot(e))||null===e)throw new Error("The definition passed as Provider is not valid");Object.keys(e).forEach((function(t){if("function"!=typeof e[t])throw new Error("The property "+t+" passed to Provider is not a method")}))}}},{key:"get",value:function(e){return"function"==typeof this.definition?this.definition(e):new this.ProviderConstructor(e)}},{key:"getWrapped",value:function(e,t){return"function"==typeof this.definition?this.definition(t):new this.WrappedProviderConstructor(e,t)}}]),e}(),st=lt,ct=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function dt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ut=function(){function e(){dt(this,e)}return ct(e,[{key:"getValue",value:function(){throw new Error('Extending ResolveValue requires you to add a "getValue" method')}}]),e}();!function(e){function t(e){dt(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.cvalue=e,r}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(t,e),ct(t,[{key:"getValue",value:function(e){var t=e.resolve,r=this.cvalue;return t.isResolveValue(r)?t.value(r):Object.keys(r).reduce((function(e,n){return e[n]=t.value(r[n]),e}),{})}}])}(ut);var pt=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var mt=function(e){function t(e,r,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.type=e,a.getter=r,a.strings=n,a.values=o,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),pt(t,[{key:"getTags",value:function(){return[this].concat(this.getNestedTags())}},{key:"getPath",value:function(e){var t=this;return this.strings.reduce((function(r,n,o){var a=t.values[o];return a instanceof ut?r+n+a.getValue(e):r+n+(void 0!==a?a:"")}),"")}},{key:"getValue",value:function(e){return this.getter(this.getPath(e),e)}},{key:"getNestedTags",value:function(){var e=this;return this.strings.reduce((function(r,n,o){var a=e.values[o];return a instanceof t?r.concat(a):r}),[])}},{key:"toString",value:function(){return this.type+"`"+this.pathToString()+"`"}},{key:"pathToString",value:function(){var e=this;return this.strings.reduce((function(r,n,o){var a=e.values[o];return a instanceof t?r+n+"${"+a.toString()+"}":r+n+(void 0!==a?a:"")}),"")}}]),t}(ut);function ft(e,t){return function(r){for(var n=arguments.length,o=Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];if(o.some((function(e){return void 0===e})))throw new Error("One of the values passed inside the tag interpolated to undefined. Please check.");return new mt(e,t,r,o)}}var gt=new st({isTag:function(e){if(!(e instanceof mt))return!1;for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return!r.length||r.reduce((function(t,r){return t||r===e.type}),!1)},isResolveValue:function(e){return e instanceof ut},value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e instanceof ut?e.getValue(t?Object.assign({},this.context,t):this.context):e},path:function(e){if(e instanceof mt)return e.getPath(this.context);throw new Error("You are extracting a path from an argument that is not a Tag.")}},{wrap:!1}),vt=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function bt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function yt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Et(e){return!e||"object"===(void 0===e?"undefined":ht(e))&&!Array.isArray(e)}function wt(e,t,r,n){var o=e;return o.execution=t,o.functionDetails=r,o.payload=Object.assign({},n,{_execution:{id:t.id,functionIndex:r.functionIndex},error:e.toJSON?e.toJSON():{name:e.name,message:e.message,stack:e.stack}}),o}var _t=function(){function e(t,r,n,o){yt(this,e),this.id=Date.now()+"_"+Math.floor(1e4*Math.random()),this.name=t||r.name||this.id,this.staticTree=r,this.functionTree=n,this.datetime=Date.now(),this.errorCallback=o,this.hasThrown=!1,this.isAsync=!1,this.runFunction=this.runFunction.bind(this)}return vt(e,[{key:"runFunction",value:function(e,t,r,n){if(!this.hasThrown){var o=this.createContext(e,t,r),a=this.functionTree,i=this.errorCallback,l=this,s=void 0;a.emit("functionStart",l,e,t);try{s=e.function(o)}catch(c){return this.hasThrown=!0,i(wt(c,l,e,t),l,e,t)}if(rt(s))a.emit("asyncFunction",l,e,t,s),this.isAsync=!0,s.then((function(r){if(r instanceof Ye)a.emit("functionEnd",l,e,t,r),n(r.toJSON());else{if(e.outputs)throw a.emit("functionEnd",l,e,t,r),new We(l,e,t,new Error("The result "+JSON.stringify(r)+" from function "+e.name+" needs to be a path of either "+Object.keys(e.outputs)));if(!Et(r))throw a.emit("functionEnd",l,e,t,r),new We(l,e,t,new Error("The result "+JSON.stringify(r)+" from function "+e.name+" is not a valid result"));a.emit("functionEnd",l,e,t,r),n({payload:r})}})).catch((function(r){if(!l.hasThrown)if(r instanceof Error)l.hasThrown=!0,i(wt(r,l,e,t),l,e,t);else if(r instanceof Ye)a.emit("functionEnd",l,e,t,r),n(r.toJSON());else if(e.outputs){var o=new We(l,e,t,new Error("The result "+JSON.stringify(r)+" from function "+e.name+" needs to be a path of either "+Object.keys(e.outputs)));l.hasThrown=!0,i(wt(o,l,e,t),l,e,t)}else if(Et(r))a.emit("functionEnd",l,e,t,r),n({payload:r});else{var s=new We(l,e,t,new Error("The result "+JSON.stringify(r)+" from function "+e.name+" is not a valid result"));l.hasThrown=!0,i(wt(s,l,e,t),l,e,t)}}));else if(s instanceof Ye)a.emit("functionEnd",l,e,t,s),n(s.toJSON());else if(e.outputs){var c=new We(l,e,t,new Error("The result "+JSON.stringify(s)+" from function "+e.name+" needs to be a path of either "+Object.keys(e.outputs)));this.hasThrown=!0,i(wt(c,l,e,t),l,e,t)}else if(Et(s))a.emit("functionEnd",l,e,t,s),n({payload:s});else{var d=new We(l,e,t,new Error("The result "+JSON.stringify(s)+" from function "+e.name+" is not a valid result"));this.hasThrown=!0,i(wt(d,l,e,t),l,e,t)}}}},{key:"createContext",value:function(e,t,r){var n=this.functionTree.contextProviders,o={execution:this,props:t||{},functionDetails:e,path:e.outputs?Object.keys(e.outputs).reduce((function(e,t){return e[t]=function(e){return new Ye(t,e)},e}),{}):null},a=n.debugger&&n.debugger.get(o,e,t,r),i=Object.keys(n).reduce((function(o,a){var i=n[a];return o[a]=i instanceof st?i.get(o,e,t,r):i,o}),o);return a?Object.keys(i).reduce((function(t,r){var o=n[r];return o&&o instanceof st&&o.wrap?t[r]="function"==typeof o.wrap?o.wrap(i,e):o.getWrapped(r,i):t[r]=i[r],t}),{}):i}}]),e}();!function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};yt(this,t);var n=bt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(n.cachedTrees=[],n.cachedStaticTrees=[],n.executeBranchWrapper=r.executeBranchWrapper||function(e){e()},"object"!==(void 0===e?"undefined":ht(e))||null===e||Array.isArray(e))throw new Error("You have to pass an object of context providers to FunctionTree");var o=Object.keys(e);if(o.indexOf("props")>=0||o.indexOf("path")>=0||o.indexOf("resolve")>=0||o.indexOf("execution")>=0||o.indexOf("debugger")>=0)throw new Error('You are trying to add a provider with protected key. "props", "path", "resolve", "execution" and "debugger" are protected');return n.contextProviders=Object.assign({},e,{resolve:gt}),n.run=n.run.bind(n),n}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(t,e),vt(t,[{key:"run",value:function(){var e=this,t=void 0,r=void 0,n=void 0,o=void 0,a=void 0,i=[].slice.call(arguments);if(i.forEach((function(e){"string"==typeof e?t=e:Array.isArray(e)||e instanceof Fe?r=e:r||"function"!=typeof e?"function"==typeof e?o=e:n=e:r=e})),!r)throw new Error("function-tree - You did not pass in a function tree");var l=function(o,i){var l=e.cachedTrees.indexOf(r);-1===l?(a=$e(t,r),e.cachedTrees.push(r),e.cachedStaticTrees.push(a)):a=e.cachedStaticTrees[l];var s=new _t(t,a,e,(function(t,r,n,o){e.emit("error",t,r,n,o),i(t)}));e.emit("start",s,n),et(s,n,e.executeBranchWrapper,(function(t,r,n){e.emit("pathStart",r,s,t,n)}),(function(t){e.emit("pathEnd",s,t)}),(function(t,r){e.emit("parallelStart",s,t,r)}),(function(t,r){e.emit("parallelProgress",s,t,r)}),(function(t,r){e.emit("parallelEnd",s,t,r)}),(function(t){e.emit("end",s,t),o===i?o(null,t):o(t)}))};if(!o)return new Promise(l);l(o,o)}}])}(Xe());var Ct=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var St=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=e.nextWatchId++;this.id="Watch_"+r,this.rawId=r,this.name=null,this.type=t,this.executedCount=0,this.controller=null,this.modulePath="",this.dependencyMap=null}return Ct(e,[{key:"create",value:function(e,t,r){return this.name=r,this.controller=e,this.modulePath=t,this}},{key:"registerDependencies",value:function(){this.dependencyMap=this.createDependencyMap(),this.controller.dependencyStore.addEntity(this,this.dependencyMap),this.controller.devtools&&(this.controller.devtools.updateWatchMap(this,this.dependencyMap),this.controller.devtools.sendWatchMap([],[],0,0))}},{key:"destroy",value:function(){this.dependencyMap&&(this.controller.dependencyStore.removeEntity(this,this.dependencyMap),this.controller.devtools&&(this.controller.devtools.updateWatchMap(this,null,this.dependencyMap),this.controller.devtools.sendWatchMap([],[],0,0)))}},{key:"toJSON",value:function(){return{id:this.id,executedCount:this.executedCount,type:this.type,name:this.name}}}]),e}();St.nextWatchId=0;var kt=St,xt=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function Mt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var It=function(){function e(t,r){Mt(this,e),this.computed=t,this.propsTags=t.propsTags,this.nestedPath=r}return xt(e,[{key:"getValue",value:function(e){return this.nestedPath.reduce((function(e,t){return e&&e[t]}),this.computed.getValue(e))}},{key:"getDependencyMap",value:function(){return this.computed.getDependencyMap()}},{key:"clone",value:function(){return this.computed.clone()}},{key:"destroy",value:function(){return this.computed.destroy()}}]),e}(),At=function(e){function t(e){Mt(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"Compute"));return r.computedCallback=e,r.isDirty=!0,r.value=null,r.props=null,r.getters=null,r.stateTags=[],r.propsTags=[],r.onUpdate=r.onUpdate.bind(r),r.dynamicGetter=r.dynamicGetter.bind(r),r.dynamicGetter.path=r.dynamicPathGetter.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),xt(t,[{key:"createDependencyMap",value:function(){return this.controller.createDependencyMap(this.stateTags,this.props,this.modulePath)}},{key:"getDependencyMap",value:function(){return this.dependencyMap}},{key:"onUpdate",value:function(){this.isDirty=!0}},{key:"clone",value:function(){return new t(this.computedCallback).create(this.controller,this.modulePath,this.name+" (clone)")}},{key:"compute",value:function(){return this.executedCount++,this.computedCallback(this.getDynamicGetter())}},{key:"getDynamicGetter",value:function(){return this.stateTags=[],this.propsTags=[],this.dynamicGetter}},{key:"parseDependencies",value:function(e){var t=this;if(!(e instanceof mt))throw new Error('Cerebral - Only tags are allowed in the dynamic "get" of Compute');e.getTags().forEach((function(e){"props"===e.type?t.propsTags.push(e):t.stateTags.push(e)}))}},{key:"dynamicGetter",value:function(e){this.parseDependencies(e);var t=e.getValue(this.getters);return Dt(t)?t.getValue(this.props):t}},{key:"dynamicPathGetter",value:function(e){return e.getPath(this.getters)}},{key:"hasChangedProps",value:function(e){var t=this,r=this.controller.createContext(e);return this.propsTags.reduce((function(e,n){return!!e||n.getValue(t.getters)!==n.getValue(r)}),!1)}},{key:"getValue",value:function(e){if(!this.controller)throw new Error("This Cerebral Compute has not been added to a module");if(!this.isDirty&&this.propsTags.length&&this.hasChangedProps(e)&&(this.isDirty=!0),this.isDirty){this.getters=this.controller.createContext(e),this.props=e,this.value=this.compute();var t=this.dependencyMap;this.dependencyMap=this.createDependencyMap(),this.controller.dependencyStore.updateEntity(this,t,this.dependencyMap),this.controller.devtools&&(this.controller.devtools.updateWatchMap(this,this.dependencyMap,t),this.controller.devtools.updateComputedState(this.name,this.value)),this.isDirty=!1}return this.value}},{key:"toString",value:function(){return this.getValue(this.props)}}]),t}(kt);"function"==typeof Symbol&&Symbol.iterator;var Nt=[];function Ot(e,t){-1===Nt.indexOf(e)&&(Nt.push(e),console.warn(e+" is DEPRECATED - "+t))}function Tt(e,t){var r=t.execution.name.split(".");return r.splice(0,r.length-1).concat(e).join(".")}function Dt(e){return e instanceof At||e instanceof It}ft("string",(function(e){return e})),ft("path",(function(e){return e})),ft("signal",(function(e,t){return Ot("tags.signal",'use the "sequences" tag instead'),t.controller.getSequence(e)})),ft("signals",(function(e,t){return Ot("tags.signals",'use the "sequences" tag instead'),t.controller.getSequences(e)})),ft("sequences",(function(e,t){return t.controller.getSequence(e)||t.controller.getSequences(e)})),ft("state",(function(e,t){return t.controller.getState(e)})),ft("module",(function(e,t){return Ot("tags.module",'use the "moduleState" tag instead'),t.controller.getState(Tt(e,t))})),ft("moduleState",(function(e,t){return t.controller.getState(Tt(e,t))})),ft("moduleSequences",(function(e,t){return t.controller.getSequence(Tt(e,t))||t.controller.getSequences(Tt(e,t))})),ft("props",(function(e,t){return function(e,t){return t.split(".").reduce((function(e,r,n){if(n>0&&void 0===e)throw new Error('Cannot extract value at path "'+t+'" ("'+r+'" is not defined).');return e[r]}),e)}(t.props,e)}));const Ft={tags:"tags",categories:"categories",packs:"packs",favoritePacks:"favorites",cloudStatus:"activate",layout:"layouts",section:"sections",row:"rows",module:"modules",tb_template:"templates",tb_set:"template-sets",code_css:"snippets-css",code_css_no_selector:"snippets-css-ns",code_html:"snippets"};function Pt(e){try{return Ae(e)}catch(e){return"invalid-token"}}var Lt=r(86636),Rt=r.n(Lt);const Vt={cache:{},offlineCacheTable:"DiviCloud",offlineCacheVersion:"1.4",cacheKey:"",init(e,t){window.ETCloudCache=window.ETCloudCache||{},this.cacheKey=e,(0,s.has)(window.ETCloudCache,e)||(0,s.set)(window.ETCloudCache,e,{}),this.getOfflineCache("cloud-cache-version").then((e=>{if(this.offlineCacheVersion!==e){Rt().createInstance({name:this.offlineCacheTable}).clear().then((()=>{this.setOfflineCache("cloud-cache-version",this.offlineCacheVersion)}))}})),this.cache=window.ETCloudCache[e]},addData(e,t,r=!1,n=!1){if(r)(0,s.set)(window.ETCloudCache,e,t);else{const r=n?window.ETCloudCache[n]:this.cache;(0,s.set)(r,e,t)}},getData(e,t=[],r=!1){return r?(0,s.get)(window.ETCloudCache[r],e,t):(0,s.get)(this.cache,e,t)},clearData(){window.ETCloudCache={},(0,s.set)(window.ETCloudCache,this.cacheKey,{}),this.cache=window.ETCloudCache[this.cacheKey]},setOfflineCache(e,t,r=!1,n="items"){const o=Rt().createInstance({name:this.offlineCacheTable});return r?o.getItem(e).then((r=>{let a=t;return a="array"===n?(0,s.merge)(r,t):r?(0,s.concat)(r,t).filter((function({id:e,item_location:t},r){const n=t||"local";return!this.has(r=e+n)&&this.add(r)}),new Set):t,o.setItem(e,a)})):o.setItem(e,t)},getOfflineCache(e){return Rt().createInstance({name:this.offlineCacheTable}).getItem(e).then((e=>e))}};function Bt(e,t,r,n,o,a){const i={};return Ht({type:"get",resource:e,queryString:`per_page=${n}&page=${r}&orderby=id`,source:t,accessToken:o,providedUrl:(0,s.get)(a,"providedUrl",null),providedBaseUrl:(0,s.get)(a,"providedBaseUrl","")}).then((e=>{const{data:t}=e;let r=t;return(0,s.isNil)(t)&&(r=e),(0,s.isEmpty)(r)||r.error||(0,s.forEach)(r,(e=>{const t=e.id;i[t]={},i[t].id=t,i[t].name=e.name,i[t].slug=e.slug,i[t].count=e.count,i[t].location="cloud"})),{data:i}}))}function jt(e={},t="layouts"){const r=e.isUserItems?"userItems":"predefined",n=e.pageNo,o=e.perPage,a=e.token,i=(0,s.get)(e,"orderBy","date"),l={providedUrl:(0,s.get)(e,"providedUrl",null),providedBaseUrl:(0,s.get)(e,"providedBaseUrl",""),editPermission:(0,s.get)(e,"editPermission",!1)};switch(e.type){case"categoriesList":return Bt("categories",r,n,o,a,l);case"tagsList":return Bt("tags",r,n,o,a,l);case"packsList":return Bt("packs",r,n,o,a);case"itemsList":return function(e,t,r,n,o,a,i={}){const l=[],c=(0,s.get)(i,"editPermission",!1),d="predefined"!==e&&c?"&status=publish,trash":"",u=(0,s.get)(i,"providedUrl",null),p=(0,s.get)(i,"providedBaseUrl","");let m="date",f="asc";switch(o){case"name":m="name";break;case"dateDesc":f="desc"}return Ht({type:"get",resource:t,queryString:`per_page=${n}&page=${r}${d}&orderBy=${m}&order=${f}`,includeHeaders:!0,source:e,accessToken:a,providedUrl:u,providedBaseUrl:p}).then((t=>t.error?t:((0,s.forEach)(t.body,(t=>{if(!t.id)return;let r={};if(r.id=t.id,r.date=t.date,r.name=W()("<textarea/>").html((0,s.get)(t,"title.rendered",t.name)).text(),r.slug=t.slug,r.category_ids=(0,s.get)(t,"categories",[]),r.tag_ids=(0,s.get)(t,"tags",[]),r.is_favorite=t.is_favorite||(0,s.get)(t,"meta.et-api-cloud-favorite",!1),r.item_location="cloud",r.width=(0,s.isEmpty)((0,s.get)(t,"module_width",[]))?"regular":"fullwidth",r.subtype=(0,s.get)(t,"meta._et_pb_module_type",""),r.row_layout=(0,s.get)(t,"meta._et_pb_row_layout",""),r.isTrash="trash"===t.status,r.modified=t.modified,t.meta){const e=(0,s.get)(t,"meta.et-api-cloud-template-set-templates",[]);r.thumbnail=(0,s.get)(t,"meta.et-api-cloud-thumbnails.large",""),r.thumbnail_medium=(0,s.get)(t,"meta.et-api-cloud-thumbnails.medium",""),r.thumbnail_small=(0,s.get)(t,"meta.et-api-cloud-thumbnails.small",""),r.item_items=e,r.allThumbnails=(0,s.isEmpty)(e)?[]:(0,s.get)(t,"meta.et-api-cloud-thumbnails",[]),r.builtFor=t.meta?._built_for&&""!==t.meta._built_for?t.meta._built_for:"Divi"}else r.thumbnail=(0,s.get)(t,"thumbnail","");"predefined"===e&&t.link&&(r.previewLink=t.link),t.packs&&(r.pack_id=t.packs[0],r.is_landing=(0,s.endsWith)(t.slug,"-landing-page")||(0,s.endsWith)(t.slug,"-landing"),r.description=(0,s.isEmpty)(t.excerpt.rendered)?"":t.excerpt.rendered),l.push(r)})),{data:{items:(0,s.compact)(l)},pagesCount:t.totalPages,itemsCount:t.totalItems,cloudCount:t.totalCloudItems})))}(r,"predefined"===r||"layout"===t?"layouts":t,n,o,i,a,l)}return new Promise((e=>e()))}function qt(e,t,r={},n={},o=!1,a=0,i=""){if(0!==a)return Ht({type:"post",resource:t,resourceId:a,accessToken:e,providedBaseUrl:i},r).then((e=>(o&&o(e),e)));const l=[];return(0,s.isEmpty)(n)||(0,s.forEach)(n,((t,r)=>{(0,s.isEmpty)(t)||(0,s.forEach)(t,(t=>{l.push(Ut(t,r,e,i))}))})),"fullwidth"===r.width&&l.push(Ut("fullwidth","module_width",e,i)),(0,s.isEmpty)(l)?Ht({type:"post",resource:t,accessToken:e,providedBaseUrl:i},r).then((t=>(o&&o(t,e),t))):Promise.all(l).then((n=>{const a=(0,s.groupBy)(n,"taxonomy");return(0,s.forEach)(["categories","tags","module_width"],(e=>{const t=(0,s.get)(a,[e],[]);let n=[];(0,s.isEmpty)(t)||(n=(0,s.map)((0,s.keys)((0,s.keyBy)(t,"id")),s.toInteger)),r[e]=n})),Ht({type:"post",resource:t,accessToken:e,providedBaseUrl:i},r).then((t=>(o&&o(t,e),t)))}))}function Wt(e="",t=!1){return Vt.getOfflineCache("refreshTokenPart").then((r=>new Promise((n=>{W().ajax({type:"POST",url:et_cloud_data.ajaxurl,dataType:"json",data:{action:"et_cloud_update_tokens",et_cloud_token_nonce:et_cloud_data.nonces.et_cloud_refresh_token,et_cloud_access_token:e,et_cloud_save_session:t,et_cloud_refresh_token_part:r},complete(e){const t=(0,s.get)(e,"responseJSON.data",{});Vt.setOfflineCache("refreshTokenPart",t.refreshTokenPart).then((()=>n(t)))}})}))))}function Ut(e,t,r,n=""){return new Promise((o=>{if((0,s.isUndefined)(e)||""===e)return o({});return Ht({type:"post",resource:t,accessToken:r,providedBaseUrl:n},{name:e}).then((e=>{if(e.error&&"term_exists"!==e.error)return o({});const r="term_exists"===(0,s.get)(e,"code","")?e.data.term_id:e.id;o({taxonomy:t,id:r})}))}))}function Ht(e={},t={}){const{type:r,resource:n,resourceId:o,source:a,queryString:i,providedUrl:l,providedBaseUrl:c,etAccount:d,accessToken:u,includeHeaders:p}=e;let m=l||"";const f="predefined"===a&&"cloudStatus"!==n?`${(0,s.get)(d,"username","")}:${(0,s.get)(d,"apiKey","")}`:u,g=("predefined"!==a||"favoritePacks"===n||"layout"===n||"cloudStatus"===n)&&!l;if(!m){const e=c&&""!==c?c:function(e="user",t=""){if("predefined"===e)return et_cloud_data.predefined_items_url;const r=Pt(t);return`${"invalid-token"===r?"":(0,s.get)(r,["aud",[1]],"")}/wp-json/cloud/v1`}(a,f),t=function(e){return(0,s.get)(Ft,e,e)}(n);m=`${e}/${t}`,o&&(m=`${m}/${o}`),i&&(m=`${m}?${i}`)}const v={method:r,mode:"cors"};(0,s.isEmpty)(t)||(v.body=JSON.stringify(t));const h=l?{"Content-Type":"application/x-www-form-urlencoded"}:{"Content-Type":"application/json; charset=UTF-8",Accept:"application/json"};if(g){if(!f)return new Promise((e=>e({code:"missing_token",error:"Your Divi Cloud session has ended. Please try logging in again. If you continue to experience authorization failures, try closing Library modal and opening it again so that your authorization token can be regenerated."})));h.Authorization=`Bearer ${f}`,v.credentials="same-origin"}return v.headers=h,function(e,t,r=!1){const n="post"===t.method?300:15;return t.signal=(e=>{const t=new AbortController;return setTimeout((()=>t.abort()),1e3*e),t})(n).signal,fetch(e,t).then((e=>{if(503===e.status)throw new Error(`${e.status} - ${e.statusText}`);return e.json().then((t=>({totalPages:e.headers.get("x-wp-totalpages"),totalItems:e.headers.get("x-wp-total"),totalCloudItems:e.headers.get("X-ET-API-CLOUD-ITEM-COUNT"),body:t})))})).then((e=>(0,s.get)(e,"body.code")?{error:e.body.code,...e.body}:r?e:e.body)).catch((t=>(console.log("CLOUD API REQUEST ERROR:",e,t),{error:t})))}(m,v,p)}var zt=window.divi.rest,Gt=window.divi.serializedPost;const $t=(e,t)=>{let r="";if("0"!==e&&!(0,s.isEmpty)(t)){r=`${(0,s.find)(t,{id:e}).endpoint}/cloud/v1`}return r},Kt=e=>{if((0,s.isEmpty)(e))return{};const t={};t[0]={label:(0,a.__)("My Cloud","et_builder")};const r=(0,s.filter)(e,(e=>!0===e.permissions.add)),n=(0,s.sortBy)(r,["name"]);return(0,s.map)(n,(e=>{const r=`${e.name}'s Cloud`;t[e.id]={label:r}})),t},Zt=(e,t,r)=>{let n={};const o={},a=e?.cloud_category??o,i=e?.cloud_tag??o;"cloud_category"===r?n=0!==Object.keys(a).length?Object.keys(a).reduce(((e,t)=>{const r=a[t].name;return{...e,[r]:{label:r,value:r,cloudTerm:!0}}}),t):{}:"cloud_tag"===r&&(n=0!==Object.keys(i).length?Object.keys(i).reduce(((e,t)=>{const r=i[t].name;return{...e,[r]:{label:r,value:r,cloudTerm:!0}}}),t):{});const l=Object.entries(n).filter((([,e])=>e.cloudTerm)).sort((([e],[t])=>e.localeCompare(t))).reduce(((e,[t,r])=>(e[t]=r,e)),{}),s=Object.entries(n).filter((([,e])=>!e.cloudTerm)).sort(((e,t)=>e[0].localeCompare(t[0]))).reduce(((e,[t,r])=>(e[t]=r,e)),{});return{...l,...s}},Yt=(e,t)=>{if((0,s.isEmpty)(e))return[];const r=e.split(",").map((e=>e.trim()));return t.reduce(((e,t)=>(r.includes(t.name)&&e.push(t.id),e)),[])},Jt=async e=>{const t=(0,d.select)("divi/settings").getSetting(["urls","admin"]),r=e.get("export_name")??"fetch-exported-json";try{const n=await(0,zt.loggedFetch)({method:"POST",restRoute:"/divi/v1/portability/export",data:e},!0),o=(0,s.get)(n,"timestamp","");if(void 0!==n.page&&void 0!==n.totalPages){const t=new FormData;return e.forEach(((e,r)=>{t.append(r,e)})),t.append("page",String(Number(n.page)+1)),t.append("timestamp",o),Jt(t)}const a=new URL(t),{searchParams:i}=a;return i.set("et_core_portability","1"),i.set("name",r),i.set("timestamp",o),a.toString()}catch(e){console.error(e)}},Xt=async e=>{const t=await Jt(e),r=await fetch(t);if(!r.ok)throw new Error(`Failed to fetch export data: ${r.statusText}`);return await r.json()},Qt=(e,t)=>{const{layout_name:r,layout_type:n,module_width:o,termsData:a,providedBaseUrl:i,selectedCloudFolderId:l}=t,s={content:e,title:r,status:"publish",width:o},c=(0,d.select)("divi/cloud-app").getCloudToken();return new Promise((e=>{qt(c,n,s,a,(t=>{e(t)}),0,i)}))},er=(e,t)=>{const r=new FormData;return r.append("layout_content",e),(0,s.forEach)(t,((e,t)=>{r.append(t,e)})),(0,zt.loggedFetch)({method:"POST",restRoute:"/divi/v1/divi-library/create-item",data:r},!0)},tr=(e,t)=>{let r;switch(t){case"save_sections":r=(0,a.__)("Section","et_builder");break;case"save_rows":r=(0,a.__)("Row","et_builder");break;case"save_modules":r="%module%";break;default:r=""}return`${e} ${r}`},rr=(e,t)=>{const r=(0,d.select)("divi/edit-post").getModule(e),{name:n}=r,o="divi/row-inner"===n?(0,d.select)("divi/edit-post").getModuleAttr(e,"module.advanced.columnStructure"):"0",a=(0,R.getModuleType)((0,s.get)(r,"name"),(0,s.get)(r,"attrs")).replace(/fullwidth-|specialty-|-inner/gi,""),i=(0,s.capitalize)(n.replace(/divi\//,""));return{...t,layout_name:t.layout_name.replace("%module%",i),columns_layout:o,layout_type:a,module_type:n,module_width:n.includes("divi/fullwidth")?"fullwidth":"regular"}},nr=async(e,t,r,n,o,a=!1)=>{const i=await(async(e,t,r,n,o,a=!1)=>{const i=r.includes("save_sections"),l=r.includes("save_rows"),s=r.includes("save_modules"),c=(0,d.select)("divi/serialized-post").getUsedGlobalColorIds(),u=(0,d.select)("divi/settings").getSetting(["post","id"]),p=(0,d.select)("divi/global-data").getGlobalColorsToExport(c),m=[];if("layout"===t){const t=e,r=t.root.children;if(i){let e=0;for(const t of r){e++;const r=(0,d.select)("divi/edit-post").getModuleWithChildren(t);if(a){const n={...o,layout_name:`${tr(o.layout_name,"save_sections")} ${e}`,layout_type:"section"},a=(0,d.select)("divi/edit-post").getCloudLayoutMetadata(t,n),i=(0,Gt.serializeModuleFlatObjects)(r),l=(0,Gt.extractGlobalVariablesIds)(i),s=(0,d.select)("divi/global-data").getGlobalVariablesToExport(l),c=new FormData;c.append("post",u),c.append("context","et_builder"),c.append("content",i),c.append("global_colors",JSON.stringify(p)),c.append("global_variables",JSON.stringify(s)),c.append("export_name",`export-section-${t}`);const f=await Xt(c);m.push({content:JSON.stringify(f),itemMetadata:a})}else{const n={...o,layout_name:`${tr(o.layout_name,"save_sections")} ${e}`},a=rr(t,n);m.push({content:(0,Gt.serializeModuleFlatObjects)(r),itemMetadata:a})}}}if(l){let e=0;for(const n of r){const r=t[n].children;for(const t of r){e++;const r=(0,d.select)("divi/edit-post").getModuleWithChildren(t);if(a){const n={...o,layout_name:`${tr(o.layout_name,"save_rows")} ${e}`},a=(0,d.select)("divi/edit-post").getCloudLayoutMetadata(t,n),i=new FormData;i.append("post",u),i.append("context","et_builder"),i.append("content",(0,Gt.serializeModuleFlatObjects)(r)),i.append("global_colors",JSON.stringify(p)),i.append("export_name",`export-row-${t}`);const l=await Xt(i);m.push({content:JSON.stringify(l),itemMetadata:a})}else{const n={...o,layout_name:`${tr(o.layout_name,"save_rows")} ${e}`},a=rr(t,n);m.push({content:(0,Gt.serializeModuleFlatObjects)(r),itemMetadata:a})}}}}if(s){let e=0;for(const n of r){const r=t[n].children;for(const n of r){const r=t[n].children;for(const n of r){const r=t[n].children;for(const t of r){e++;const r=(0,d.select)("divi/edit-post").getModuleWithChildren(t);if(a){const n={...o,layout_name:`${tr(o.layout_name,"save_modules")} ${e}`},a=(0,d.select)("divi/edit-post").getCloudLayoutMetadata(t,n),i=new FormData;i.append("post",u),i.append("context","et_builder"),i.append("content",(0,Gt.serializeModuleFlatObjects)(r)),i.append("global_colors",JSON.stringify(p)),i.append("export_name",`export-module-${t}`);const l=await Xt(i);m.push({content:JSON.stringify(l),itemMetadata:a})}else{const n={...o,layout_name:`${tr(o.layout_name,"save_modules")} ${e}`},a=rr(t,n);m.push({content:(0,Gt.serializeModuleFlatObjects)(r),itemMetadata:a})}}}}}}}else if("section"===t){const e=(0,d.select)("divi/edit-post").getModule(n).children.asMutable();if(l){let t=0;for(const r of e){t++;const e=(0,d.select)("divi/edit-post").getModuleWithChildren(r);if(a){const n={...o,layout_name:`${tr(o.layout_name,"save_rows")} ${t}`},a=(0,d.select)("divi/edit-post").getCloudLayoutMetadata(r,n),i=new FormData;i.append("post",u),i.append("context","et_builder"),i.append("content",(0,Gt.serializeModuleFlatObjects)(e)),i.append("global_colors",JSON.stringify(p)),i.append("export_name",`export-row-${r}`);const l=await Xt(i);m.push({content:JSON.stringify(l),itemMetadata:a})}else{const n={...o,layout_name:`${tr(o.layout_name,"save_rows")} ${t}`},a=rr(r,n);m.push({content:(0,Gt.serializeModuleFlatObjects)(e),itemMetadata:a})}}}if(s){let t=0;for(const r of e){const e=(0,d.select)("divi/edit-post").getModule(r).children.asMutable();for(const r of e){const e=(0,d.select)("divi/edit-post").getModule(r).children.asMutable();for(const n of e){t++;const e=(0,d.select)("divi/edit-post").getModuleWithChildren(n);if(a){const a={...o,layout_name:`${tr(o.layout_name,"save_modules")} ${t}`},i=(0,d.select)("divi/edit-post").getCloudLayoutMetadata(n,a),l=new FormData;l.append("post",u),l.append("context","et_builder"),l.append("content",(0,Gt.serializeModuleFlatObjects)(e)),l.append("global_colors",JSON.stringify(p)),l.append("export_name",`export-module-${r}`);const s=await Xt(l);m.push({content:JSON.stringify(s),itemMetadata:i})}else{const r={...o,layout_name:`${tr(o.layout_name,"save_modules")} ${t}`},a=rr(n,r);m.push({content:(0,Gt.serializeModuleFlatObjects)(e),itemMetadata:a})}}}}}}else if("row"===t){const e=(0,d.select)("divi/edit-post").getModule(n).children.asMutable();let t=0;for(const r of e){const e=(0,d.select)("divi/edit-post").getModule(r).children.asMutable();for(const r of e){t++;const e=(0,d.select)("divi/edit-post").getModuleWithChildren(r);if(a){const n={...o,layout_name:`${tr(o.layout_name,"save_modules")} ${t}`},a=(0,d.select)("divi/edit-post").getCloudLayoutMetadata(r,n),i=new FormData;i.append("post",u),i.append("context","et_builder"),i.append("content",(0,Gt.serializeModuleFlatObjects)(e)),i.append("global_colors",JSON.stringify(p)),i.append("export_name",`export-module-${r}`);const l=await Xt(i);m.push({content:JSON.stringify(l),itemMetadata:a})}else{const n={...o,layout_name:`${tr(o.layout_name,"save_modules")} ${t}`},a=rr(r,n);m.push({content:(0,Gt.serializeModuleFlatObjects)(e),itemMetadata:a})}}}}return m})(e,t,r,n,o,a);return(async(e,t)=>{const r=[];if(e.length){const n=((e,t)=>{const r=[];for(let n=0;n<e.length;n+=t)r.push(e.slice(n,n+t));return r})(e,3);for(const e of n){const n=[];for(const r of e){const{content:e,itemMetadata:o}=r;if(t){const t=o;n.push(Qt(e,t))}else{const t=o;n.push(er(e,t))}}const o=await Promise.allSettled(n);r.push(o)}}return Promise.all(r)})(i,a)},or=(e,t)=>{e.forEach((e=>{(0,d.dispatch)("divi/edit-post").setGlobalParentAttribute(e,t);const r=(0,d.select)("divi/edit-post").getModule(e),n=(0,s.get)(r,"children");n.length>0&&or(n,t)}))},ar=(0,a.__)("Add to Library","et_builder"),ir=e=>{const{owner:t}=e;let r=t;const{attributes:n,layoutCategory:o,layoutTag:l,ownerData:c,topWindowHeight:u,cloudToken:p,cloudFolders:m,cloudTerms:f,cloudFetchInProgressStatus:g,pageID:v,usedGlobalColors:h,modalDimension:b,modalOffset:y}=(0,d.useSelect)((e=>{const n=(0,d.select)("divi/serialized-post").getUsedGlobalColorIds();let o=e("divi/edit-post").getModule(t);if(o){const t=["divi/column","divi/column-inner"],n=e("divi/module-library").isChildModule(o.name);(t.includes((0,s.get)(o,"name"))||n)&&(r=(0,s.get)(o,"parent"),o=e("divi/edit-post").getModule(r))}return{attributes:e("divi/modal-library").getModalProperty({modalName:"divi/add-to-library",property:"attributes"}),ownerData:o,layoutCategory:e("divi/settings").getSetting(["taxonomy","layoutCategory"]),layoutTag:e("divi/settings").getSetting(["taxonomy","layoutTag"]),topWindowHeight:e("divi/app-ui").getWindow("height","top"),cloudToken:e("divi/cloud-app").getCloudToken(),cloudFolders:e("divi/cloud-app").getCloudFolders(),cloudTerms:e("divi/cloud-app").getCloudTerms(),cloudFetchInProgressStatus:e("divi/cloud-app").getCloudFetchInProgressStatus(),pageID:e("divi/settings").getSetting(["post","id"]),usedGlobalColors:e("divi/global-data").getGlobalColorsToExport(n),modalDimension:e("divi/modal-library").getModalProperty({modalName:"divi/add-to-library",property:"dimension"}),modalOffset:e("divi/modal-library").getModalProperty({modalName:"divi/add-to-library",property:"offset"})}})),E="on"===(n?.saveToDiviCloud??"off")?"on":"off",[w,_]=(0,i.useState)(!1),[C,S]=(0,i.useState)(E),[k]=(0,i.useState)(Se()),[x,M]=(0,i.useState)({error:""}),[I,A]=(0,i.useState)("0"),[N,O]=(0,i.useState)(!1);let T=0,D=0,F=0;const{purgeLibraryData:P}=(0,d.useDispatch)("divi/cloud-app"),L=0!==Object.keys(o).length?o.asMutable().reduce(((e,t)=>({...e,[t.name]:"off"})),{}):{},V=0!==Object.keys(o).length?o.asMutable().reduce(((e,t)=>({...e,[t.name]:{label:t.name,value:t.name}})),{}):{},B=0!==Object.keys(l).length?l.asMutable().reduce(((e,t)=>({...e,[t.name]:"off"})),{}):{},j=0!==Object.keys(l).length?l.asMutable().reduce(((e,t)=>({...e,[t.name]:{label:t.name,value:t.name}})),{}):{},q=(0,s.get)(c,"props.attrs.globalModule",!1)||(0,s.get)(c,"props.attrs.globalParent",!1),W=r?(0,R.getModuleType)((0,s.get)(c,"name"),(0,s.get)(c,"attrs")):"layout",U="group"===W?"module":W.replace(/fullwidth-|specialty-|-inner/gi,""),{itemContent:H}=(0,d.useSelect)((e=>({itemContent:e("divi/edit-post").getContent()})));let z,G,$;switch(U){case"layout":z=H.root.children,T=z.length,z.forEach((e=>{G=H[e].children,D+=G.length,G.forEach((e=>{$=H[e].children,$.forEach((e=>{F+=H[e].children.length}))}))}));break;case"section":G=c.children,D=G.length,G.forEach((e=>{$=H[e].children,$.forEach((e=>{F+=H[e].children.length}))}));break;case"row":$=c.children,$.forEach((e=>{F+=H[e].children.length}));break;default:T=0,D=0,F=0}(0,i.useEffect)((()=>{"on"===C&&(0,s.isEmpty)(p)&&(M({error:(0,a.__)("Please log in to Divi Cloud to save your layout.","et_builder")}),O(!0))}),[C,p]),(0,i.useEffect)((()=>{S(E)}),[E]);const K=!q&&!(0,s.isUndefined)(c),Z={owner:r,moduleType:U,saveToDiviCloud:C,hasSaveAsGlobal:K,hasSubmitError:w,category:{options:(()=>{if("on"===C){return Zt(f,V,"cloud_category")}return V})(),values:(()=>{if("on"===C){const e=f?.cloud_category||{},t=0!==Object.keys(e).length?Object.keys(e).reduce(((t,r)=>({...t,[e[r].name]:"off"})),L):{};return t}return L})()},tag:{options:(()=>{if("on"===C){return Zt(f,j,"cloud_tag")}return j})(),values:(()=>{if("on"===C){const e=f?.cloud_tag||{},t=0!==Object.keys(e).length?Object.keys(e).reduce(((t,r)=>({...t,[e[r].name]:"off"})),B):{};return t}return B})()},onSaveClick:({moduleNameOption:e,saveAsGlobalOption:t,addCategoryNameOption:n,addTagNameOption:a,selectedCategories:i,selectedTags:c,optionsContainerRef:u,selectedIndividualItems:p})=>{if(e=e?.trim(),(0,s.isEmpty)(e)){if(_(!0),u.current){const e=jQuery(u.current).closest(".et-vb-modal-panel");e.animate({scrollTop:0},200,"swing"),e.find("#et-vb-field-input-text-nodal-name").trigger("focus")}return}_(!1);const f="on"===t?"global":"non_global",g=new FormData;let b,y,E={};if("layout"===U)E=(0,d.select)("divi/edit-post").getContent().asMutable(),y="divi/layout";else{const e=(0,d.select)("divi/edit-post").getModule(r).asMutable(),{name:t}=e;y=t,b=e.children,E=(0,d.select)("divi/edit-post").getModuleWithChildren(r);const n="divi/row-inner"===t||"divi/row"===t?(0,d.select)("divi/edit-post").getModuleAttr(r,"module.advanced.columnStructure.desktop.value"):"0";g.append("module_type",t),g.append("module_width",t.includes("divi/fullwidth")?"fullwidth":"regular"),g.append("columns_layout",n)}const w=(0,Gt.serializeModuleFlatObjects)(E),S=(0,Gt.extractGlobalVariablesIds)(w),k=(0,d.select)("divi/global-data").getGlobalVariablesToExport(S);if(g.append("layout_name",e),g.append("post_type",(0,d.select)("divi/settings").getSetting(["post","type"])),g.append("layout_scope",f),g.append("layout_type",U),g.append("layout_content",w),g.append("layout_new_cat",n),g.append("layout_new_tag",a),(0,d.dispatch)("divi/app-ui").setGlobalPreload(!0),"on"===C){Vt.clearData();const t=Object.entries(i).filter((([,e])=>"on"===e)).map((([e])=>e)),o=Object.entries(c).filter((([,e])=>"on"===e)).map((([e])=>e)),l={categories:[...t],tags:[...o]};(0,s.isEmpty)(n)||(l.categories=[...l.categories,...n.split(",").map((e=>e.trim()))]),(0,s.isEmpty)(a)||(l.tags=[...l.tags,...a.split(",").map((e=>e.trim()))]);const u=new FormData;u.append("post",v),u.append("context","et_builder"),u.append("content",(0,Gt.serializeModuleFlatObjects)(E)),u.append("global_colors",JSON.stringify(h)),u.append("global_variables",JSON.stringify(k)),Xt(u).then((t=>{const n={content:JSON.stringify(t),title:e,status:"publish",width:y.includes("divi/fullwidth")?"fullwidth":"regular"},o=$t(I,m),a=new Promise((t=>{!function(e,t={},r={},n=!1,o=0,a="",i=0){Wt().then((l=>{const c=(0,s.get)(l,"accessToken","");if(""===c)return n&&n({error:"auth_error"}),new Promise((e=>e({error:"auth_error"})));const d=(0,s.get)(l,"sharedFolders",[]),u=(0,s.find)(d,["id",i]);return u&&!a&&(a=`${u.endpoint}/cloud/v1`),qt(c,e,t,r,n,o,a)})).catch((e=>(n&&n({error:e}),{error:e})))}(U,n,l,((n,a="")=>{if(n.error)M({error:n.error});else if((0,d.dispatch)("divi/cloud-app").setCloudToken(a),p.length){t(nr(E,U,p,r,{layout_name:e,termsData:l,providedBaseUrl:o,selectedCloudFolderId:I},!0))}else t("No individual items to save.")}),0,o,I)}));a.then((()=>{(0,d.dispatch)("divi/app-ui").setGlobalPreload(!1)})).catch((e=>{console.error(e)}))})).catch((e=>{console.error(e)}))}else{const t=o.filter((e=>"on"===i[e.name])).map((e=>e.term_id)).asMutable(),s=l.filter((e=>"on"===c[e.name])).map((e=>e.term_id)).asMutable();g.append("layout_selected_cats",String(t)),g.append("layout_selected_tags",String(s)),(0,zt.loggedFetch)({method:"POST",restRoute:"/divi/v1/divi-library/create-item",data:g},!0).then((o=>{P();const i=((e,t)=>Yt(e,t.updatedTerms.layout_category))(n,o),l=((e,t)=>Yt(e,t.updatedTerms.layout_tag))(a,o);if(p.length){const n={layout_name:e,layout_selected_cats:String([...t,...i]),layout_selected_tags:String([...s,...l]),post_type:(0,d.select)("divi/settings").getSetting(["post","type"]),layout_scope:f};new Promise((e=>{e(nr(E,U,p,r,n).catch((e=>{console.error(e)})))})).then((()=>{(0,d.dispatch)("divi/app-ui").setGlobalPreload(!1)})).catch((e=>{console.error(e)}))}if("non_global"===f)return;const c=o?.layoutData?.post_id?.toString()??"";(0,d.dispatch)("divi/edit-post").setGlobalModuleAttribute(r,c),b&&b.length>0&&or(b,c),(0,d.dispatch)("divi/global-layouts").setLayoutContent(c,E,r,!1)})).catch((e=>{console.log(e)})).finally((()=>{(0,d.dispatch)("divi/app-ui").setGlobalPreload(!1)}))}(0,d.dispatch)("divi/modal-library").close({name:"divi/add-to-library"})},onCancelClick:()=>{O(!1),S("off"),(0,d.dispatch)("divi/modal-library").close({name:"divi/add-to-library"})},onHelpClick:()=>{(0,d.dispatch)("divi/help").setCurrentListName("divi/save-to-library"),(0,d.dispatch)("divi/help").setCurrentVideo(0),(0,d.dispatch)("divi/modal-library").open({name:"divi/help"})},topWindowHeight:u,modalDimension:b,modalOffset:y,cloudFetchInProgressStatus:g,cloudId:k,cloudLibraryOptions:Kt(m),cloudStatus:x,isUserLoggingIn:N,selectedCloudFolderId:I,onDomainTokenGenerated:e=>{if((0,s.has)(e,"divi_cloud_token")){const t=function(e,t){const r=e.match(/.{1,2}/g).map((e=>parseInt(e,16))).map((e=>(e=>e.split("").map((e=>e.charCodeAt(0))))(t).reduce(((e,t)=>e^t),e))).map((e=>String.fromCharCode(e)));return r.join("")}((0,s.get)(e,"divi_cloud_token"),k),r=1===(0,s.get)(e,"save_session_on_this_website",0);M({error:""}),(0,d.dispatch)("divi/cloud-app").setCloudToken(t),function(e,t=!1){return Wt(e,t)}(t,r).then((e=>{e.error?M({error:e.error}):((0,d.dispatch)("divi/cloud-app").setCloudFetchInProgressStatus("sharedFolders",!0),(0,d.dispatch)("divi/cloud-app").setCloudFetchInProgressStatus("cloud_category",!0),(0,d.dispatch)("divi/cloud-app").setCloudFetchInProgressStatus("cloud_tag",!0),Wt().then((e=>{const t=(0,s.get)(e,"accessToken","");if(""===t);else{const r=(0,s.get)(e,"sharedFolders",[]);(0,d.dispatch)("divi/cloud-app").setCloudFolders(r),(0,d.dispatch)("divi/cloud-app").setCloudFetchInProgressStatus("sharedFolders",!1);const n=$t(I,r);jt({type:"categoriesList",perPage:100,pageNo:1,isUserItems:!0,token:t,providedBaseUrl:n}).then((e=>{e.error||(0,d.dispatch)("divi/cloud-app").setCloudTerms("cloud_category",e.data),(0,d.dispatch)("divi/cloud-app").setCloudFetchInProgressStatus("cloud_category",!1)})),jt({type:"tagsList",perPage:100,pageNo:1,isUserItems:!0,token:t,providedBaseUrl:n}).then((e=>{e.error||(0,d.dispatch)("divi/cloud-app").setCloudTerms("cloud_tag",e.data),(0,d.dispatch)("divi/cloud-app").setCloudFetchInProgressStatus("cloud_tag",!1)}))}})),O(!1))}))}},updateCloudStatus:e=>{O(!1),M(e)},updateSaveToDiviCloudOption:e=>{O(!1),S(e)},updateSelectedCloudFolderId:e=>{A(e)},sectionsCount:T,rowsCount:D,modulesCount:F};return(0,i.createElement)(ge,Z)},lr={component:ir,dimension:me,name:"divi/add-to-library",label:ar,type:"multiInstanceModal",autoCloseOnClickOutside:!0,autoCloseExceptionSelector:".et-vb-modal",canBeSavedOnWorkspace:!1},sr=({name:e,children:t,footerButtons:r=[],title:n=(0,a.__)("Alert","et_builder"),centered:o=!1})=>l().createElement(u.ErrorBoundary,{key:"et-vb-divi-modals--alert",componentName:"et-vb-divi-modals--alert"},l().createElement(l().Fragment,null,l().createElement(p.WrapperContainer,{modalName:e,centered:o,snappable:!0,draggable:!0,resizable:!0,expandable:!0},l().createElement(p.Header,{name:n}),l().createElement(p.BodyContainer,null,l().createElement(p.Panel,{id:"alert",opened:!0},t)),l().createElement(p.Footer,{buttons:r})))),cr="divi/alert",dr={name:"close",label:(0,a.__)("Close","et_builder"),onClick:e=>{e.preventDefault(),(0,d.dispatch)("divi/modal-library").close({name:cr})}},ur=()=>{const{attributes:e}=(0,d.useSelect)((e=>({attributes:e("divi/modal-library").getModalProperty({modalName:"divi/alert",property:"attributes"})})));return l().createElement(sr,{name:cr,title:e?.title,footerButtons:e?.footerButtons||[dr],centered:e?.centered},e?.content)},pr=(0,a.__)("Alert","et_builder"),mr={name:cr,label:pr,type:"multiInstanceModal",component:ur},fr=({breakpointsStoreState:e,breakpointsState:t})=>{let r=!1,n=!1;(0,s.forEach)(t,((t,o)=>{const a=e?.[o]?.enable,i=t?.enable;a!==i&&(i&&(r=!0),i||(n=!0))}));let o=(0,a.__)("Updating breakpoints will take affect across your entire website.","et_builder");return r&&n?o=(0,a.__)("Updating breakpoints will affect take affect across your entire website. When disabling a breakpoint, its styles will be stored for posterity. When enabling a breakpoint, any existing styles for that breakpoint will be restored.","et_builder"):r?o=(0,a.__)("Updating breakpoints will take affect across your entire website. When enabling a breakpoint, any existing styles for that breakpoint will be restored.","et_builder"):n&&(o=(0,a.__)("Updating breakpoints will take affect across your entire website. When disabling a breakpoint, its styles will be stored for posterity.","et_builder")),o},gr=e=>{const t={};return(0,s.forEach)(e,(e=>{e.baseDevice||(t[e.name]={},"minWidth"in e&&(t[e.name].minWidth={value:e.minWidth.value}),"maxWidth"in e&&(t[e.name].maxWidth={value:e.maxWidth.value}),"enable"in e&&(t[e.name].enable=e.enable))})),t},vr=!1,hr=({onClickCancel:e,onClickSave:t,breakpointsStoreState:r,isSaving:n})=>{const[o,c]=(0,i.useState)((0,s.cloneDeep)(r)),[d,m]=(0,i.useState)(!1),f=(e=>{const t=Object.values(e);return t.sort(((e,t)=>e.order-t.order)),t})(r),g=(0,i.useCallback)((0,s.debounce)((({name:e,value:t,type:r})=>{const n="desktop",a=f.findIndex((t=>t.name===e));let i=f?.[a-1]?.name,l=f?.[a+1]?.name;n===i&&(i=f?.[a-2]?.name),n===l&&(l=f?.[a+2]?.name);const d=o?.[i]?.maxWidth?.value??o?.[i]?.minWidth?.value??o?.[i]?.maxWidth?.default??o?.[i]?.minWidth?.default,u=o?.[l]?.minWidth?.value??o?.[l]?.maxWidth?.value??o?.[l]?.minWidth?.default??o?.[l]?.maxWidth?.default,p="number"==typeof d?d:parseInt(d),m="number"==typeof u?u:parseInt(u);let g=parseInt(t);(0,s.isNaN)(g)&&(g=0),g<=p&&(g=p+1),l&&g>=m&&(g=m-1);const v={...o};v[e][r].value=`${g}px`,c(v)}),1e3),[]),h=({name:e,value:t,type:r})=>{const n={...o};n[e][r].value=t,c(n),g.cancel(),""!==t&&g({name:e,value:t,type:r})};return l().createElement(u.ErrorBoundary,{key:"et-vb-divi-modal--breakpoint-settings",componentName:"et-vb-divi-modal--breakpoint-settings"},l().createElement(p.WrapperContainer,{dimension:{width:280,height:460},modalName:"divi/breakpoints-settings"},l().createElement(p.Header,{name:(0,a.__)("Sitewide Responsive Breakpoints","et_builder")}),l().createElement(p.BodyContainer,null,l().createElement(p.PanelContainer,{id:"breakpoint-settings",opened:!0},l().createElement("div",{className:"et-vb-breakpoint-settings-options-wrapper"},f.map((e=>{const t=e.name,r="desktop"===t,n=o?.[t]?.enable,s=o?.[t]?.minWidth?.value,d=o?.[t]?.maxWidth?.value;return l().createElement("div",{className:v()({"et-vb-breakpoint-settings-option":!0,[`et-vb-breakpoint-settings-option--${t}`]:!0,"et-vb-breakpoint-settings-option--enabled":n,"et-vb-breakpoint-settings-option--disabled":!n}),key:`et-vb-breakpoint-settings-option--${t}`},l().createElement("div",{className:"et-vb-breakpoint-settings-option-icon"},l().createElement(w.IconSvg,{name:e?.icon?.name??"divi/desktop",size:14,viewBox:e?.icon?.viewBox??"0 0 28 28",color:n?"var(--dark-gray)":"var(--medium-gray)",iconComponentProps:{color:n?"var(--dark-gray)":"var(--medium-gray)"}})),l().createElement("div",{className:"et-vb-breakpoint-settings-option-label"},e.label),e.baseDevice&&l().createElement("div",{className:"et-vb-breakpoint-settings-option-base-device"},(0,a.__)("Base Device","et_builder")),!e.baseDevice&&l().createElement(i.Fragment,null,e?.minWidth?.default?l().createElement(i.Fragment,null,l().createElement("span",{className:"et-vb-breakpoint-settings-option-operator",style:{opacity:e?.minWidth?.default?1:.4}},">"),l().createElement("div",{className:"et-vb-breakpoint-settings-option-input",style:{opacity:e?.minWidth?.default?1:.4}},l().createElement(E.Text,{name:`breakpoint-setting-input-min-width--${t}`,onChange:({inputValue:e})=>{h({name:t,value:e,type:"minWidth"})},value:s,readonly:!n,showPlaceholderOnEmpty:!0,defaultValue:`${e?.minWidth?.default}px`,onBlur:r=>{""===r.target.value&&h({name:t,value:`${e?.minWidth?.default}px`,type:"minWidth"})}}))):vr,e?.maxWidth?.default?l().createElement(i.Fragment,null,l().createElement("span",{className:"et-vb-breakpoint-settings-option-operator",style:{opacity:e?.maxWidth?.default?1:.4}},"<"),l().createElement("div",{className:"et-vb-breakpoint-settings-option-input",style:{opacity:e?.maxWidth?.default?1:.4}},l().createElement(E.Text,{name:`breakpoint-setting-input-max-width--${t}`,onChange:({inputValue:e})=>{h({name:t,value:e,type:"maxWidth"})},value:d,readonly:!n,showPlaceholderOnEmpty:!0,defaultValue:`${e?.maxWidth?.default}px`,onBlur:r=>{""===r.target.value&&h({name:t,value:`${e?.maxWidth?.default}px`,type:"maxWidth"})}}))):vr,l().createElement("div",{className:"et-vb-breakpoint-settings-option-toggle"},l().createElement(E.Toggle,{name:`breakpoint-setting-toggle--${t}`,onChange:()=>{(({name:e,enable:t})=>{const r={...o};r[e].enable=t,c(r)})({name:t,enable:!n})},value:n?"on":"off",readonly:r}))))}))))),l().createElement(p.Footer,{buttons:[{name:"cancel",label:(0,a.__)("Cancel","et_builder"),onClick:e},{name:"save",buttonColor:"primary",label:(0,a.__)("Save","et_builder"),onClick:()=>{!(0,s.isEqual)(r,o)?m(!0):e()}}]}),d&&l().createElement("div",{className:"et-vb-breakpoint-settings-modal-saving-confirmation-overlay"},l().createElement(p.Footer,{message:fr({breakpointsStoreState:r,breakpointsState:o}),buttons:[{name:"cancel",label:(0,a.__)("Cancel","et_builder"),onClick:()=>{m(!1)}},{name:"save",buttonColor:"primary",label:n?(0,a.__)("Saving...","et_builder"):(0,a.__)("Update","et_builder"),disabled:n,onClick:()=>{t({items:gr(o)})}}]}))))},br={name:"divi/breakpoints-settings",label:(0,a.__)("Sitewide Responsive Breakpoints","et_builder"),type:"multiInstanceModal",component:()=>{const[e,t]=(0,i.useState)(!1),{breakpointsStoreState:r}=(0,d.useSelect)((e=>({breakpointsStoreState:e("divi/settings").getSetting(["breakpoints","items"])})));return l().createElement(hr,{breakpointsStoreState:r?.asMutable({deep:!0}),onClickCancel:()=>{(0,d.dispatch)("divi/modal-library").close({name:"divi/breakpoints-settings"})},onClickSave:e=>{(0,d.dispatch)("divi/settings").updateBreakpointsSettings({...e,onSyncSuccess:()=>{t(!1);const e=(0,d.select)("divi/settings").getSetting(["breakpoints","items"])?.asMutable({deep:!0});(0,d.dispatch)("divi/app-ui").updateViews({breakpoints:e});const r=(0,d.select)("divi/app-ui").getView();if(!(0,d.select)("divi/settings").getEnabledBreakpointNames().includes(r)&&"wireframe"!==r){const e=(0,d.select)("divi/settings").getBaseBreakpointName();W()("html").attr("data-et-app-view",e),(0,d.dispatch)("divi/app-ui").setView(e)}(0,d.dispatch)("divi/modal-library").close({name:"divi/breakpoints-settings"})}}),t(!0)},isSaving:e})},autoCloseOnClickOutside:!0,autoCloseExceptionSelector:".et-vb-page-bar-responsive-button--active"};var yr=window.divi.appPreferences;const Er=e=>{const{onChange:t,inputValue:r}=e;t(["modal","preference"],r);const n=(0,d.select)("divi/modal-library").isModalActive("divi/module")?"divi/module":!!(0,d.select)("divi/modal-library").isModalActive("divi/page-settings")&&"divi/page-settings",o=!!(0,s.includes)(["left","right"],r)&&e.inputValue;if((0,d.dispatch)("divi/modal-library").setSidebarPosition({name:"divi/module",sidebarPosition:o}),(0,d.dispatch)("divi/modal-library").setSidebarPosition({name:"divi/page-settings",sidebarPosition:o}),"string"==typeof n){const t=(0,d.select)("divi/app-ui").getSidebarModalInfo(n);if(t?.active){if("right"===e.inputValue&&"sidebarRight"===t.sidebarName)return;if("left"===e.inputValue&&"sidebarLeft"===t.sidebarName)return;(0,d.dispatch)("divi/app-ui").undockModalFromSidebarRow({modalName:n,sidebarRowId:t.sidebarRowId})}switch(e.inputValue){case"right":(0,d.select)("divi/app-ui").isElementVisible("sidebarRight")?(0,d.dispatch)("divi/app-ui").dockModalToSidebarRow({modalName:n,modalType:"singleInstanceModal",newSidebarRowId:Se(),position:"below",sidebarRowId:(0,d.select)("divi/app-ui").getSidebarLastRowId("right")}):(0,d.dispatch)("divi/app-ui").dockModalToSidebar({modalName:n,modalType:"singleInstanceModal",newSidebarRowId:Se(),sidebarName:"sidebarRight"});break;case"left":(0,d.select)("divi/app-ui").isElementVisible("sidebarLeft")?(0,d.dispatch)("divi/app-ui").dockModalToSidebarRow({modalName:n,modalType:"singleInstanceModal",newSidebarRowId:Se(),position:"below",sidebarRowId:(0,d.select)("divi/app-ui").getSidebarLastRowId("left")}):(0,d.dispatch)("divi/app-ui").dockModalToSidebar({modalName:n,modalType:"singleInstanceModal",newSidebarRowId:Se(),sidebarName:"sidebarLeft"});break;case"minimum":default:break;case"saved":{const e=(0,d.select)("divi/settings").getSetting(["workspaces","builtIn","last-used"]);(0,d.dispatch)("divi/app-ui").setWorkspace({workspace:e?.asMutable({deep:!0})});break}}}},wr=e=>{W()("html").attr("data-et-app-view",e),(0,d.dispatch)("divi/app-ui").setView(e)},_r=({onClick:e})=>l().createElement("button",{type:"button",className:"et-vb-builder-settings-button-reset",onClick:f.handleOnClickFallback,onMouseDown:e},l().createElement("span",{className:"et-vb-builder-settings-button-reset-label"},(0,a.__)("Reset","et_builder")),l().createElement(w.IconSvg,{name:"divi/reset-field",viewBox:"-3 -3 20 20",size:10})),Cr=({defaults:e,onChangeView:t=s.noop,onChange:r,preferences:n,bodySiblingHeight:o,setElementProperty:i,isThemeBuilder:c})=>l().createElement(u.ErrorBoundary,{key:"et-vb-divi-modal--builder-settings",componentName:"et-vb-divi-modal--builder-settings"},l().createElement(p.WrapperContainer,{dimension:null,offset:null,snappable:!0,expandable:!0,draggable:!0,resizable:!0,centered:!1,modalName:"divi/builder-settings",bodySiblingHeight:o},l().createElement(p.Header,{name:(0,a.__)("Builder Settings","et_builder")}),l().createElement(p.BodyContainer,null,l().createElement(p.PanelContainer,{id:"builder-settings",opened:!0},l().createElement(p.FieldWrapper,{label:(0,a.__)("Builder Default View Mode","et_builder"),id:"builder-default-view-mode"},l().createElement(E.SelectContainer,{name:"appView",onChange:e=>{r(["app","view"],e.inputValue),t(e.inputValue)},value:n.appView,options:yr.views}),n.appView===e.appView?null:l().createElement(_r,{onClick:()=>{r(["app","view"],e.appView),t(e.appView)}})),l().createElement(p.FieldWrapper,{label:(0,a.__)("History State Interval","et_builder"),id:"history-state-interval"},l().createElement(E.SelectContainer,{name:"historyInterval",onChange:e=>{r(["history","interval"],e.inputValue)},value:n.historyInterval,options:yr.historyIntervals}),n.historyInterval===e.historyInterval?null:l().createElement(_r,{onClick:()=>r(["history","interval"],e.historyInterval)})),l().createElement(p.FieldWrapper,{label:(0,a.__)("Settings Modal Default Position","et_builder"),id:"settings-modal-default-position"},l().createElement(E.SelectContainer,{name:"modalPreference",onChange:e=>{Er({onChange:r,inputValue:e.inputValue})},value:n.modalPreference,options:yr.modalPositions}),n.modalPreference===e.modalPreference?null:l().createElement(_r,{onClick:()=>Er({onChange:r,inputValue:e.modalPreference})})),l().createElement(p.FieldWrapper,{label:(0,a.__)("Page Creation Flow","et_builder"),id:"page-creation-flow"},l().createElement(E.SelectContainer,{name:"pageCreationFlowOnStart",onChange:e=>{r(["pageCreationFlow","onStart"],e.inputValue)},value:n.pageCreationFlowOnStart,options:yr.pageCreationFlows}),n.pageCreationFlowOnStart===e.pageCreationFlowOnStart?null:l().createElement(_r,{onClick:()=>r(["pageCreationFlow","onStart"],e.pageCreationFlowOnStart)})),l().createElement(p.FieldWrapper,{label:(0,a.__)("Show Disabled Modules At 50% Opacity","et_builder"),id:"show-disabled-modules-at-50-percent-opacity"},l().createElement(E.Toggle,{name:"moduleDisabled",value:"transparent"===n.moduleDisabled?"on":"off",onChange:e=>{r(["module","disabled"],"on"===e.inputValue?"transparent":"hidden")}}),n.moduleDisabled===e.moduleDisabled?null:l().createElement(_r,{onClick:()=>r(["module","disabled"],e.moduleDisabled)})),l().createElement(p.FieldWrapper,{label:(0,a.__)("Group Settings Into Closed Toggles","et_builder"),id:"group-settings-into-closed-toggles"},l().createElement(E.Toggle,{name:"modalAlwaysCollapseGroups",value:n.modalAlwaysCollapseGroups?"on":"off",onChange:e=>{r(["modal","alwaysCollapseGroups"],"on"===e.inputValue)}}),n.modalAlwaysCollapseGroups===e.modalAlwaysCollapseGroups?null:l().createElement(_r,{onClick:()=>r(["modal","alwaysCollapseGroups"],e.modalAlwaysCollapseGroups)})),l().createElement(p.FieldWrapper,{label:(0,a.__)("Add Placeholder Content To New Modules","et_builder"),id:"add-placeholder-conetnt-to-new-modules"},l().createElement(E.Toggle,{name:"dummyContent",value:n.moduleDummyContent?"on":"off",onChange:e=>{r(["module","dummyContent"],"on"===e.inputValue)}}),n.moduleDummyContent===e.moduleDummyContent?null:l().createElement(_r,{onClick:()=>r(["module","dummyContent"],e.moduleDummyContent)})),l().createElement(p.FieldWrapper,{label:(0,a.__)("Interface Mode","et_builder"),id:"interface-mode"},l().createElement(E.SelectContainer,{name:"appColorMode",onChange:e=>{r(["app","colorMode"],e.inputValue)},value:n.appColorMode,options:{light:{name:"light",label:(0,a.__)("Light","et_builder")},dark:{name:"dark",label:(0,a.__)("Dark","et_builder")}}})),l().createElement(p.FieldWrapper,{label:(0,a.__)("Color Scheme","et_builder"),id:"color-scheme"},l().createElement(E.SelectContainer,{name:"appColorScheme",onChange:e=>{r(["app","colorScheme"],e.inputValue)},value:n.appColorScheme,options:{blue:{name:"blue",label:(0,a.__)("Blue","et_builder")},purple:{name:"purple",label:(0,a.__)("Purple","et_builder")},green:{name:"green",label:(0,a.__)("Green","et_builder")},red:{name:"red",label:(0,a.__)("Red","et_builder")},orange:{name:"orange",label:(0,a.__)("Orange","et_builder")}}})),!c&&l().createElement(p.FieldWrapper,{label:(0,a.__)("Enable Admin Bar","et_builder"),id:"enable-admin-bar"},l().createElement(E.Toggle,{name:"toggleAdminBar",value:n.appAdminBar?.visible?"on":"off",onChange:e=>{const t="on"===e.inputValue;r(["app","adminBar"],{visible:t}),i({elementName:"adminBar",propertyGroup:"dimension",propertyName:"height",value:32})}})))))),Sr=()=>{const{bodySiblingHeight:e,defaults:t,preferences:r,isThemeBuilder:n}=(0,d.useSelect)((e=>({bodySiblingHeight:e("divi/modal-library").getModalProperty({modalName:"divi/builder-settings",property:"bodySiblingHeight"}),defaults:e("divi/app-preferences").getPreferences({mode:"defaults"}),preferences:e("divi/app-preferences").getPreferences({mode:"preferences"}),isThemeBuilder:e("divi/settings").getSetting(["conditionalTags","is_tb"])})));return(0,i.createElement)(Cr,{bodySiblingHeight:e,defaults:t,onChange:(0,d.dispatch)("divi/app-preferences").set,onChangeView:wr,preferences:r,setElementProperty:(0,d.dispatch)("divi/app-ui").setElementProperty,isThemeBuilder:n})},kr={component:Sr,name:"divi/builder-settings",label:(0,a.__)("Builder Settings","et_builder"),type:"multiInstanceModal"},xr={width:360,height:370},Mr=({name:e,onOptionClick:t,selected:r,isColumnInner:n,sectionColumnType:o})=>l().createElement(u.ErrorBoundary,{key:"et-vb-divi-modals--add-module",componentName:"et-vb-divi-modals--add-module"},l().createElement(p.WrapperContainer,{snappable:!1,expandable:!1,caretStaysOnAppWindowClickPosition:!0,modalName:e,dimension:xr},l().createElement(p.Header,{name:(0,a.__)("Choose Layout","et_builder")}),l().createElement(p.BodyContainer,null,l().createElement(p.PanelContainer,{id:"choose-column",opened:!0},l().createElement(b,{onOptionClick:t,selected:r,inner:n,sectionColumnType:o}))))),Ir=e=>{const{owner:t}=e,r=(0,d.useSelect)((e=>{const r=e("divi/edit-post").getModule(t);return{row:r,rowParent:e("divi/edit-post").getParentModule(r.id),bodySiblingHeight:e("divi/modal-library").getModalProperty({modalName:"divi/choose-column",property:"bodySiblingHeight"})}})),n=(0,s.get)(r.row,"props.attrs.module.advanced.columnStructure.desktop.value",""),o="divi/row-inner"===(0,s.get)(r.row,"name"),a=o?(0,s.get)(r.rowParent,["props","attrs","module","advanced","type","desktop","value"],""):"";return(0,i.createElement)(Mr,{...e,onOptionClick:e=>{e.preventDefault();const r=e?.target?.getAttribute("data-column-layout");(0,d.dispatch)("divi/edit-post").changeColumnStructure(t,r),(0,d.dispatch)("divi/modal-library").close({name:"divi/choose-column"}),(0,d.dispatch)("divi/modal-library").open({name:"divi/module",owner:t})},selected:n,isColumnInner:o,sectionColumnType:a,bodySiblingHeight:r.bodySiblingHeight})},Ar={name:"divi/choose-column",label:(0,a.__)("Choose Column","et_builder"),type:"multiInstanceModal",component:Ir,canBeSavedOnWorkspace:!1},Nr={width:280,height:168},Or=({onClearClick:e})=>l().createElement(u.ErrorBoundary,{key:"et-vb-divi-modal--clear-layout",componentName:"et-vb-divi-modal--clear-layout"},l().createElement(p.WrapperContainer,{modalName:"divi/clear-layout",snappable:!0,expandable:!0,draggable:!0,dimension:Nr},l().createElement(p.Header,{name:(0,a.__)("Clear Layout","et_builder")}),l().createElement("div",{className:"et-vb-divi-modal-message"},(0,a.__)("All of your current page content will be lost. Do you wish to proceed?","et_builder")),l().createElement(p.Footer,{buttons:[{name:"clear-layout",label:(0,a.__)("Yes","et_builder"),showIcon:!1,showLabel:!0,showTooltip:!1,onClick:e}]}))),Tr=(0,a.__)("Clear Layout","et_builder"),Dr={component:()=>(0,i.createElement)(Or,{onClearClick:e=>{e.preventDefault(),(0,d.dispatch)("divi/modal-library").close({name:"divi/module"}),(0,d.dispatch)("divi/modal-library").close({name:"divi/module-shortcode"}),(0,d.dispatch)("divi/edit-post").clearLayout(),(0,d.dispatch)("divi/modal-library").close({name:"divi/clear-layout"})}}),dimension:Nr,name:"divi/clear-layout",label:Tr,type:"multiInstanceModal",autoCloseOnClickOutside:!0};var Fr=window.divi.conversion;const Pr=e=>{const{onChange:t,defaultValue:r,value:n,mode:o,isGlobal:s}=e,[c,f]=(0,i.useState)(n),[g,v]=(0,i.useState)(null),[h,b]=(0,i.useState)("grid");(0,i.useEffect)((()=>{v(c?.replace("var(--","").replace(")",""))}),[c]);const{globalColors:y}=(0,d.useSelect)((e=>({globalColors:e("divi/global-data").getGlobalColorsByStatus("active")}))),w=Object.entries(y).map((([e,t])=>({id:e,name:t.label||t.color,value:t.color,color:t.color,label:t.label||t.color,params:{hex:t.color}}))),_=s?(0,a.__)("Filter Global Color","et_builder"):(0,a.__)("Color Picker","et_builder");return l().createElement(u.ErrorBoundary,{componentName:"et-vb-divi-modals--color-picker"},l().createElement(l().Fragment,null,l().createElement(p.WrapperContainer,{modalName:"divi/color-picker",draggable:!0,expandable:!0,resizable:!0,clampVerticalOffset:!0},l().createElement(p.Header,{name:_}),l().createElement(p.BodyContainer,null,l().createElement(p.PanelContainer,{id:"color-picker",opened:!0},l().createElement("div",{className:"et-vb-color-picker-modal-full-color-picker-wrapper"},l().createElement(E.ColorPickerContainer,{defaultValue:r,onChange:e=>{t(e),f(e?.inputValue)},value:c,mode:o,isGlobal:s}),!s&&l().createElement(i.Fragment,null,l().createElement(E.ColorPickerDivider,null),l().createElement("div",{className:"et-vb-color-picker-modal-global-colors-wrapper"},l().createElement(m.ItemViewer,{title:(0,a.__)("Global Colors","et_builder"),items:w,view:h,onViewChange:b,onAddItem:()=>{(0,d.dispatch)("divi/modal-library").open({name:"divi/manage-global-variable",dimension:{width:420,height:400},attributes:{initialOpenGroupId:"colors"}}),(0,d.dispatch)("divi/modal-library").close({name:"divi/color-picker"}),(0,d.dispatch)("divi/global-data").addGlobalVariable({label:"",value:"",groupKey:"colors"})},onMore:()=>{(0,d.dispatch)("divi/modal-library").open({name:"divi/manage-global-variable",dimension:{width:420,height:400},attributes:{initialOpenGroupId:"colors"}}),(0,d.dispatch)("divi/modal-library").close({name:"divi/color-picker"})},onClickItem:({id:e})=>{const r=(0,Fr.formatDynamicContent)(e,{});f(r),(0,d.dispatch)("divi/modal-library").close({name:"divi/color-picker"}),t({inputValue:r})},renderPreview:e=>((e,t)=>{const r=(0,E.parseValueIntoState)(e.value),n=`#${r?.value?.label}`,o=r?.value?.opacity,a=r?.relativeHSL?.value,i="grid"===t?24:16;return l().createElement(E.ColorRenderPreview,{size:i,baseColor:n,hsl:a,opacity:o,globalVariable:!0})})(e,h),renderTitle:e=>String(e.name),renderValue:e=>{const t=(0,E.parseValueIntoState)(e.value),r=`#${t?.value?.label}`;return 100===t?.value?.opacity?r:`${r} / ${t.value.opacity}%`},addItemLabel:(0,a.__)("Add Global Color","et_builder"),moreLabel:(0,a.__)("Manage Global Colors","et_builder"),selectedId:g,gridPreviewSize:24,listPreviewSize:16})))))))))},Lr="divi/color-picker",Rr=()=>{const{attributes:e}=(0,d.useSelect)((e=>({attributes:e("divi/modal-library").getModalProperty({modalName:Lr,property:"attributes"})}))),{onChange:t,defaultValue:r,value:n,mode:o,isGlobal:a}=e;return l().createElement(Pr,{onChange:t,defaultValue:r,value:n,mode:o,isGlobal:a})},Vr={autoCloseOnClickOutside:!0,component:Rr,label:(0,a.__)("Color Picker","modal-library"),name:Lr,type:"multiInstanceModal",dimensionMinimum:{height:340}},Br=e=>{const{autofocus:t,className:r,defaultValue:n,name:o,onBlur:a,onChange:c,onFocus:u,onKeyDown:p,readonly:m,renderAfter:f=(()=>null),renderBefore:g=(()=>null),showPlaceholderOnEmpty:h,value:b}=e,y=(0,i.useRef)(null);(0,i.useEffect)((()=>{t&&y.current&&setTimeout((()=>y.current.focus()),250)}),[]);const E=v()({"et-vb-field-input":!0,"et-vb-field-input-text":!0},r);let w=""!==b?n:"";h&&(w=n);return l().createElement("div",{className:"et-vb-field-input-text-wrap"},(0,s.isFunction)(g)?g(b):null,l().createElement("input",{type:"text",ref:y,id:`et-vb-field-input-text-${o}`,name:`et-vb-field-input-text-${o}`,value:(0,s.isNil)(b)?"":b,onChange:s.noop,readOnly:m,placeholder:w,onInput:e=>{const t=e.target.value;c({inputValue:t})},onKeyDown:p,className:E,onFocus:u,onBlur:a,onContextMenu:e=>{e.stopPropagation(),(0,d.dispatch)("divi/right-click-options").unset()}}),(0,s.isString)(f)?l().createElement("span",{className:"et-vb-input-field-render-after"},f):null,(0,s.isFunction)(f)?f(b):null)};Br.defaultProps={className:"",onBlur:s.noop,onFocus:s.noop,onkeydown:s.noop,defaultValue:null,autofocus:!1,readonly:!1};const jr="divi/text";Br.fieldName=jr;const qr=e=>{const{filteredHoverIndex:t,optionArray:r,placeholder:n,value:o,onChange:a}=e,[s,c]=(0,i.useState)(o);return(0,i.useEffect)((()=>{a(s,t,r)}),[s,t,r]),l().createElement("li",{className:"et-vb-select-options-filter select-option-item"},l().createElement(Br,{autofocus:!0,defaultValue:n,showPlaceholderOnEmpty:!0,value:o,name:"filterOptions",onChange:({inputValue:e})=>c(e)}))},Wr=(0,i.memo)(qr);var Ur=r(69111);const Hr=({value:e="",displayCheckMark:t=!0,label:r,isSelected:n,isHovered:o,className:c,customMarker:d,itemIndex:u,isPlaceholder:p,isStatic:m,onChange:g=s.noop,setHoverItem:h=s.noop,resetHoverItem:b=s.noop,onHover:y=s.noop,customContent:E,customMarkerAction:_,separator:C,separatorText:S})=>{const k="function"!=typeof r,x=v()({"select-option-item":!0,"et-vb-selected-item":n,"select-option-item-hovered":o&&k,"select-option-item-placeholder":p,"select-option-item-static":m,"select-option-item-separator-top":C?.top,"select-option-item-separator-bottom":C?.bottom,[`select-option-item-${String(e).replace(/ /g,"_")}`]:!0},c),M=o?"#FFFFFF":"#37C4AA",I=o?"#FFFFFF":"#bec9d5",A=(0,i.useRef)(null);(0,i.useEffect)((()=>{o&&k&&A.current&&A.current.scrollIntoView({behavior:"instant",block:"nearest"})}),[o,k]);const N=(0,i.useCallback)((t=>{h(u,e),y(t,e)}),[u,e]),O=(0,i.useCallback)((e=>{void 0!==e.relatedTarget.closest&&e.relatedTarget.closest(".select-option-item")||b()}),[]),T=(0,s.isFunction)(r)?(0,i.createElement)(r,{isHovered:o,isSelected:n,isPlaceholder:p}):r;return l().createElement(i.Fragment,null,l().createElement("li",{className:x,onClick:f.handleOnClickFallback,onMouseOver:N,onFocus:N,onMouseLeave:O,onBlur:O,onKeyDown:s.noop,"data-value":e,"aria-selected":n,role:"option",ref:A,onMouseDown:t=>{t.target.closest(".et-vb-select-additional-content-container, .et-vb-font-removal-activated")||p||m||(t.stopPropagation(),g(e))}},!m&&l().createElement("span",{className:"select-option-item__name"},(0,i.isValidElement)(T)?T:(0,Ur.decode)((0,s.toString)(T))),!(0,s.isUndefined)(E)&&E(),m&&l().createElement(l().Fragment,null,(0,i.isValidElement)(T)?T:(0,Ur.decode)((0,s.toString)(T))),n&&t&&l().createElement(w.IconSvg,{name:"divi/check",color:M}),!(0,s.isEmpty)(d)&&"none"!==d&&!(n&&t)&&l().createElement("span",{className:"et-vb-select-marker",onClick:f.handleOnClickFallback,onKeyDown:s.noop,tabIndex:-1,role:"button","aria-label":(0,a.__)("Marker","et_builder"),onMouseDown:t=>{"function"==typeof _&&(t.stopPropagation(),_(e))}},"divi/caret-down"===d?l().createElement(w.IconSvg,{name:d,color:I,viewBox:"0 0 6 4"}):l().createElement(w.IconSvg,{name:d,color:I,className:"et-vb-icon--custom-marker"}))),S&&l().createElement("li",{className:"select-option-item-separator-text select-option-item-separator-top"},S))},zr=(0,i.memo)(Hr),Gr=[{name:"iconPickerDropdown-close",label:(0,a.__)("Close Responsive & State Picker","et_builder"),keys:["Escape"],category:"modal",action:s.noop},{name:"iconPickerDropdown-prev",label:(0,a.__)("Select Prev Responsive State Picker Option","et_builder"),keys:["ArrowUp"],category:"modal",action:s.noop},{name:"iconPickerDropdown-next",label:(0,a.__)("Select Next Responsive State Picker Option","et_builder"),keys:["ArrowDown"],category:"modal",action:s.noop},{name:"iconPickerDropdown-execute",label:(0,a.__)("Execute Selected Responsive State Picker Option","et_builder"),keys:["Enter"],category:"modal",action:s.noop}],$r=(e,t)=>{let r;return(0,s.forEach)(e,((e,n)=>{if((0,s.isUndefined)(r)&&n===t&&(r={...e}),(0,s.isUndefined)(r)&&(0,s.has)(e,"options")){const n=$r(e.options,t);(0,s.isUndefined)(n)||(r={...n})}})),r},Kr=(e,t,r=s.noop)=>{const n=e.find(".et-vb-settings-custom-select-wrapper-inner:first"),o=n.length?n.outerHeight():0,a=Math.max(o,t)||0,i=((0,d.select)("divi/app-ui").getElementProperty({elementName:"adminBar",propertyName:"height",propertyGroup:"dimension"})||0)+((0,d.select)("divi/app-ui").getElementProperty({elementName:"pageBar",propertyName:"height",propertyGroup:"dimension"})||0)+30,l=(0,m.getViewportAdaptablePositioning)(W()(f.topWindow),e,e,a,i,100);r({menuPosition:l.position.top,menuWidth:l.size.width,menuHeight:l.size.height})},Zr=e=>{const t=window?.wpCookies?.get(`et-pb-recent-items-${e}`);return t?t.split("|"):[]};let Yr=0;const Jr=({name:e,onChange:t,options:r,value:n,activeOnLoad:o,additionalOptions:c={},afterList:u=s.noop,beforeList:p=s.noop,className:g,cookiePath:h="",defaultValue:b,displayCheckMark:y=!0,displayRecent:E,emptyLabel:_,groupSeparator:C=!0,labelFilter:S,menuPositionOffset:k,multiple:x,onClose:M=s.noop,onHoverOption:I=s.noop,onOpen:A=s.noop,readonly:N,recentCategory:O,registerShortcuts:T,searchable:D=!1,searchPlaceholder:F,unregisterShortcuts:P,updateMenuPositionOnLoad:L=!1,updateSearchQuery:R=s.noop,valuesToUpdateCallback:V})=>{Yr=0;const B=!(0,s.isNil)(n)&&""!==n,j=O||e,q=[],[U,H]=(0,i.useState)(o||!1),[z,G]=(0,i.useState)(""),[$,K]=(0,i.useState)(-1),[Z,Y]=(0,i.useState)({menuHeight:0,menuPosition:0,menuWidth:0}),[J,X]=(0,i.useState)(null),[Q,ee]=(0,i.useState)(""),te=(0,i.useRef)(0),re=(0,i.useRef)(),ne=(0,i.useRef)(n),oe=(0,i.useRef)(null),ae=v()(g,{"et-vb-settings-option-select":!0,"et-vb-settings-option-select-allow-mouse-interaction":U,"et-vb-settings-option-select-advanced":!0});let ie={};const le=()=>{Kr(W()(re.current),Z.menuHeight,Y)},se=e=>{if(!N){const t=(0,s.isUndefined)(e)?!U:e;H(t),t?(A(),(0,m.disableGlobalPageScroll)("et-vb-custom-select-menu-opened")):(M(),(0,m.updateRichTextDynamicContentWrapperWidth)(re?.current,!1),(0,m.enableGlobalPageScroll)("et-vb-custom-select-menu-opened"))}};function ce(e){e.target.contains(re.current)&&se(!1)}const de=(0,i.useCallback)(((e,r,n)=>{let o={inputValue:e};x&&(o={name:r,inputValue:e,parentValue:n||e}),se(!1),t(o),((e,t,r)=>{const n=(0,s.uniq)([e,...Zr(t)]).filter((e=>e)).slice(0,3),o="https:"===window.location.protocol;window.wpCookies.set(`et-pb-recent-items-${t}`,n.join("|"),31536e6,r,!1,o)})(e,j,h),K(-1),ne.current=e}),[V,t]),ue=(0,i.useCallback)(((e,t)=>{if(x){e.target.closest("ul").classList.contains("et-vb-submenu")||(X(null),(0,d.dispatch)("divi/app-ui").setSidebarHandleCondition("enable"))}I(t)}),[I]);(0,i.useEffect)((()=>(le(),R(""),f.topWindow.addEventListener("mousedown",ce),f.topWindow.addEventListener("resize",le),()=>{f.topWindow.removeEventListener("mousedown",ce),f.topWindow.removeEventListener("resize",le),(0,m.enableGlobalPageScroll)("et-vb-custom-select-menu-opened"),x&&(0,d.dispatch)("divi/app-ui").setSidebarHandleCondition("enable")})),[]);const pe=Gr.map((e=>{switch(e.name){case"iconPickerDropdown-close":e.action=()=>{K(-1),ne.current=n,se(!1)};break;case"iconPickerDropdown-prev":e.action=()=>K((e=>{let t=e-1;t<=0&&(t=te.current);const r=t-1;return ne.current=q[r],t}));break;case"iconPickerDropdown-next":e.action=()=>K((e=>{let t=e+1;const r=te.current;(0===t||t>r)&&(t=1);const n=t-1;return ne.current=q[n],t}));break;case"iconPickerDropdown-execute":e.action=()=>{de(ne.current||"")}}return e}));(0,i.useEffect)((()=>((U||L)&&((0,m.updateRichTextDynamicContentWrapperWidth)(re?.current,!0),Kr(W()(re?.current),Z.menuHeight,Y)),U&&(0,s.isFunction)(T)&&T(pe),()=>{G(""),(0,s.isFunction)(P)&&P(Gr.map((e=>e.name)))})),[U,r]),U&&(ie={top:Z.menuPosition+(k?.top??0),width:Z.menuWidth+(k?.width??0)});const me=(0,i.useCallback)((()=>{let e;if(n&&(e=$r({...r,...c},n)),!e&&b&&(e=$r({...r,...c},b)),e){let{label:t}=e;if("function"==typeof S&&(t=S(t,n)),t)return t}return _||""}),[n,b,r,c]),fe=(0,i.useCallback)((()=>(0,s.isEmpty)(n)?(0,s.isEmpty)(b)?"":b:n),[n,b]),ge=(0,i.useCallback)((()=>!!(0,s.some)(r,(e=>(0,s.has)(e,"options")))||!!(0,s.some)(c,(e=>(0,s.has)(e,"options")))),[r,c]),ve=(0,i.useCallback)((e=>{K(e),ne.current=q[e]}),[]),he=(0,i.useCallback)((()=>{K(-1),ne.current=n}),[]),be=()=>{const e=oe.current;if(!e)return;const t=W()(e);((e,t,r=s.noop)=>{const n=((0,d.select)("divi/app-ui").getElementProperty({elementName:"adminBar",propertyName:"height",propertyGroup:"dimension"})||0)+5,o=t.height(),a=W()(f.topWindow),i=e.find(".et-vb-settings-option-select").offset().top,{position:l}=(0,m.getViewportAdaptablePositioning)(a,t.parent(),t,o),c=l.top-i+n;let u=null;l.left+e.width()+t.width()>a.width()&&(u=-t.width()),r({top:c,left:u})})(W()(re.current),t,(e=>{t.css({opacity:1,top:`${e.top}px`,left:e.left?`${e.left}px`:"98%"})}))},ye=(0,i.useCallback)((e=>{X(e),setTimeout((()=>be()))}),[]),Ee=()=>{ee("")},we=e=>{e.stopPropagation();const t="et-vb-submenu",r=e.target.classList.contains(t),n=e.target.parentElement?.classList.contains(t);(r||n)&&(0,d.dispatch)("divi/app-ui").setSidebarHandleCondition("disable")},_e=(e,t)=>v()({"et-vb-option-subgroup":!0,"et-vb-option-subgroup-separator":!t&&C,"et-vb-option-subgroup-separator-top":!t&&e?.separator?.top,"et-vb-option-subgroup-separator-bottom":!t&&e?.separator?.bottom,"et-vb-option-subgroup-multiple":t}),Ce=t=>(0,s.map)(t,((t,r)=>(0,s.isUndefined)(t.options)||x?((t,r,n)=>{const o="string"==typeof r.label?r.label.toString().toLowerCase():t.toLowerCase();let i=!1;if(e?.startsWith("dynamic-content-select-")&&(i=z.length<3),""!==z&&-1===o.indexOf(z.toLowerCase())&&!i)return!1;if(q.push(t),Yr+=1,te.current=Yr,x&&r.options){const e=Object.entries(r.options).filter((([,e])=>"string"==typeof e.label&&e.label.toLowerCase().includes(Q.toLowerCase()))).reduce(((e,[t,r])=>(e[t]=r,e)),{}),o=Q||Object.keys(e).length>8,i=v()({"et-vb-submenu":!0,"et-vb-submenu-with-search":o});return l().createElement("li",{className:_e(r,!0),key:t,onMouseEnter:()=>{ye(t)},onMouseLeave:Ee},l().createElement("span",{className:"et-vb-subgroup-title et-vb-dropdown-title","data-value":t},l().createElement("div",null,r.label),l().createElement(w.IconSvg,{name:"divi/caret-right",size:8,viewBox:"0 0 8 8"})),J===t&&l().createElement("ul",{className:i,ref:oe,onMouseEnter:we},o&&l().createElement(Wr,{value:Q,placeholder:(0,a.__)("Search...","et_builder"),onChange:e=>{ee(e)}}),n(e)))}return l().createElement(zr,{key:t,className:r.className,itemIndex:Yr,label:r.label,value:t,isSelected:fe()===t,isHovered:-1!==$&&Yr===$,isStatic:r.isStatic,displayCheckMark:y,customMarker:r.marker,customMarkerAction:r.markerAction,customContent:r.customContent,onHover:ue,onChange:e=>de(e,r.label,J),setHoverItem:ve,resetHoverItem:he,separator:r.separator,separatorText:r.separatorText})})(r,t,Ce):l().createElement("li",{className:_e(t),key:r},!(0,s.isEmpty)(t.label)&&l().createElement("p",{className:"et-vb-subgroup-title","data-value":r},t.label),l().createElement("ul",null,Ce(t.options))))),Se=()=>l().createElement("ul",null,p(),D&&l().createElement(Wr,{filteredHoverIndex:$,optionArray:q,value:z,placeholder:F,onChange:(e,t,r)=>{G(e),e!==z&&R(e),-1!==t||u()?(K(t),ne.current=r?.[t-1]):(K(1),ne.current="")}}),!(0,s.isEmpty)(n)&&E&&(D||""===z)&&l().createElement("li",{className:"et-vb-option-subgroup"},l().createElement("ul",null,l().createElement(zr,{label:me(),value:n,isSelected:!0}))),(()=>{if(!E||""!==z)return null;const e=Zr(j);if(!e.length)return null;const t={};return(0,s.forEach)(e,(e=>{const n=$r({...r},e);n&&(t[e]={...(0,s.omit)(n,["className","customContent","markerAction"]),marker:"divi/history"})})),l().createElement("li",{className:v()({"et-vb-option-subgroup":!0,"et-vb-option-subgroup-separator":C})},l().createElement("p",{className:"et-vb-subgroup-title"},(0,a.__)("Recent","et_builder")),l().createElement("ul",null,Ce(t)))})(),!(0,s.isEmpty)(c)&&Ce(c),Ce(r),(0,s.isEmpty)(Ce(r))&&((0,s.isEmpty)(r)&&(0,s.isEmpty)(c)&&z.length>2?l().createElement("li",{className:"et-vb-option-subgroup et-vb-option-subgroup-no-results"},l().createElement("p",null,(0,a.__)("No results found.","et_builder"))):null),u());return l().createElement("div",{className:"et-vb-settings-custom-select-wrapper-outer",ref:re},U&&!o&&l().createElement("div",{className:"et-vb-settings-option-select-advanced-placeholder"}),l().createElement("div",{id:`et-vb-${e}`,className:v()({"et-vb-settings-custom-select-wrapper":!0,"et-vb-settings-option-select-active":U,"et-vb-settings-option-select-closed":!U,"et-vb-settings-option-select-searchable":U&&D,"et-vb-settings-option-select-display-recent-items":U&&E,"et-vb-settings-option-select-grouped-options":U&&ge(),"et-vb-settings-option-select-readonly":N,"et-vb-settings-option-select-has-value":B}),style:ie,onClick:f.handleOnClickFallback,onKeyDown:s.noop,tabIndex:0,role:"listbox",onMouseDown:e=>{e.target.closest(".et-vb-select-options-filter, .et-vb-upload-font, .et-vb-icon--delete, .et-vb-font-removal-activated, .et-vb-option-subgroup-no-results, .dynamic-content-select-post-pagination, .woocommerce-select-product-pagination")||se()}},l().createElement("ul",{className:ae,style:{maxHeight:Z.menuHeight>0&&U?Z.menuHeight+2:"none"}},U&&l().createElement("li",{className:"et-vb-settings-custom-select-wrapper-inner et-vb-allow-mouse-wheel-form"},Se()),!U&&!o&&l().createElement(zr,{label:me(),value:fe(),isPlaceholder:!0,isSelected:!0,displayCheckMark:!1,customMarker:"divi/caret-down"}),!U&&L&&l().createElement("li",{className:"et-vb-select__height-preserver--hidden"},Se()))))},Xr="divi/select";Jr.fieldName=Xr;const Qr=e=>{const{cookiePath:t}=(0,d.useSelect)((e=>({cookiePath:e("divi/settings").getSetting(["settings","cookiePath"])}))),r={...e,registerShortcuts:L.registerShortcuts,unregisterShortcuts:L.unregisterShortcuts,cookiePath:t};return(0,i.createElement)(Jr,r)};Qr.fieldName=Xr;const en="divi/edit-global-font",tn=({googleFonts:e,customFonts:t,customizerFonts:r,onHoverFont:n,syncCustomizerFonts:o,closeModal:c})=>{const d=(0,i.useMemo)((()=>{const r={},n=Object.keys(t);return(0,s.isEmpty)(n)||n.forEach((e=>{r[e]={label:e}})),e.forEach((e=>{r[e]={label:e}})),r}),[e]),[m,f]=(0,i.useState)(r?.heading?.fontName??""),[g,v]=(0,i.useState)(r?.body?.fontName??""),[h,b]=(0,i.useState)(!1);return l().createElement(u.ErrorBoundary,{componentName:"et-vb-divi-modals--font-upload"},l().createElement(l().Fragment,null,l().createElement(p.WrapperContainer,{modalName:en,snappable:!0,expandable:!0,draggable:!0,resizable:!0,dimension:null},l().createElement(p.Header,{name:(0,a.__)("Edit Global Fonts","et_builder")}),l().createElement(l().Fragment,null,l().createElement(p.BodyContainer,null,l().createElement(p.PanelContainer,{id:"font-upload",opened:!0},l().createElement("div",{className:"et-vb-divi-modals--font-editor"},l().createElement("div",{className:"et-vb-field"},l().createElement("div",{className:"et-vb-field-label"},l().createElement("label",null,(0,a.__)("Heading Font","et_builder"))),l().createElement("div",{className:"et-vb-field-input-wrap"},l().createElement(Qr,{searchPlaceholder:(0,a.__)("Search Fonts","et_builder"),defaultValue:"",options:d,name:"heading-font",onHoverOption:n,value:m,onChange:e=>f(e?.inputValue),searchable:!0,className:"et-vb-option--font"}))),l().createElement("div",{className:"et-vb-field"},l().createElement("div",{className:"et-vb-field-label"},l().createElement("label",null,(0,a.__)("Body Font","et_builder"))),l().createElement("div",{className:"et-vb-field-input-wrap"},l().createElement(Qr,{searchPlaceholder:(0,a.__)("Search Fonts","et_builder"),defaultValue:"",options:d,name:"body-font",onHoverOption:n,value:g,onChange:e=>v(e?.inputValue),searchable:!0,className:"et-vb-option--font"})))))),l().createElement(p.Footer,{buttons:[{name:"save",buttonColor:"primary",label:h?(0,a.__)("Saving...","et_builder"):(0,a.__)("Save","et_builder"),disabled:h,onClick:e=>{e.preventDefault(),b(!0),(0,zt.loggedFetch)({method:"POST",restRoute:"/divi/v1/global-data/global-fonts",data:{heading_font:m,body_font:g}},!0).then((e=>{o(e),c()})).catch((e=>{console.log(e)})).finally((()=>{b(!1)}))}}]})))))},rn=(0,a.__)("Edit Global Fonts","modal-library"),nn={name:en,label:rn,type:"multiInstanceModal",component:()=>{const{googleFonts:e,customFonts:t,customizerFonts:r}=(0,d.useSelect)((e=>({googleFonts:e("divi/fonts").getGoogleFonts(),customFonts:e("divi/fonts").getCustomFonts(),customizerFonts:e("divi/fonts").getCustomizerFonts()}))),n={closeModal:()=>(0,d.dispatch)("divi/modal-library").close({name:"divi/edit-global-font"}),syncCustomizerFonts:e=>{(0,d.dispatch)("divi/fonts").setCustomizerFonts(e)},onHoverFont:e=>{"Default"!==e&&(0,d.dispatch)("divi/fonts").loadFont(e)},googleFonts:Object.keys(e),customFonts:t,customizerFonts:r};return(0,i.createElement)(tn,n)}},on=({selectedTargetModules:e,selectedScope:t,selectedAttributeType:r,selectedModuleTypes:n,selectedOptionGroup:o,selectedModifiedFields:i,allModules:s,availableModuleTypes:c,attributeTypeOptions:d,optionGroupOptions:m,modifiedFieldsOptions:f,scopeOptions:g,onTargetModulesChange:v,onScopeChange:h,onAttributeTypeChange:b,onModuleTypesChange:y,onOptionGroupChange:w,onModifiedFieldsChange:_,onExtendAttributes:C})=>l().createElement(u.ErrorBoundary,{key:"et-vb-divi-modals--extend-attributes",componentName:"et-vb-divi-modals--extend-attributes"},l().createElement(p.WrapperContainer,{modalName:"divi/extend-attributes",draggable:!0,expandable:!0,snappable:!0,resizable:!0},l().createElement(p.Header,{name:(0,a.__)("Extend Attributes","et_builder")}),l().createElement(p.BodyContainer,null,l().createElement(p.PanelContainer,{id:"extend-attributes",opened:!0},l().createElement(p.FieldWrapper,{label:(0,a.__)("Extend From Element","et_builder"),description:(0,a.__)("Choose which element to extend attributes from.","et_builder"),id:"target-modules"},l().createElement(E.SelectContainer,{name:"targetModules",options:s,value:e,onChange:v,disabled:!1,searchable:!0,searchPlaceholder:(0,a.__)("Search elements...","et_builder")})),l().createElement(p.FieldWrapper,{label:(0,a.__)("Extend To Location","et_builder"),description:(0,a.__)("Choose the scope of where to look for target modules.","et_builder"),id:"extend-scope"},l().createElement(E.SelectContainer,{name:"extendScope",options:g,value:t,onChange:h})),l().createElement(p.FieldWrapper,{label:(0,a.__)("Extend To Element Type","et_builder"),description:(0,a.__)("Choose which types of elements to extend to.","et_builder"),id:"module-types"},l().createElement(E.SelectContainer,{name:"moduleTypes",options:c,value:n,onChange:y,searchable:!0,searchPlaceholder:(0,a.__)("Search elements...","et_builder")})),l().createElement(p.FieldWrapper,{label:(0,a.__)("Attribute Type To Extend","et_builder"),description:(0,a.__)("Choose which types of attributes to copy.","et_builder"),id:"attribute-type"},l().createElement(E.SelectContainer,{name:"attributeType",options:d,value:r,onChange:b})),l().createElement(p.FieldWrapper,{label:(0,a.__)("Option Group To Extend","et_builder"),description:(0,a.__)("Choose which option group to extend from the source elements.","et_builder"),id:"option-group"},l().createElement(E.SelectContainer,{name:"optionGroup",options:m,value:o,onChange:w,searchable:!0,searchPlaceholder:(0,a.__)("Search groups...","et_builder")})),"preset"!==r&&l().createElement(p.FieldWrapper,{label:(0,a.__)("Modified Fields To Extend","et_builder"),description:(0,a.__)("Choose which modified fields to extend from the source element.","et_builder"),id:"modified-fields"},l().createElement(E.SelectContainer,{name:"modifiedFields",options:f,value:i,onChange:_,searchable:!0,searchPlaceholder:(0,a.__)("Search fields...","et_builder")})))),l().createElement(p.Footer,{buttons:[{name:"extend-attributes",label:(0,a.__)("Extend Attributes","et_builder"),showIcon:!1,showLabel:!0,showTooltip:!1,onClick:C,disabled:!1}]})));on.defaultProps={};var an=window.divi.rightClickOptions,ln=window.divi.clipboard,sn=window.divi.moduleLibrary;const cn=(e=!0)=>{const{content:t,editPost:r,moduleDisplayNames:n}=(0,d.useSelect)((t=>e?{content:t("divi/edit-post").getContent(),editPost:t("divi/edit-post"),moduleDisplayNames:t("divi/module-library").getModuleDisplayNames()}:{content:null,editPost:null,moduleDisplayNames:null}),[e]);return(0,i.useMemo)((()=>{const o={};if(!(e&&t&&r&&n))return o;return Object.keys(t).filter((e=>{if("root"===e)return!1;const r=t.getIn([e])?.getIn(["name"]);return r&&"divi/root"!==r})).forEach((e=>{const a=t.getIn([e])?.getIn(["name"])||"Unknown Module",i="string"==typeof a&&n[a]?n[a]:(0,sn.generateModuleDisplayName)(a),l=r.getModuleAttrs(e)?.getIn(["module","meta","adminLabel","desktop","value"]),s="string"==typeof l?l:"",c=s?`${i} (${s})`:i;o[e]={label:c}})),o}),[e,t,r,n])},dn=(e=!0)=>{const{content:t,moduleDisplayNames:r}=(0,d.useSelect)((t=>e?{content:t("divi/edit-post").getContent(),moduleDisplayNames:t("divi/module-library").getModuleDisplayNames()}:{content:null,moduleDisplayNames:null}),[e]);return(0,i.useMemo)((()=>{if(!e||!t||!r)return{all:{label:(0,a.__)("All Elements","et_builder")}};const n=Object.keys(t).filter((e=>{if("root"===e)return!1;const r=t.getIn([e])?.getIn(["name"]);return r&&"divi/root"!==r})),o=new Map;n.forEach((e=>{const n=t.getIn([e])?.getIn(["name"]);if(n){const e=r[n]||(0,sn.generateModuleDisplayName)(n);o.set(n,e)}}));const i={all:{label:(0,a.__)("All Elements","et_builder")},"all-modules":{label:(0,a.__)("All Modules","et_builder")},"all-containers":{label:(0,a.__)("All Containers","et_builder"),separator:{bottom:!0}}};return Array.from(o.entries()).sort((([,e],[,t])=>e.localeCompare(t))).forEach((([e,t])=>{i[e]={label:t}})),i}),[e,t,r])},un=(e,t,r=!0)=>{const n={page:{label:(0,a.__)("Entire Page","et_builder")}};return e?(r&&(n.self={label:(0,a.__)("Current Element","et_builder"),separator:{bottom:!0}}),n.children={label:(0,a.__)("Current Element & Children","et_builder")},n.descendants={label:(0,a.__)("Current Element & Descendants","et_builder"),separator:{bottom:!0}},t&&Array.isArray(t)?(t.forEach((e=>{switch(e.name){case"divi/group":n.group={label:(0,a.__)("Parent Group","et_builder")};break;case"divi/column":case"divi/column-inner":case"divi/specialty-column":n.column={label:(0,a.__)("Parent Column","et_builder")};break;case"divi/row":case"divi/row-inner":n.row={label:(0,a.__)("Parent Row","et_builder")};break;case"divi/section":case"divi/specialty-section":case"divi/fullwidth-section":n.section={label:(0,a.__)("Parent Section","et_builder")}}})),n):n):n},pn=e=>{const{sourceModuleId:t,defaultOptionGroup:r,defaultAttributeType:n,defaultModifiedField:o,content:l,moduleLibrary:c,editPost:u,moduleDisplayNames:p}=(0,d.useSelect)((e=>{const t=e("divi/modal-library").getModal("divi/extend-attributes"),r=(0,s.get)(t,["attributes"],{});return{sourceModuleId:e("divi/modal-library").getModalProperty({modalName:"divi/extend-attributes",property:"owner"})||"",defaultOptionGroup:r.defaultOptionGroup||"all",defaultAttributeType:r.defaultAttributeType||"all",defaultModifiedField:r.defaultModifiedField||"all-modified",content:e("divi/edit-post").getContent(),moduleLibrary:e("divi/module-library"),editPost:e("divi/edit-post"),moduleDisplayNames:e("divi/module-library").getModuleDisplayNames()}}),[]),m=(0,d.useSelect)((e=>t?e("divi/edit-post").getModuleAttrs(t):null),[t]),f=(0,d.useSelect)((t=>e.selectedTargetModules?t("divi/edit-post").getAncestorModules(e.selectedTargetModules,"bottom-to-top"):[]),[e.selectedTargetModules]),g=(0,i.useMemo)((()=>l?Object.keys(l).filter((e=>{if("root"===e)return!1;const t=l[e]?.name;return t&&"divi/root"!==t})):[]),[l]),v=(0,i.useMemo)((()=>{const e={};return l&&u&&p?(g.forEach((t=>{const r=l[t]?.name||"Unknown Module",n=p[r]||r.replace("divi/","").replace(/-/g," ").replace(/\b\w/g,(e=>e.toUpperCase())),o=u.getModuleAttrs(t)?.getIn(["module","meta","adminLabel","desktop","value"]),a=o||"",i=a?`${n} (${a})`:n;e[t]={label:i}})),e):e}),[l,g,u,p]),h=(0,i.useMemo)((()=>{if(!l||!p)return{all:{label:(0,a.__)("All Elements","et_builder")}};const e=new Map;g.forEach((t=>{const r=l[t]?.name;if(r){const t=p[r]||r.replace("divi/","").replace(/-/g," ").replace(/\b\w/g,(e=>e.toUpperCase()));e.set(r,t)}}));const t={all:{label:(0,a.__)("All Elements","et_builder")},"all-modules":{label:(0,a.__)("All Modules","et_builder")},"all-containers":{label:(0,a.__)("All Containers","et_builder"),separator:{bottom:!0}}};return Array.from(e.entries()).sort((([,e],[,t])=>e.localeCompare(t))).forEach((([e,r])=>{t[e]={label:r}})),t}),[l,g,p]),b=(0,i.useMemo)((()=>m?(0,an.filterAttributesByType)(m,e.selectedAttributeType):null),[m,e.selectedAttributeType]),y=(0,i.useMemo)((()=>{if(!t||!m||!b)return{optionGroups:{all:{label:(0,a.__)("All Option Groups","et_builder")}},modifiedFieldsOptions:{"all-modified":{label:(0,a.__)("All Modified Fields","et_builder")}}};const r=l&&l[t]?l[t].name:null,n=r&&c?c.getModule(r):null,o=n?(0,ln.buildFieldLabelsMap)(n):null;return((e,t,r)=>{const n={all:{label:(0,a.__)("All Option Groups","et_builder")}},o={"all-modified":{label:(0,a.__)("All Modified Fields","et_builder")}},i=new Set,l=e=>{const t=(0,R.getAttributeCategorizationKey)(e);if(!i.has(t)){i.add(t);const e=(0,R.normalizeOptionGroupName)(t);n[t]={label:e}}};Object.entries(e).forEach((([e,t])=>{(0,R.isNonEmptyObject)(t)&&("groupPreset"!==e||"object"!=typeof t||null===t?"module"!==e||"object"!=typeof t||null===t?l(e):Object.entries(t).forEach((([,e])=>{"object"==typeof e&&null!==e&&(0,R.isNonEmptyObject)(e)&&Object.keys(e).forEach(l)})):Object.keys(t).forEach(l))}));let s=e;"all"!==t&&(s=(0,R.filterAttributeMaps)(e,t));const c=(0,R.flattenAttrs)(s),d=new Set;return Object.entries(c).forEach((([e,t])=>{if(e.startsWith("builderVersion")||e.startsWith("groupPreset"))return;if(!(0,R.isNonEmptyAttribute)(t))return;const n=(0,R.stripAttributeStateSuffixes)(e);if(r){const t=((e,t)=>{const r=e.split(".");for(let e=r.length;e>0;e--){const n=r.slice(0,e).join(".");if(t[n])return t[n]}return null})(n,r);if(t){if(d.has(t))return;o[e]={label:t},d.add(t)}}})),{optionGroups:n,modifiedFieldsOptions:o}})(b,e.selectedOptionGroup,o)}),[t,m,b,e.selectedOptionGroup,l,c]),E=y.optionGroups,{modifiedFieldsOptions:w}=y,_=(0,i.useMemo)((()=>un(e.selectedTargetModules,f,!1)),[e.selectedTargetModules,f]),C=(0,i.useMemo)((()=>({all:{label:(0,a.__)("All Attributes","et_builder")},design:{label:(0,a.__)("Design Attributes","et_builder"),separator:{bottom:!0}},style:{label:(0,a.__)("Style Attributes","et_builder")},content:{label:(0,a.__)("Content Attributes","et_builder")},preset:{label:(0,a.__)("Presets","et_builder")}})),[]),S=(0,i.useMemo)((()=>t||g[0]||""),[t,g]);return{sourceModuleId:t,defaultOptionGroup:r,defaultAttributeType:n,defaultModifiedField:o,editPost:u,allModules:v,availableModuleTypes:h,attributeTypeOptions:C,optionGroupOptions:E,modifiedFieldsOptions:w,scopeOptions:_,firstTargetModuleId:S}},mn={name:"divi/extend-attributes",label:(0,a.__)("Extend Attributes","et_builder"),snappable:!0,type:"multiInstanceModal",videos:[],component:()=>{const e=(0,d.useSelect)((e=>{const t=e("divi/modal-library").getModalProperty({modalName:"divi/extend-attributes",property:"owner"})||"",r=e("divi/edit-post").getContent(),n=r?Object.keys(r).filter((e=>{if("root"===e)return!1;const t=r[e]?.name;return t&&"divi/root"!==t})):[];return{sourceModuleId:t,firstTargetModuleId:t||n[0]||""}})),[t,r]=(0,i.useState)({selectedTargetModules:e.firstTargetModuleId,selectedScope:"page",selectedAttributeType:"all",selectedModuleTypes:"all-modules",selectedOptionGroup:"all",selectedModifiedFields:"all-modified"}),n=e=>{r((t=>({...t,...e})))},o=pn(t);(0,i.useEffect)((()=>{const e=setTimeout((()=>{(0,d.select)("divi/modal-library").cacheAllAttributeMaps()}),150);return()=>clearTimeout(e)}),[]),(0,i.useEffect)((()=>{o.firstTargetModuleId&&r((e=>({...e,selectedTargetModules:o.firstTargetModuleId,selectedOptionGroup:o.defaultOptionGroup,selectedAttributeType:o.defaultAttributeType,selectedModifiedFields:o.defaultModifiedField})))}),[o.firstTargetModuleId,o.defaultOptionGroup,o.defaultAttributeType,o.defaultModifiedField]),(0,i.useEffect)((()=>{const e="closeExtendAttributesModal";return(0,L.registerShortcut)({name:e,label:(0,a.__)("Close Extend Attributes Modal","et_builder"),keys:["Escape"],category:"modal",action:()=>{(0,d.dispatch)("divi/modal-library").close({name:"divi/extend-attributes"})}}),()=>{(0,L.unregisterShortcut)(e)}}),[]);return(0,i.createElement)(on,{selectedTargetModules:t.selectedTargetModules,selectedScope:t.selectedScope,selectedAttributeType:t.selectedAttributeType,selectedModuleTypes:t.selectedModuleTypes,selectedOptionGroup:t.selectedOptionGroup,selectedModifiedFields:t.selectedModifiedFields,allModules:o.allModules,availableModuleTypes:o.availableModuleTypes,attributeTypeOptions:o.attributeTypeOptions,optionGroupOptions:o.optionGroupOptions,modifiedFieldsOptions:o.modifiedFieldsOptions,scopeOptions:o.scopeOptions,onTargetModulesChange:e=>{n({selectedTargetModules:e.inputValue})},onScopeChange:e=>{n({selectedScope:e.inputValue})},onAttributeTypeChange:e=>{n({selectedAttributeType:e.inputValue,selectedOptionGroup:"all",selectedModifiedFields:"all-modified"})},onModuleTypesChange:e=>{n({selectedModuleTypes:e.inputValue})},onOptionGroupChange:e=>{n({selectedOptionGroup:e.inputValue,selectedModifiedFields:"all-modified"})},onModifiedFieldsChange:e=>{n({selectedModifiedFields:e.inputValue})},onExtendAttributes:()=>{const{selectedScope:e,selectedModuleTypes:r}=t;if(!["group","column","row","section","page","self","children","descendants"].includes(e))return;if(!(0,d.select)("divi/edit-post").getModule(o.sourceModuleId))return;(0,an.onClickExtendAttributes)({sourceModuleId:o.sourceModuleId,targetModuleIds:[t.selectedTargetModules],scope:e,attributeType:t.selectedAttributeType,moduleTypes:r,modifiedFields:t.selectedModifiedFields,optionGroup:t.selectedOptionGroup});(0,d.select)("divi/app-ui").isSidebarModal("divi/extend-attributes")||(0,d.dispatch)("divi/modal-library").close({name:"divi/extend-attributes"})}})},sidebarPosition:!1};var fn=window.divi.module;const gn="divi/find-and-replace",vn=["divi/border-radius","divi/spacing","divi/transform-translate","divi/transform-scale","divi/transform-rotate","divi/transform-origin","divi/transform-skew"];var hn=window.divi.contextLibrary;const bn=()=>E.BorderRadius.defaultProps?.defaultValue||{topLeft:"0px",topRight:"0px",bottomLeft:"0px",bottomRight:"0px",sync:"on"},yn=e=>"object"==typeof e&&null!==e&&("topLeft"in e||"topRight"in e||"bottomLeft"in e||"bottomRight"in e),En=e=>"object"==typeof e&&null!==e&&("top"in e||"right"in e||"bottom"in e||"left"in e),wn=e=>"object"==typeof e&&null!==e&&("x"in e||"y"in e||"z"in e),_n=e=>["topLeft","topRight","bottomLeft","bottomRight"].includes(e),Cn=e=>["top","right","bottom","left"].includes(e),Sn=e=>["x","y","z"].includes(e),kn=(e,t)=>yn(e)&&_n(t)||En(e)&&Cn(t)?e[t]||"":wn(e)&&Sn(t)&&e[t]||"",xn=(e,t,r,n)=>o=>{if(null==o.inputValue||!n)return;const a=_n(n),i=Cn(n),l=Sn(n);if(!a&&!i&&!l)return;const s=kn(e,n);if(o.inputValue!==s){if(a){const r={...yn(e)?e:bn(),[n]:o.inputValue};t(r)}if(i){const r={...En(e)?e:{top:"",right:"",bottom:"",left:"",syncHorizontal:"off",syncVertical:"off"},[n]:o.inputValue};t(r)}if(l){const r={...wn(e)?e:{x:"",y:"",z:""},[n]:o.inputValue};t(r)}r(null)}},Mn=({componentName:e,label:t,value:r,sourceFieldInfo:n,fieldType:o,onChange:a})=>{const[s,c]=(0,i.useState)(!1);((e,t)=>{const r=(0,d.useSelect)((e=>e("divi/modal-library").getAIResult()),[]);(0,i.useEffect)((()=>{if(!r)return;const n=`find-replace-${e}`;r.fieldType===n&&t(r.value)}),[r,e,t])})(o,a);const u=(0,d.useSelect)((e=>n?.moduleId?e("divi/edit-post").getModuleName(n.moduleId):""),[n?.moduleId]),p={moduleId:n?.moduleId||"",moduleName:u||""};return l().createElement(hn.moduleContext.Provider,{value:p},l().createElement(fn.AIQuickActionWrapper,{componentName:e,label:t,value:r,attrName:n?.attrName||"",attrSubName:n?.subName,showAiMenu:s,setShowAiMenu:c,customActiveAIField:`find-replace-${o}`}))},In=({corner:e,value:t,onChange:r,setActiveDynamicContentField:n,dynamicContentType:o})=>{const[a,s]=(0,i.useState)(!0),c=(0,i.useRef)(null);return l().createElement(fn.DynamicContentUI,{isOptionsActive:a,setOptions:()=>{s(!a)},initialValue:kn(t,e),onChange:xn(t,r,n,e),dynamicContentSettings:{type:o},cssProperty:"all",additionalDCProps:{data:{},chipOptionPath:e},fieldRef:c})},An=({value:e,onChange:t,setActiveDynamicContentField:r,dynamicContentType:n,sourceFieldInfo:o})=>{const a="string"==typeof e?e:"",s=((e,t,r)=>(0,i.useCallback)((n=>{const{inputValue:o}=n;null!=o&&o!==r&&(e(o),t?.(null))}),[e,t,r]))(t,r,e),[c,u]=(0,i.useState)(!0),p=(0,i.useRef)(null),m=(0,d.useSelect)((e=>o?.moduleId?e("divi/edit-post").getModuleName(o.moduleId):""),[o?.moduleId]),f={moduleId:o?.moduleId||"",moduleName:m||""},{dynamicContentFetchData:g}=(0,fn.useGetDynamicContentOptions)();return(0,i.useEffect)((()=>{g()}),[g]),l().createElement(hn.moduleContext.Provider,{value:f},l().createElement(fn.DynamicContentUI,{isOptionsActive:c,setOptions:()=>{u(!c)},initialValue:a,onChange:s,dynamicContentSettings:{type:n},cssProperty:"all",additionalDCProps:{data:{}},fieldRef:p}))},Nn=({fieldType:e,sourceFieldInfo:t,activeDynamicContentField:r,setActiveDynamicContentField:n,value:o,onChange:a,isDiviAIEnabled:s})=>()=>{if(!t)return null;const c=t?.dynamicContentType||null,d=`${e}-${t.attrName}`,u=r===d,p=r?.startsWith(`${d}--`);if(p){const e=r?.split("--")[1];return e?l().createElement(In,{key:"corner-dynamic-content",corner:e,value:o,onChange:a,setActiveDynamicContentField:n,dynamicContentType:c}):null}if(u)return l().createElement(An,{key:"standard-dynamic-content",value:o,onChange:a,setActiveDynamicContentField:n,dynamicContentType:c,sourceFieldInfo:t});const m=[];c&&!vn.includes(t.fieldComponent.name)&&m.push(((e,t)=>l().createElement("button",{key:"dynamic-content",type:"button",className:"et-vb-field-button et-vb-field-dynamic-content-button",onClick:()=>t(e),"aria-label":"Dynamic Content Button"},l().createElement(w.IconSvg,{name:"divi/dynamic-content",viewBox:"0 0 16 16",size:8})))(d,n));const f=(0,R.determineAIContentType)(t.fieldComponent.name,t.attrName,t.subName);if(s&&f){const r=((e,t,r,n)=>e?l().createElement(Mn,{key:"ai",componentName:e.fieldComponent.name,label:`${t} field`,value:r,sourceFieldInfo:e,fieldType:t,onChange:n}):null)(t,e,"string"==typeof o?o:"",(e=>a(e)));r&&m.push(r)}return m.length>0?l().createElement(i.Fragment,null,m):null},On="divi/toggle",Tn="divi/checkboxes",Dn=["divi/color-picker","divi/code","divi/text","divi/textarea","divi/richtext","divi/timepicker"],Fn=["divi/range","divi/common-css-numeric","divi/common-numeric-input","divi/common-numeric-spinner"],Pn=(e,t)=>{const r=null==e;return Dn.includes(t)?r||"string"!=typeof e?"":e:On===t?"boolean"==typeof e?e?"on":"off":"string"==typeof e&&["on","off"].includes(e)?e:"off":Tn===t?Array.isArray(e)?e:[]:Fn.includes(t)?"number"==typeof e?`${e}px`:"string"==typeof e&&""!==e?e:"0px":e};var Ln=window.divi.styleLibrary;const Rn=(e,t)=>r=>{const{chipOptionPath:n}=r;if(n){e(`${t}--${n}`)}},Vn=(e,t)=>({onChipClick:Rn(e,t),getVariableLabel:e=>(0,d.select)("divi/global-data").getGlobalVariableById(e)?.label||e}),Bn=(e,t,r,n)=>n?.setActiveDynamicContentField&&n?.fieldKey?{...e,...Vn(n.setActiveDynamicContentField,n.fieldKey)}:e,jn={"divi/button-options":(e,t)=>Array.isArray(t)?{...e,multipleChoices:!0}:e,"divi/code":e=>e,"divi/upload":(e,t,r)=>({...e,onReset:()=>r(""),syncImageData:!1}),"divi/select-mask":(e,t,r)=>{const n=t||e?.defaultValue||"layer-blob",o={...Ln.backgroundDefaultAttr,mask:{...Ln.backgroundDefaultAttr.mask,style:n,enabled:"on"}};return{...e,hasPreview:!1,hasManager:!1,backgroundAttr:o,onReset:()=>r(e?.defaultValue||"layer-blob")}},"divi/select-pattern":(e,t,r)=>{const n=t||e?.defaultValue||"polka-dots",o={...Ln.backgroundDefaultAttr,pattern:{...Ln.backgroundDefaultAttr.pattern,style:n,enabled:"on"}};return{...e,hasPreview:!1,hasManager:!1,backgroundAttr:o,onReset:()=>r(e?.defaultValue||"polka-dots")}},"divi/border-radius":(e,t,r,n)=>n?.setActiveDynamicContentField&&n?.fieldKey?{...e,...Vn(n.setActiveDynamicContentField,n.fieldKey)}:e,"divi/spacing":(e,t,r,n)=>n?.setActiveDynamicContentField&&n?.fieldKey?{...e,...Vn(n.setActiveDynamicContentField,n.fieldKey)}:e,"divi/transform-translate":Bn,"divi/transform-scale":Bn,"divi/transform-rotate":Bn,"divi/transform-origin":Bn,"divi/transform-skew":Bn,"divi/gradient":(e,t)=>{const r=Array.isArray(t)?t:Ln.backgroundDefaultAttr.gradient.stops;return{...e,backgroundAttrs:{...Ln.backgroundDefaultAttr,gradient:{...Ln.backgroundDefaultAttr.gradient,enabled:"on",stops:r}},value:r,length:Ln.backgroundDefaultAttr.gradient.length}}},qn=(e,t)=>{(e=>Boolean(e&&"object"==typeof e&&"name"in e&&"value"in e))(e)?t(e.value):t(e)},Wn=(e,t,r,n)=>{if((e=>Boolean(e&&"object"==typeof e&&"event"in e))(e)){const{event:r,inputValue:o}=e;switch(t){case"divi/button-options":return void((e,t)=>{const{event:r}=e,n=r.target,{name:o}=n.dataset;t(o||"")})({event:r},n);case"divi/select-pattern":case"divi/select-mask":return void((e,t,r)=>{"off"===("detail"in e&&e.detail&&"object"==typeof e.detail&&"enabledValue"in e.detail?e.detail.enabledValue:null)?r(""):r("string"==typeof t?t:"")})(r,o,n);case"divi/gradient":return void((e,t,r)=>{"off"===("detail"in e&&e.detail&&"object"==typeof e.detail&&"enabledValue"in e.detail?e.detail.enabledValue:null)?r([]):t&&r(t)})(r,o,n)}}if((e=>Boolean(e&&"object"==typeof e&&"inputValue"in e))(e)){const{inputValue:o}=e;if("divi/scroll-effect"===t)return void qn(o,n);if((e=>Boolean(e&&"object"==typeof e&&"side"in e))(o)){if("divi/border-radius"===t)return void((e,t,r)=>{const n={...bn(),...t&&"object"==typeof t?t:{}};if("sync"in e&&"value"in e){const t=e.sync,o=e.value;if("on"===t)n.topLeft=o,n.topRight=o,n.bottomLeft=o,n.bottomRight=o,n.sync=t;else if("side"in e){const r=e.side;"topLeft"!==r&&"topRight"!==r&&"bottomLeft"!==r&&"bottomRight"!==r||(n[r]=o,null!=t&&(n.sync=t))}r(n)}})(o,r,n);if("divi/spacing"===t&&"syncHorizontal"in o)return void((e,t,r)=>{const{side:n,value:o}=e,a={...t&&"object"==typeof t&&!Array.isArray(t)?t:{}};"left"!==n&&"right"!==n||("on"===e.syncHorizontal?(a.left=o,a.right=o):a[n]=o),"top"!==n&&"bottom"!==n||("on"===e.syncVertical?(a.top=o,a.bottom=o):a[n]=o),null!=e.syncHorizontal&&(a.syncHorizontal=e.syncHorizontal),null!=e.syncVertical&&(a.syncVertical=e.syncVertical),r(a)})(o,r,n)}if("divi/checkboxes"===t&&Array.isArray(o))return void((e,t,r)=>{if(t&&"object"==typeof t&&!Array.isArray(t)){const n={};Object.keys(t).forEach((t=>{n[t]=e.includes(t)?"on":"off"})),r(n)}else r(e)})(o,r,n);const a=["divi/sortable-list","divi/draggable-list"];return["divi/upload","divi/icon-picker","divi/map","divi/corner-picker"].includes(t)||a.includes(t)&&Array.isArray(o)||t.startsWith("divi/transform-"),void n(o)}n(e)};var Un=window.divi.dynamicData;const Hn=(e,t,r)=>()=>{r&&r(null),t(null)},zn=(e,t)=>!!((e,t)=>e.selectedSourceModule===t.selectedSourceModule&&e.selectedScope===t.selectedScope&&e.selectedModuleTypes===t.selectedModuleTypes&&e.findValue===t.findValue&&e.replaceValue===t.replaceValue&&e.onlyReplaceIdenticalFields===t.onlyReplaceIdenticalFields)(e,t)&&!!(0,s.isEqual)(e.sourceFieldInfo,t.sourceFieldInfo),Gn=({value:e,onChange:t,sourceFieldInfo:r,name:n,setActiveDynamicContentField:o})=>{const s=r?.fieldComponent?.name||"divi/text",c=(0,E.getFieldComponent)(s),d=r?.features?.dynamicContent||!1,u=((e,t)=>`${e.replace("-field","")}-${t}`)(n,r?.attrName||""),[p,m]=(0,i.useState)(!1),f=vn.includes(s),g=(0,i.useCallback)((()=>{o&&(p?(o(null),m(!1)):(o(u),m(!0)))}),[p,o,u]),v=(0,i.useCallback)((n=>{if(r)Wn(n,r.fieldComponent.name,e,t);else if(n&&"object"==typeof n&&"inputValue"in n){const{inputValue:e}=n;t(e??"")}else t(n||"")}),[t,r,e,n]),h=(0,i.useMemo)((()=>{if(!r)return{name:n,value:"",onChange:v,readonly:!0,defaultValue:(0,a.__)("No field selected","et_builder"),showPlaceholderOnEmpty:!0};const i={...r.fieldComponent.props,name:n,value:Pn(e,r.fieldComponent.name),onChange:v};return((e,t,r,n,o)=>{const a=jn[e];return a?a(t,r,n,o):t})(r.fieldComponent.name,i,e,t,{setActiveDynamicContentField:o,fieldKey:u})}),[r,n,e,v,t,o,u]),b=(0,i.useMemo)((()=>{const e=c||E.Text;return l().createElement(e,h)}),[c,h]);return r?f?b:d?l().createElement(fn.DynamicContentWrapper,{settings:d,value:e,defaultValue:"",onChange:v,handleDynamicContentToggle:g},[b]):b:b};Gn.displayName="FindReplaceFieldWrapper";const $n=({result:e,onClose:t})=>{const r=e?(e=>{if(!e||!e.type)return null;const{type:t,changesCount:r,error:n}=e;if("PERFORM_FIND_REPLACE_SUCCESS"===t)return{title:r&&r>0?(0,a.__)("Find And Replace Complete","et_builder"):(0,a.__)("No Matches Found","et_builder"),message:r&&r>0?(0,a.__)("Successfully updated %d field(s).","et_builder").replace("%d",String(r)):(0,a.__)("No fields were found that match the specified find value.","et_builder")};return"PERFORM_FIND_REPLACE_FAILED"===t&&"No modules found"===n?{title:(0,a.__)("No Modules Found","et_builder"),message:(0,a.__)("No modules found matching the selected criteria.","et_builder")}:null})(e):null;return r?l().createElement("div",{className:"et-vb-modal__overlay"},l().createElement("div",{className:"et-vb-modal__overlay__header"}),l().createElement("div",{className:"et-vb-modal__overlay__content"},l().createElement(p.ConfirmationDialog,{title:r.title,confirmButtonText:(0,a.__)("Ok","et_builder"),buttonType:"secondary",showCancelButton:!1,onConfirm:t},r.message))):null},Kn=(0,i.memo)((({selectedSourceModule:e,selectedScope:t,selectedModuleTypes:r,findValue:n,replaceValue:o,onlyReplaceIdenticalFields:s,sourceFieldInfo:c,allModules:m,availableModuleTypes:f,scopeOptions:g,onSourceModuleChange:v,onScopeChange:h,onModuleTypesChange:b,onFindValueChange:y,onReplaceValueChange:w,onOnlyReplaceIdenticalFieldsChange:_,onFindAndReplace:C})=>{const{isDiviAIEnabled:S}=(0,d.useSelect)((e=>({isDiviAIEnabled:e("divi/settings").checkRolePermission("divi_ai")}))),[k,x]=(0,i.useState)(null),[M,I]=(0,i.useState)(null),A=(0,i.useMemo)((()=>((e,t)=>{if(e&&"object"==typeof e&&t&&"object"==typeof t&&!Array.isArray(e)&&!Array.isArray(t)){const r=Object.keys(t).every((t=>t in e));return r?e:{...t,...e}}return e})(o,n)),[o,n]),N=((e,t)=>Hn(0,t))(0,y),O=Hn(0,w,w),T=e=>{w(e)},D=Nn({fieldType:"find",sourceFieldInfo:c,activeDynamicContentField:k,setActiveDynamicContentField:x,value:n,onChange:y,isDiviAIEnabled:S}),F=Nn({fieldType:"replace",sourceFieldInfo:c,activeDynamicContentField:k,setActiveDynamicContentField:x,value:A,onChange:T,isDiviAIEnabled:S}),P=[{name:"find-and-replace",label:(0,a.__)("Find And Replace","et_builder"),showIcon:!1,showLabel:!0,showTooltip:!1,onClick:()=>{const e=C(n,A);I(e)},disabled:!c}];return l().createElement(u.ErrorBoundary,{key:"et-vb-divi-modals--find-and-replace",componentName:"et-vb-divi-modals--find-and-replace"},l().createElement(l().Fragment,null,l().createElement(p.WrapperContainer,{modalName:gn,draggable:!0,expandable:!0,snappable:!0,resizable:!0},l().createElement(p.Header,{name:(0,a.__)("Find And Replace","et_builder")}),l().createElement(p.BodyContainer,null,l().createElement(p.PanelContainer,{id:"find-and-replace",opened:!0},l().createElement(p.FieldWrapper,{label:(0,a.__)("Source Element","et_builder"),description:(0,a.__)("Choose which element to find and replace values from.","et_builder"),id:"source-element"},l().createElement(E.SelectContainer,{name:"sourceElement",options:m,value:e,onChange:v,searchable:!0,searchPlaceholder:(0,a.__)("Search elements...","et_builder")})),l().createElement(p.FieldWrapper,{label:(0,a.__)("Find Value","et_builder"),description:(0,a.__)("Enter the value you want to find and replace.","et_builder"),id:"find-value",enableReset:!!c&&(0,fn.hasFieldValue)(n,c.defaultValue||"","desktop","value"),onReset:N,additionalButtons:D},l().createElement(Gn,{value:n,onChange:y,sourceFieldInfo:c,name:"find-field",setActiveDynamicContentField:x})),l().createElement(p.FieldWrapper,{label:(0,a.__)("Replace Value","et_builder"),description:(0,a.__)("Enter the new value that will replace the found value.","et_builder"),id:"replace-value",enableReset:!!c&&(0,fn.hasFieldValue)(A,c.defaultValue||"","desktop","value"),onReset:O,additionalButtons:F},l().createElement(Gn,{value:A,onChange:T,sourceFieldInfo:c,name:"replace-field",setActiveDynamicContentField:x})),l().createElement(p.FieldWrapper,{label:(0,a.__)("Find And Replace In Location","et_builder"),description:(0,a.__)("Choose the scope of where to look for matching fields.","et_builder"),id:"find-replace-scope"},l().createElement(E.SelectContainer,{name:"findReplaceScope",options:g,value:t,onChange:h})),l().createElement(p.FieldWrapper,{label:(0,a.__)("Find And Replace In Element Type","et_builder"),description:(0,a.__)("Choose which types of elements to search within.","et_builder"),id:"module-types"},l().createElement(E.SelectContainer,{name:"moduleTypes",options:f,value:r,onChange:b,searchable:!0,searchPlaceholder:(0,a.__)("Search elements...","et_builder")})),l().createElement(p.FieldWrapper,{label:(0,a.__)("Only Replace Identical Fields","et_builder"),description:(0,a.__)("When enabled, only replace values in fields that have the same type as the source field. When disabled, replace matching values in any field type.","et_builder"),id:"only-replace-identical-fields"},l().createElement(E.Toggle,{name:"onlyReplaceIdenticalFields",value:s?"on":"off",onChange:_})))),l().createElement(p.Footer,{buttons:P}),l().createElement($n,{result:M,onClose:()=>{I(null)}}))))}),zn);Kn.displayName="FindAndReplaceModal";var Zn=window.divi.editPost;const Yn=function(){return(0,i.createElement)(Kn,(()=>{const{modal:e,sourceModuleId:t}=(0,d.useSelect)((e=>({modal:e("divi/modal-library").getModal("divi/find-and-replace"),sourceModuleId:e("divi/modal-library").getModalProperty({modalName:"divi/find-and-replace",property:"owner"})||""})),[]),[r,n]=(0,i.useState)({selectedSourceModule:t,selectedScope:"page",selectedModuleTypes:"all",findValue:"",replaceValue:"",onlyReplaceIdenticalFields:!1}),o=(0,i.useRef)(null);(0,i.useEffect)((()=>{t&&t!==r.selectedSourceModule&&n((e=>({...e,selectedSourceModule:t,selectedScope:"page",selectedModuleTypes:"all",findValue:"",replaceValue:""})))}),[t,r.selectedSourceModule]);const l=(0,i.useMemo)((()=>{const t=e?.attributes,r=t?.sourceModuleId||t?.id;return t?.attrName&&r?(0,R.getSourceFieldInfo)({sourceModuleId:null,modalAttributes:t}):null}),[e?.attributes,e?.toggleTimestamp]);(0,i.useEffect)((()=>{if(l&&e?.toggleTimestamp){const t={moduleId:l.moduleId,attrName:l.attrName,subName:l.subName,toggleTimestamp:e.toggleTimestamp},r=!o.current||o.current.moduleId!==t.moduleId||o.current.attrName!==t.attrName||o.current.subName!==t.subName,a=o.current&&!r&&l.fieldValue!==o.current.fieldValue;(r||a)&&(o.current={...t,fieldValue:l.fieldValue},n((e=>({...e,selectedSourceModule:l.moduleId,selectedScope:"page",selectedModuleTypes:"all",findValue:l.fieldValue||"",replaceValue:"",onlyReplaceIdenticalFields:!1}))))}}),[l?.moduleId,l?.attrName,l?.subName,e?.toggleTimestamp]);const s=(0,i.useMemo)((()=>l||(r.selectedSourceModule?(0,R.getSourceFieldInfo)({sourceModuleId:r.selectedSourceModule,modalAttributes:null}):null)),[l,r.selectedSourceModule]),c=e?.isActive||!1,u=cn(c),p=dn(c),m=(0,d.useSelect)((e=>r.selectedSourceModule&&c?e("divi/edit-post").getAncestorModules(r.selectedSourceModule,"bottom-to-top"):null),[r.selectedSourceModule,c]),f=(0,i.useMemo)((()=>un(r.selectedSourceModule,m)),[r.selectedSourceModule,m]),g=(0,i.useCallback)((e=>{n((t=>({...t,selectedSourceModule:e.inputValue})))}),[]),v=(0,i.useCallback)((e=>{n((t=>({...t,selectedScope:e.inputValue})))}),[]),h=(0,i.useCallback)((e=>{n((t=>({...t,selectedModuleTypes:e.inputValue})))}),[]),b=(0,i.useCallback)((e=>{n((t=>({...t,findValue:e})))}),[]),y=(0,i.useCallback)((e=>{n((t=>({...t,replaceValue:e})))}),[]),E=(0,i.useCallback)((e=>{n((t=>({...t,onlyReplaceIdenticalFields:"on"===e.inputValue})))}),[]),w=(0,i.useCallback)(((e,t)=>{const n=e??r.findValue,o=t??r.replaceValue;(0,d.dispatch)("divi/history").disableHistoryTracking();const i=(0,Zn.performFindReplace)({sourceFieldInfo:s,selectedScope:r.selectedScope,selectedModuleTypes:r.selectedModuleTypes,findValue:n,replaceValue:o,onlyReplaceIdenticalFields:r.onlyReplaceIdenticalFields,selectedSourceModule:r.selectedSourceModule});if((0,d.dispatch)("divi/history").enableHistoryTracking(),i&&"PERFORM_FIND_REPLACE_SUCCESS"===i.type&&i.changesCount&&i.changesCount>0){const e=(0,d.select)("divi/edit-post").getContent();(0,d.dispatch)("divi/history").addLayoutItem({label:(0,a.__)("Replaced Attributes","et_builder"),moduleId:r.selectedSourceModule,moduleLabel:"",moduleName:"",state:e,timestamp:(new Date).getTime(),humanTime:(new Date).toLocaleTimeString(),type:"PERFORM_FIND_REPLACE",storeName:"divi/edit-post"})}return i}),[s,r.selectedScope,r.selectedModuleTypes,r.findValue,r.replaceValue,r.onlyReplaceIdenticalFields,r.selectedSourceModule]);return{selectedSourceModule:r.selectedSourceModule,selectedScope:r.selectedScope,selectedModuleTypes:r.selectedModuleTypes,findValue:r.findValue,replaceValue:r.replaceValue,onlyReplaceIdenticalFields:r.onlyReplaceIdenticalFields,sourceFieldInfo:s,allModules:u,availableModuleTypes:p,scopeOptions:f,onSourceModuleChange:g,onScopeChange:v,onModuleTypesChange:h,onFindValueChange:b,onReplaceValueChange:y,onOnlyReplaceIdenticalFieldsChange:E,onFindAndReplace:w}})())};const Jn={name:gn,label:"Find And Replace",snappable:!0,type:"multiInstanceModal",videos:[],component:Yn,sidebarPosition:!1,attributesMergeStrategy:"replace"};var Xn=window.divi.draggable;const Qn="divi/help",eo=(0,a.__)("Help","et_builder"),to=.5625,ro={page:{exit:{name:"exit",label:"Exit",keys:["Meta","left"],category:"page",action:s.noop},exitToFrontEnd:{name:"exitToFrontEnd",label:"Exit To Front End",keys:["Meta","e"],category:"page",action:s.noop},exitToEditor:{name:"exitToEditor",label:"Exit To Editor",keys:["Meta","Shift","e"],category:"page",action:s.noop},exitToDashboard:{name:"exitToDashboard",label:"Exit To Dashboard",keys:["Meta","Shift","d"],category:"page",action:s.noop},toggleWireframeMode:{name:"toggleWireframeMode",label:"Wireframe Mode",keys:["Shift","W"],category:"page",action:s.noop},viewZoomIn:{name:"viewZoomIn",label:"Responsive Zoom In",keys:["=","Meta"],category:"page",action:s.noop},viewZoomOut:{name:"viewZoomOut",label:"Responsive Zoom Out",keys:["-","Meta"],category:"page",action:s.noop},openHelpModal:{name:"openHelpModal",label:"Open Help Panel",keys:["?"],category:"page",action:s.noop}},module:{copyModule:{name:"copyModule",label:"Copy Module",keys:["Meta","c"],category:"module",action:s.noop},pasteModule:{name:"pasteModule",label:"Paste Module",keys:["Meta","v"],category:"module",action:s.noop},copyPasteModule:{name:"copyPasteModule",label:"Copy-Paste Module",keys:["Meta","c","v"],category:"module",action:s.noop},copyModuleStyle:{name:"copyModuleStyle",label:"Copy Module Style",keys:["Alt","Meta","c"],category:"module",action:s.noop},pasteModuleStyle:{name:"pasteModuleStyle",label:"Paste Module Style",keys:["Alt","Meta","v"],category:"module",action:s.noop},addNewRow:{name:"addNewRow",label:"Add New Row",keys:["r",["1","2","3","4","5","6","7","8","9"]],category:"module",action:s.noop},changeColumnStructure:{name:"changeColumnStructure",label:"Change Column Structure",keys:["c",["1","2","3","4","5","6","7","8","9"]],category:"module",action:s.noop},addNewSection:{name:"addNewSection",label:"Add New Section",keys:["s",["1","2","3"]],category:"module",action:s.noop},makeRowFullWidth:{name:"makeRowFullWidth",label:"Make Row Full Width",keys:["r","f"],category:"module",action:s.noop},increaseRowPadding:{name:"increaseRowPadding",label:"Increase Row Padding",keys:["r",["left","top","right","bottom"]],category:"module",action:s.noop},decreaseRowPadding:{name:"decreaseRowPadding",label:"Decrease Row Padding",keys:["r","alt",["left","top","right","bottom"]],category:"module",action:s.noop},increaseSectionPadding:{name:"increaseSectionPadding",label:"Increase Section Padding",keys:["s",["left","top","right","bottom"]],category:"module",action:s.noop},decreaseSectionPadding:{name:"decreaseSectionPadding",label:"Decrease Section Padding",keys:["s","alt",["left","top","right","bottom"]],category:"module",action:s.noop},increaseModulePadding:{name:"increaseModulePadding",label:"Increase Module Padding",keys:["m",["left","top","right","bottom"]],category:"module",action:s.noop},decreaseModulePadding:{name:"decreaseModulePadding",label:"Decrease Module Padding",keys:["m","alt",["left","top","right","bottom"]],category:"module",action:s.noop},increaseRowPaddingBy10px:{name:"increaseRowPaddingBy10px",label:"Increase Row Padding By 10px",keys:["r","shift",["left","top","right","bottom"]],category:"module",action:s.noop},decreaseRowPaddingBy10px:{name:"decreaseRowPaddingBy10px",label:"Decrease Row Padding By 10px",keys:["r","alt","shift",["left","top","right","bottom"]],category:"module",action:s.noop},increaseSectionPaddingBy10px:{name:"increaseSectionPaddingBy10px",label:"Increase Section Padding By 10px",keys:["s","shift",["left","top","right","bottom"]],category:"module",action:s.noop},decreaseSectionPaddingBy10px:{name:"decreaseSectionPaddingBy10px",label:"Decrease Section Padding By 10px",keys:["s","alt","shift",["left","top","right","bottom"]],category:"module",action:s.noop},increaseModulePaddingBy10px:{name:"increaseModulePaddingBy10px",label:"Increase Module Padding By 10px",keys:["m","shift",["left","top","right","bottom"]],category:"module",action:s.noop},decreaseModulePaddingBy10px:{name:"decreaseModulePaddingBy10px",label:"Decrease Module Padding By 10px",keys:["m","alt","shift",["left","top","right","bottom"]],category:"module",action:s.noop},changeGutterWidth:{name:"changeGutterWidth",label:"Change Gutter Width",keys:["g",["1","2","3","4"]],category:"module",action:s.noop}}},no=()=>{const e=(0,d.select)("divi/help").getOverlayMode();(0,d.dispatch)("divi/help").setOverlayMode(!e)},oo=e=>{const{modalOffset:t}=e;return e=>{const r=t.top??0,n=t.left??0,o={top:r+e.sinceMouseDown.y,left:n+e.sinceMouseDown.x};(0,d.dispatch)("divi/modal-library").setOffset({name:"divi/help",offset:o})}},ao=e=>{const{className:t,currentVideo:r,currentVideoList:n,dimension:o,offset:s,overlayMode:c,setCurrentVideo:p,videos:g}=e,h=(0,i.useRef)(null),b=c?o.width:o.width-60,y=800<o.width&&!c?b/2-60:b,E=e=>{e.preventDefault();const t=parseInt(e.currentTarget.getAttribute("data-index"),10);p(t),h.current.scrollIntoView({behavior:"auto",block:"start"})},_=(e="chevron-left")=>l().createElement(m.Button,{isSmall:!0,className:`et-vb-video-list__buttons--${e}`,onMouseDown:()=>{return t="chevron-left"===e?"left":"right",void(0,d.dispatch)("divi/help").setJumpToVideo("left"===t?-1:1);var t},onClick:f.handleOnClickFallback},l().createElement(w.IconSvg,{name:`divi/${e}`,color:"#273039"})),C=v()("et-vb-video-list",t,c?"et-vb-video-list__overlay-active":"");return l().createElement("div",{ref:h,className:C},l().createElement(Xn.Draggable,{className:v()("et-vb-modal-draggable-no-header"),onElementDrag:oo({modalOffset:s}),disable:!c},l().createElement("div",{className:"et-vb-video-list__container"},l().createElement("div",{className:"et-vb-video-list__header",style:{height:y*to}},l().createElement(u.ErrorBoundary,{key:"et-vb-divi-modals--help-modal--render-video",componentName:"et-vb-divi-modals--help-modal--render-video"},l().createElement(i.Fragment,null,c?null:l().createElement(m.Button,{isElevate:!0,isPrimary:!0,isRound:!0,isSmall:!0,onMouseDown:no,onClick:f.handleOnClickFallback,className:v()("et-vb-button--undock")},l().createElement(w.IconSvg,{name:"divi/window-undock",color:"#FFFFFF"})),c?l().createElement(m.Button,{isElevate:!0,isPrimary:!0,isRound:!0,isSmall:!0,onMouseDown:no,onClick:f.handleOnClickFallback,className:v()("et-vb-button--close")},l().createElement(w.IconSvg,{name:"divi/close",color:"#FFFFFF"})):null,navigator.onLine?l().createElement(m.YouTubeVideo,{dividers:!0,style:{width:"100%",height:"100%"},videoId:g[n][r].id}):l().createElement("span",null,(0,a.__)("Unable To Establish Internet Connection.","et_builder"))))),l().createElement(u.ErrorBoundary,{key:"et-vb-divi-modals--help-modal--video-list",componentName:"et-vb-divi-modals--help-modal--video-list"},l().createElement("ul",{className:"et-vb-video-list__menu"},l().createElement(i.Fragment,null,Object.keys(g[n]).map((e=>l().createElement("li",{className:v()({"et-vb-video-list__item":!0,"et-vb-video-list__item--active":r===parseInt(e,10)}),key:`video-${e}`,"data-index":e,onClick:f.handleOnClickFallback,onMouseDown:E},l().createElement("div",{className:"et-vb-video-list__icon"}),l().createElement("span",null,g[n][parseInt(e)].name))))),c&&l().createElement(i.Fragment,null,_("chevron-left"),_("chevron-right")))))))},io=e=>{const[t,r]=(0,i.useState)([]),{groupedShortcuts:n}=e;return l().createElement("div",{className:"et-vb-shortcut-panel",key:"et-vb-shortcut-panel"},(0,s.keys)(n).map((e=>l().createElement("div",{className:"et-vb-shortcut-groups",key:`et-vb-shortcut-group-${e}`},l().createElement("label",{className:"et-vb-field-label"},`${(0,s.capitalize)(e)} Shortcuts`),(0,s.keys)(n[e]).map((o=>l().createElement("div",{className:"et-vb-shortcut-item",key:`et-vb-shortcut-item-${o}`},l().createElement("span",{className:"et-vb-shortcut-keys"},n[e][o].keys.map(((e,n)=>{const a=(e=>{switch(e){case"Meta":return"cmd";case" ":return"space";default:return e}})(e),c=t.includes(o);return(0,s.isArray)(a)?a.map(((e,t)=>t<(c?a.length:5)?l().createElement(i.Fragment,{key:`et-vb-shortcut-key-${o}-${e}`},l().createElement("span",{className:"et-vb-shortcut-key-separator"},0===t?"+":"/"),l().createElement("kbd",{"data-key":e,className:"et-vb-shortcut-key"},e)):5!==t||c?null:l().createElement(i.Fragment,{key:`et-vb-shortcut-key-${o}-more`},l().createElement("span",{className:"et-vb-shortcut-key-separator"},"/"),l().createElement("kbd",{className:"et-vb-shortcut-key more-keys",onClick:()=>(e=>{r((t=>t.includes(e)?t.filter((t=>t!==e)):[...t,e]))})(o)},"...")))):l().createElement(i.Fragment,{key:`et-vb-shortcut-key-${o}-${a}`},n>0?l().createElement("span",{className:"et-vb-shortcut-key-separator"},"+"):null,l().createElement("kbd",{"data-key":a,className:"et-vb-shortcut-key"},a))}))),l().createElement("span",{className:"et-vb-shortcut-label"},n[e][o].label))))))))},lo=e=>{const{tab:t,groupedShortcuts:r,videos:n,dimension:o,offset:s,currentVideoList:c,currentVideo:d,overlayMode:m,setCurrentVideo:f,onElementClick:g,onElementDrag:v}=e,h=(0,a.__)("Video Tutorials","et_builder"),b=(0,a.__)("Keyboard Shortcuts","et_builder"),y=t||"video",E=()=>l().createElement(ao,{currentVideo:d,currentVideoList:c,dimension:o,offset:s,overlayMode:m,setCurrentVideo:f,videos:n});return l().createElement(u.ErrorBoundary,{key:"et-vb-divi-modals--help",componentName:"et-vb-divi-modals--help"},l().createElement(p.WrapperContainer,{snappable:!0,expandable:!1,draggable:!0,resizable:!0,multiPanels:!0,modalName:Qn,modalActiveTab:y,dimension:o,onElementClick:g,onElementDrag:v},m?E():l().createElement(i.Fragment,null,l().createElement(p.Header,{name:(0,a.__)("Divi Builder Helper","et_builder")}),l().createElement(p.BodyPanelWrapperContainer,null,l().createElement(p.PanelContainer,{id:"video",label:h},E()),l().createElement(p.PanelContainer,{id:"shortcut",label:b},l().createElement(io,{groupedShortcuts:r}))))))},{defaults:so}=h.modal,{minimums:co}=h.modal,uo=[{name:"helpModalVideo-up",label:(0,a.__)("Select Prev Help Video","et_builder"),keys:["ArrowUp"],category:"modal",action:()=>{(0,d.dispatch)("divi/help").setJumpToVideo(-1)}},{name:"helpModalVideo-down",label:(0,a.__)("Select Next Help Video","et_builder"),keys:["ArrowDown"],category:"modal",action:()=>{(0,d.dispatch)("divi/help").setJumpToVideo(1)}},{name:"helpModalVideo-left",label:(0,a.__)("Select Prev Help Video","et_builder"),keys:["ArrowLeft"],category:"modal",action:()=>{(0,d.dispatch)("divi/help").setJumpToVideo(-1)}},{name:"helpModalVideo-right",label:(0,a.__)("Select Next Help Video","et_builder"),keys:["ArrowRight"],category:"modal",action:()=>{(0,d.dispatch)("divi/help").setJumpToVideo(1)}}],po=({width:e,videoRatio:t,videos:r,currentVideoList:n,overlayMode:o,topWindowHeight:a,pageBarHeight:i})=>{const l=(o?e:e-60)*t;if(o)return l;const s=800<e?85:51,c=(800<e?l/2:l)+54*Object.keys(r[n]).length-s,d=a-i-20;return Math.round(Math.min(c,d))},mo={name:Qn,label:eo,type:"multiInstanceModal",isSubmodal:!0,component:e=>{const{dimension:t,name:r,offset:n}=e,{videoList:o,currentVideo:a,videos:l,overlayMode:s,topWindowHeight:c,pageBarHeight:u}=(0,d.useSelect)((e=>({videoList:e("divi/help").getCurrentListName(),currentVideo:e("divi/help").getCurrentVideo(),videos:e("divi/help").getVideos(),overlayMode:e("divi/help").getOverlayMode(),topWindowHeight:e("divi/app-ui").getWindow("height","top"),pageBarHeight:e("divi/app-ui").getElementProperty({elementName:"pageBar",propertyGroup:"dimension",propertyName:"height"})}))),p=l[o]?o:"divi/default";(0,i.useEffect)((()=>((0,L.registerShortcuts)(uo),()=>(0,L.unregisterShortcuts)(uo.map((e=>e.name))))),[]);const m=()=>{const e=t?.width;return{width:e,height:po({width:e,videoRatio:to,videos:l,currentVideoList:p,overlayMode:s,topWindowHeight:c,pageBarHeight:u})}},[f,g]=(0,i.useState)(m());(0,i.useEffect)((()=>{g(m())}),[s]),(0,i.useEffect)((()=>{(0,d.dispatch)("divi/modal-library").setDimension({name:r,dimension:f})}),[f]);const v=(0,i.useCallback)((()=>e=>{const t=Math.max(co.dimension.width,0+f.width+e.sinceMouseDown.x),r=s?po({width:t,videoRatio:to,videos:l,currentVideoList:p,overlayMode:s,topWindowHeight:c,pageBarHeight:u}):"number"==typeof f.height?f.height+e.sinceMouseDown.y:f.height;g({width:t,height:r})}),[p,f]),h={...e,currentVideoList:p,overlayMode:s,dimension:f,offset:n,groupedShortcuts:ro,videos:l,currentVideo:a,setCurrentVideo:(0,d.dispatch)("divi/help").setCurrentVideo,onElementDrag:v};return(0,i.createElement)(lo,h)}},fo="divi/icon-picker",go=({icons:e=w.iconList,showFilter:t=!0,showSearch:r=!0,selectedIcon:n,onChange:o,registerShortcuts:s,unregisterShortcuts:c,dimension:d})=>{const[m,f]=(0,i.useState)(n),[g,v]=(0,i.useState)(),h=e=>{f(e.inputValue),o(e)};return(0,i.useEffect)((()=>{f(n)}),[n]),(0,i.useEffect)((()=>{const e=(0,E.iconPickerShortcuts)({onChange:h,prefix:"expandedIconModal",scrollArea:g});return g&&s(e),()=>{c(e.map((e=>e.name)))}}),[g]),l().createElement(u.ErrorBoundary,{componentName:"et-vb-divi-modals--icon-picker"},l().createElement(l().Fragment,null,l().createElement(p.WrapperContainer,{modalName:fo,draggable:!0,expandable:!0,resizable:!0,dimension:null},l().createElement(p.Header,{name:(0,a.__)("Select Icon","et_builder")}),l().createElement(p.BodyContainer,null,l().createElement(p.PanelContainer,{id:"icon-picker",opened:!0},l().createElement(E.IconPickerExpandedIcon,{icons:e,selectedIcon:m,onClickIcon:h,scrollToSelected:!0,showFilter:t,showSearch:r,name:"iconPickerModal",customHeight:("number"==typeof d.height?d.height-113:0)+"px",setScrollArea:v}))))))},vo=(0,a.__)("Icon Picker","modal-library"),ho=e=>{const{name:t,dimension:r}=e,{attributes:n}=(0,d.useSelect)((e=>({attributes:e("divi/modal-library").getModalProperty({modalName:"divi/icon-picker",property:"attributes"})})));return(0,i.createElement)(go,{...n,closeModal:()=>(0,d.dispatch)("divi/modal-library").close({name:t}),dimension:r,registerShortcuts:L.registerShortcuts,unregisterShortcuts:L.unregisterShortcuts})},bo={name:fo,label:vo,type:"multiInstanceModal",component:ho,canBeSavedOnWorkspace:!1},yo=({draggedModuleType:e,dropZoneStyle:t})=>l().createElement("div",{className:v()({"et-vb-layer-drop-zone":!0}),"data-module-type":e,style:t});var Eo=window.divi.tooltip;const wo=({moduleIconName:e})=>{const t=["divi/section","divi/row","divi/column"].includes(e);return"string"!=typeof e||""===e||t?l().createElement(w.IconSvg,{name:"divi/module-menu",size:8,viewBox:"2.5 2 11 11"}):l().createElement(w.IconSvg,{name:e,size:8,viewBox:"0 0 16 16"})},_o=({id:e,level:t=1,moduleName:r,moduleIcon:n,moduleTitle:o,moduleType:c,childrenModuleIds:u,layerChildModules:p,isHovered:m=!1,isDragged:g=!1,isDragging:h=!1,hasDropZone:b=!1,hoveredArea:y="bottom",onMouseDown:E,onMouseEnter:_,onMouseLeave:C,onMouseMove:S,isActiveModule:k,layerModule:x,isSearchActive:M,searchModule:I,filterModules:A,isFilterActive:N,isGlobalModule:O=!1,isChildHovered:T=!1,isColumnOnlyChildToRow:D=!1,hideLayerOptions:F=!1,isHighlighted:P=!1,isDisabled:L=!1,isModuleTitleDynamic:V=!1,draggedModuleType:B="module"})=>{const[j,q]=(0,i.useState)(!1),[W,U]=(0,i.useState)(0),H=(0,i.useRef)(null);(0,i.useEffect)((()=>{x?.active&&((0,d.dispatch)("divi/modal-library").setLayersViewActiveModuleId(e),(0,d.dispatch)("divi/modal-library").setLayersViewModule({moduleId:e,data:{active:!1}}))}),[]),(0,i.useEffect)((()=>{x?.active&&setTimeout((()=>{H.current?.scrollIntoView()}),300)}),[H]),(0,i.useEffect)((()=>{k&&H.current?.scrollIntoView({behavior:"smooth",block:"center"})}),[k,N]);const z=t=>{t.preventDefault(),t.stopPropagation(),(0,d.dispatch)("divi/modal-library").setLayersViewActiveModuleId(e),F||(0,fn.contextMenuCallback)({cursorPosition:{x:t.clientX,y:t.clientY},moduleType:c,moduleName:r,moduleId:e,windowLocation:"top",modalName:"divi/layers"})},G=t=>{t.preventDefault(),t.stopPropagation();if((0,R.isModuleAccessible)(r))if((0,d.dispatch)("divi/modal-library").setLayersViewActiveModuleId(e),(0,R.scrollToModule)(e),"divi/shortcode-module"===r){const t=(0,d.select)("divi/settings").getSetting(["shortcodeModuleDefinitions"]);if(!t||0===Object.keys(t).length)return;(0,d.dispatch)("divi/modal-library").open({owner:e,name:"divi/module-shortcode"})}else(0,d.dispatch)("divi/modal-library").open({owner:e,name:"divi/module"})},$={onClick:t=>{const r=t.timeStamp-W;U(t.timeStamp);r<300?(0,d.dispatch)("divi/modal-library").setLayersViewModule({moduleId:e,childrenModuleIds:u,checkChildren:!0,data:{expand:x?.expand}}):(0,d.dispatch)("divi/modal-library").setLayersViewModule({moduleId:e,childrenModuleIds:u,data:{expand:!x?.expand}})},onContextMenu:z,id:e,expand:x?.expand},K=u.length&&!M&&!N,Z=F?null:l().createElement("button",{type:"button",className:v()({"et-vb-button":!0,"et-vb-button-hidden":"transparent"===I?.visibility||"transparent"===A?.visibility}),onClick:f.handleOnClickFallback,onContextMenu:z,"data-tooltip-id":`options-${c}-${e}`,onMouseDown:z},l().createElement(w.IconSvg,{name:"divi/more",size:8,viewBox:"-8 -1 20 20",iconComponentProps:{color:"#ffffff"}}),l().createElement(Eo.TooltipContainer,{windowLocation:"top",id:`options-${c}-${e}`},(0,a.__)("More Options","et_builder"))),Y=b?l().createElement(yo,{draggedModuleType:B}):null,J=b&&"top"===y?Y:null,X=b&&"bottom"===y?Y:null,Q="transparent"===I?.visibility||"transparent"===A?.visibility,ee="hidden"===I?.visibility||"hidden"===A?.visibility;return l().createElement(l().Fragment,null,J,l().createElement("div",{ref:H,role:"button",tabIndex:0,"data-module-type":c,className:v()({"et-vb-layer-module":!0,[`et-vb-layer-module-level--${t}`]:!0,"et-vb-layer-module--is-active":k||g,"et-vb-layer-module--is-global-module":O,"et-vb-layer-module--is-hidden":ee,"et-vb-layer-module--is-faded":Q,"et-vb-layer-module--is-dragged":g,"et-vb-layer-module--is-dragging-happening":h,"et-vb-layer-module--is-drag-disabled":D,"et-vb-layer-module--is-child-module-hovered":T,"et-vb-layer-module--is-highlighted":P,"et-vb-layer-module--has-toggle":K}),"data-id":e,"data-module-name":r,onMouseLeave:C,onMouseEnter:_},l().createElement("div",{className:"et-vb-layer-module-inner"},l().createElement("div",{"aria-hidden":"true",className:"et-vb-layer-module-mousetrap",onClick:f.handleOnClickFallback,onContextMenu:z,onKeyDown:s.noop,onMouseDown:e=>{E(e),G(e)},onMouseMove:m?e=>S(e.nativeEvent):null}),K?(({onClick:e,onContextMenu:t,expand:r})=>l().createElement("button",{type:"button",className:"et-vb-layer-module-toggle-button",onClick:f.handleOnClickFallback,onContextMenu:t,"aria-label":r?(0,a.__)("Collapse","divi"):(0,a.__)("Expand","divi"),onMouseDown:e},l().createElement(w.IconSvg,{name:r?"divi/caret-down":"divi/caret-right",size:8,styles:{width:"9px",height:"9px",minWidth:"9px",marginTop:"3px",marginRight:"1px"},viewBox:"0 0 8 8"})))($):null,!j&&l().createElement(wo,{moduleIconName:n}),Q||V?l().createElement("span",{className:"et-vb-layer-module-title"},o):l().createElement(fn.InlineTextEditorContainer,{attrName:"module.meta.adminLabel",className:v()({"et-vb-layer-module-title":!0,"et-vb-layer-module-title--editing":j,"et-vb-layer-module-title--disabled":L}),moduleId:e,tagName:"span",text:o,fixedBreakpoint:"desktop",fixedState:"value",callbackEditingStatusChange:(e,t)=>{q(t)},handleContextMenu:z})),Z),p,X)},Co=(e,t)=>(0,s.get)(e,["module","meta","adminLabel","desktop","value"])||t||(0,a.__)("Unknown Module","divi"),So=(e,t={})=>{const r=(0,d.select)("divi/edit-post"),n=(0,d.select)("divi/module-library");let o={};return e.forEach((e=>{const a=r.getModule(e),i=a?.name,l=n.getModule(i),s=Co(a?.props?.attrs,l?.title),c=l?.category;if(o[e]={id:e,expand:t?.expand||!1,...i&&{moduleName:i},...s&&{adminLabel:s},...c&&{moduleCategory:c}},a?.children?.length){const e=So(a.children,t);o={...o,...e}}})),o};var ko=r(79762);const xo=e=>{const{id:t,level:r,ancestorId:n,ancestorBottomOffsetTop:a,ancestorHoveredArea:c,setActiveLayerModuleId:u}=e,[p,m]=(0,i.useState)(0),[g,v]=(0,i.useState)("bottom"),{name:h,childrenModuleIds:b,globalModule:y,globalParent:E,moduleType:w,moduleTitle:_,moduleName:C,moduleIcon:S,isDisabled:k,isNestedModule:x}=(0,d.useSelect)((e=>{const r=e("divi/edit-post").getModule(t),n=e("divi/module-library").getModule(r?.name);let o=r?.props?.attrs;(0,s.get)(r?.props?.attrs,"module.meta")||(o=n.defaultSettingsAttrs);let a=Co(o,n?.title);if("divi/shortcode-module"===r?.name){const t=e("divi/settings").getSetting(["shortcodeModuleDefinitions",r?.props?.attrs?.shortcodeName]),n=(0,R.parseShortcode)(r?.props?.innerHTML)?.[0];a=""===(n?.attrs?.admin_label??"")?t?.name:n?.attrs?.admin_label}return{name:r?.name,childrenModuleIds:r?.children,globalModule:r?.props?.attrs?.globalModule,globalParent:r?.props?.attrs?.globalParent,moduleType:(0,R.getModuleType)(r?.name,r?.props?.attrs),moduleTitle:a,moduleName:n?.name,moduleIcon:n?.moduleIcon,isDisabled:e("divi/edit-post").isDisabled(t),isNestedModule:Boolean(n?.nestable)&&e("divi/edit-post").isNestedModule({moduleId:t})}})),{isDynamic:M,isLoading:I,resolvedValue:A}=(0,Un.useDynamicData)(_),N=A&&!I?A:"",O=""!==(y||"")||""!==(E||""),T=R.structuralModules.includes(h)&&0===b.length,{isDragged:D,isDragging:F,isHovered:P,hoveredModule:L,draggedModules:V}=(0,d.useSelect)((e=>{const r=e("divi/events").isHovered(t),n=e("divi/events").isDragged(t,"layers"),o=e("divi/events").getDraggingStatus("layers");let a,i;return r&&(a=e("divi/events").getHoveredModule()),(n||o)&&(i=e("divi/events").getDraggedModules()),{isDragged:n,isDragging:o,isHovered:r,hoveredModule:a,draggedModules:i}})),B=V?.[0],j=B?.moduleType,q=L?.payload?.ancestorId===t,U=L?.payload?.parentId===t,H=P||q,z=(0,R.isValidChild)(w,j),G=P&&z&&"group"!==w;let $=F&&!D&&H&&(0,R.shouldRenderDropZone)(t,g);const{isActiveModule:K,layerModule:Z,searchModule:Y,filterModules:J,isSearchActive:X,isFilterActive:Q}=(0,d.useSelect)((e=>({isActiveModule:e("divi/modal-library").getLayersViewActiveModuleId()===t,layerModule:e("divi/modal-library").getLayersViewModule(t),searchModule:e("divi/modal-library").getLayersViewSearchModule(t),filterModules:e("divi/modal-library").getLayersViewFilterModule(t),isSearchActive:e("divi/modal-library").isLayersViewSearchActive(),isFilterActive:e("divi/modal-library").isLayersViewFilterActive()}))),{id:ee,name:te,props:{attrs:re},children:ne}=(0,d.useSelect)((e=>e("divi/edit-post").getParentModule(t))),oe=(0,R.getModuleType)(te,re),ae=1===ne?.length,ie="row-inner"===oe&&ae&&"column-inner"===w,le="row"===oe&&ae&&"column"===w,se="specialty-section"===oe&&["column","specialty-column"].includes(w),ce=ie||le||se,de="group"===j;ee===B?.id&&de&&($=!1);const ue=n??(w===B?.moduleType?t:null),pe=a??(w!==j||de?null:p),me=c??(w===B?.moduleType?g:null),fe=r+1,ge=(0,i.useMemo)((()=>b?.length?l().createElement("div",{className:"et-vb-layer-module-children"},b.map((e=>!0===Z?.expand||"visible"===Y?.visibility||"visible"===J?.visibility||"transparent"===Y?.visibility||"transparent"===J?.visibility?l().createElement(xo,{key:e,id:e,level:fe,ancestorId:ue,ancestorBottomOffsetTop:pe,ancestorHoveredArea:me,isActiveModule:K,setActiveLayerModuleId:u}):null))):null),[b,Z?.expand,fe,ue,pe,me,Y?.visibility,J?.visibility]);(0,i.useEffect)((()=>{$&&v(L?.payload?.ancestorHoveredArea)}),[L?.payload?.ancestorHoveredArea]);const ve=(0,s.throttle)((e=>{const r=a??p,o=T&&(0,R.isValidDraggedModulesParent)(w,V)||G?"inside":e.pageY>r?"bottom":"top",i=(0,d.select)("divi/events").getHoveredModule(),l={label:h,ancestorId:n,ancestorHoveredArea:o};(0,d.dispatch)("divi/events").setHoveredArea(o),i.id===t?(0,d.dispatch)("divi/events").setCurrentHoverProperty({name:"payload",value:{...i.payload,...l}}):(0,d.dispatch)("divi/events").onMouseEnter("module",t,l,o),v(o)}),200,{trailing:!1}),he=e=>{if((0,o.applyFilters)("divi.modalLibrary.layers.dragMove.enable",!0,t)){if(!(0,d.select)("divi/events").getDraggingStatus("layers")){const e=[{id:t,moduleType:w}];(0,d.dispatch)("divi/events").startDrag(e,"layers")}(0,d.dispatch)("divi/events").setCursorPosition(e.pageX,e.pageY,e.clientX,e.clientY)}},be=()=>{if(!(0,o.applyFilters)("divi.modalLibrary.layers.dragEnd.enable",!0,t))return;const e={top:"before",bottom:"after",inside:"inside"},r=(0,d.select)("divi/events").getHoveredModule(),n=(0,d.select)("divi/events").getDraggedModules();if(1===n.length&&(r?.payload?.parentId!==n?.[0]?.id||"group"!==n?.[0]?.moduleType)){const t=n?.[0]?.id,o=r?.payload?.ancestorHoveredArea??r?.area,a=r?.id,i=document.querySelector(`[data-id="${t}"]`);window.scrollBy({top:i.offsetTop}),t!==a&&(0,d.dispatch)("divi/edit-post").moveModule(t,e[o],a),setTimeout((()=>{(0,R.scrollToModule)(t)}),100)}(0,d.dispatch)("divi/events").clearSelection(),(0,d.dispatch)("divi/events").endDrag(),f.topWindow.removeEventListener("mousemove",he),f.topWindow.removeEventListener("mouseup",be)};return(0,i.createElement)(_o,{id:t,level:r,moduleName:C,moduleIcon:S,moduleTitle:N,moduleType:w,childrenModuleIds:b,layerChildModules:ge,hasDropZone:$,hoveredArea:g,isHovered:P,isDragged:D,isDragging:F,onMouseDown:e=>{e.preventDefault();if(!(0,R.isModuleAccessible)(C))return;e.detail>1&&(0,d.dispatch)("divi/modal-library").open({name:"divi/module",owner:t});const r=!ce&&0===e.button,n={isColumnOnlyChildToRow:ce,button:e.button};(0,o.applyFilters)("divi.modalLibrary.layers.dragStart.enable",r,t,n)&&((0,d.dispatch)("divi/events").setCursorPosition(e.pageX,e.pageY,e.clientX,e.clientY),f.topWindow.addEventListener("mousemove",he),f.topWindow.addEventListener("mouseup",be))},onMouseEnter:e=>{const r=W()(e.currentTarget).closest(".et-vb-layer-module"),o=r.height(),a=r.offset().top+o/2;m(a);const i=c??(T&&(0,R.isValidDraggedModulesParent)(w,V)||G?"inside":e.pageY>a?"bottom":"top"),l={label:h,ancestorId:n,ancestorHoveredArea:i,moduleType:w,location:"layers",isNestedModule:x,parentId:ee};if(F&&!Z?.expand){const e=(0,s.throttle)((()=>{(0,d.dispatch)("divi/modal-library").setLayersViewModule({moduleId:t,childrenModuleIds:b,data:{expand:!0}})}),200);(0,R.isValidDescendant)(w,B?.moduleType)&&e()}v(i),(0,d.dispatch)("divi/events").onMouseEnter("module",t,l,i)},onMouseLeave:()=>{const e={label:h};(0,d.dispatch)("divi/events").onMouseLeave("module",t,e)},onMouseMove:ve,isActiveModule:K,setActiveLayerModuleId:u,layerModule:Z,isSearchActive:X,searchModule:Y,filterModules:J,isFilterActive:Q,isGlobalModule:O,isChildHovered:U,isColumnOnlyChildToRow:ce,hideLayerOptions:se,isHighlighted:G,isDisabled:k,isModuleTitleDynamic:M,draggedModuleType:j})},Mo=({onToggleAllClick:e,isAnySectionSelfExpanded:t})=>{const r={expand:t,onClick:()=>{e(!t)}};return l().createElement("div",{className:v()({"et-vb-layer-toggle-all":!0,"et-vb-layer-toggle-all--sticky":!1})},(({expand:e,onClick:t})=>l().createElement("button",{type:"button",className:"et-vb-layer-toggle-all-button",onClick:f.handleOnClickFallback,onMouseDown:t},l().createElement("span",{className:"et-vb-layer-toggle-all-button-text"},e?(0,a.__)("Close All"):(0,a.__)("Open All"))))(r))},Io=({count:e})=>l().createElement("div",{className:v()({"et-vb-layer-search-result-count":!0,"et-vb-layer-search-result-count--sticky":!0})},l().createElement("span",{className:"et-vb-layer-search-result-count__text"},(0,a.sprintf)((0,a._n)("%s result","%s results",e,"et_builder"),e))),Ao=()=>{const{count:e}=(0,d.useSelect)((e=>({count:e("divi/modal-library").getLayersViewSearchResultCount()})));return(0,i.createElement)(Io,{count:e})},No=({moduleIcon:e,moduleName:t})=>l().createElement("div",{className:"et-vb-layer-drag-handle"},l().createElement("div",{className:"et-vb-layer-drag-handle-icon"},l().createElement(wo,{moduleIconName:e})),l().createElement("span",{className:"et-vb-layer-drag-handle-title"},t)),Oo=({draggedModule:e})=>{const{name:t,props:{attrs:r}}=e,n=(0,d.useSelect)((e=>e("divi/module-library").getModule(t))),o=Co(r,n?.title),a=n?.moduleIcon;return l().createElement(No,{moduleIcon:a,moduleName:o})},To=({onClearFilters:e})=>l().createElement("div",{className:"et-fb-options-filter-notice"},l().createElement("span",null,(0,a.__)("No layers exist for this search query.","et_builder")),l().createElement("button",{type:"button","data-tip":"",className:"et-fb-filter-notice-button",onClick:f.handleOnClickFallback,onMouseDown:e},(0,a.__)("Click here","et_builder")),l().createElement("span",null,(0,a.__)("to clear your search filters.","et_builder"))),Do=({childrenIds:e,searchInputRef:t})=>l().createElement(To,{onClearFilters:()=>{(0,d.dispatch)("divi/modal-library").setLayersViewFilter({filterKeyword:"",isFilterActive:!1,moduleIds:e}),(0,d.dispatch)("divi/modal-library").setLayersViewSearch({searchKeyword:"",isSearchActive:!0,moduleIds:e}),t.current&&(t.current.value="")}}),Fo="divi/layers",Po=(0,a.__)("Layers","et_builder"),Lo=e=>{const{childrenIds:t,isSearchActive:r,isFilterActive:n,isFilterReset:o,onFilterResetClick:c,onFilterOptionClick:m,shouldDisplayLayerModules:f,filterOptions:g,isAnySectionSelfExpanded:h,onToggleAllClick:b}=e,[y,E]=(0,i.useState)(!1),[w,_]=(0,i.useState)(""),C=(0,i.useRef)(null);return l().createElement(u.ErrorBoundary,{key:"et-vb-divi-modals--layers",componentName:"et-vb-divi-modals--layers"},l().createElement(p.WrapperContainer,{snappable:!0,expandable:!1,draggable:!0,resizable:!0,modalName:Fo},l().createElement(p.Header,{name:(0,a.__)("Layers","et_builder"),sticky:!0}),l().createElement(p.BodyContainer,null,l().createElement(p.PanelContainer,{id:"layers",opened:!0},l().createElement(p.SearchBar,{placeholder:(0,a.__)("Search Layout","et_builder"),onSearchInputChange:e=>{const r=()=>{E(!1),(0,d.dispatch)("divi/modal-library").setLayersViewSearch({searchKeyword:e,isSearchActive:!0,moduleIds:t})};e.length?(0,s.throttle)(r,500,{leading:!1})():r()},shouldResetSearchInput:y,isSearchActive:r,className:"et-vb-search-bar--sticky",isFilterActive:n,isFilterReset:o,onFilterResetClick:c,onFilterOptionClick:m,filterOptions:g,searchInputRef:C}),r||n?l().createElement(Ao,null):l().createElement(Mo,{onToggleAllClick:b,isAnySectionSelfExpanded:h}),f?l().createElement("div",{className:v()({"et-vb-layer-module-wrapper":!0})},t.map((e=>l().createElement(xo,{key:e,id:e,level:1,isActiveModule:w===e,setActiveLayerModuleId:_}))),l().createElement(fn.DragHandleContainer,{customDragHandle:Oo,dragLocation:"layers"})):l().createElement(Do,{childrenIds:t,searchInputRef:C})))))},Ro=()=>{const{childrenIds:e,isSearchActive:t,isFilterActive:r,isFilterReset:n,isAnySectionSelfExpanded:o,searchResultCount:a,moduleCollections:s}=(0,d.useSelect)((e=>{const t=e("divi/edit-post").getModule("root")?.children||[];return{childrenIds:t,moduleCollections:e("divi/module-library").getModules(),isSearchActive:e("divi/modal-library").isLayersViewSearchActive(),isFilterActive:e("divi/modal-library").isLayersViewFilterActive(),isFilterReset:e("divi/modal-library").isLayersViewFilterReset(),isAnySectionSelfExpanded:e("divi/modal-library").isAnySectionSelfExpanded(t),searchResultCount:e("divi/modal-library").getLayersViewSearchResultCount()}})),c=(0,i.useMemo)((()=>{const e=Object.fromEntries(Object.entries(s).filter((([e,t])=>e&&"structure"===t?.category&&"divi/global-layout"!==t?.name&&"divi/row-inner"!==t?.name&&"divi/column-inner"!==t?.name)).sort().reverse().map((([e,t])=>[e,{name:t.name,label:t.titles}]))),t=Object.fromEntries(Object.entries(s).filter((([e,t])=>e&&"structure"===t.category&&"divi/global-layout"===t.name)).map((([e,t])=>[e,{name:t.name,label:t.titles}]))),r=Object.fromEntries(Object.entries(s).filter((([e,t])=>e&&"module"===t.category)).map((([e,t])=>[e,{name:t.name,label:t.titles}])));return{...e,module:{name:"module",label:"Modules"},...t,...r}}),[s]),u=(0,i.useCallback)((()=>{(0,d.dispatch)("divi/modal-library").setLayersViewFilter({filterKeyword:"",isFilterActive:!1,moduleIds:e})}),[e]),p=(0,i.useCallback)((t=>{(0,d.dispatch)("divi/modal-library").setLayersViewExpandAll({expandAll:t,moduleIds:e})}),[e]),m=(0,i.useCallback)((t=>{(0,d.dispatch)("divi/modal-library").setLayersViewFilter({filterKeyword:t,isFilterActive:!0,moduleIds:e})}),[e]),f=!r&&!t||a>0&&(r||t);return l().createElement(Lo,{childrenIds:e,isSearchActive:t,isFilterActive:r,isFilterReset:n,onFilterResetClick:u,onFilterOptionClick:m,filterOptions:c,isAnySectionSelfExpanded:o,onToggleAllClick:p,shouldDisplayLayerModules:f})},Vo={name:Fo,label:Po,sidebarPosition:"left",type:"multiInstanceModal",component:Ro,dimension:{width:200,height:240}},Bo=({name:e,previewUrl:t,isProgress:r,progress:n,modalHeading:o})=>l().createElement(u.ErrorBoundary,{componentName:"et-vb-divi-modals--library-item-preview"},l().createElement(l().Fragment,null,l().createElement(p.WrapperContainer,{modalName:e,centered:!1},l().createElement(p.Header,{name:o}),l().createElement(p.BodyContainer,null,r?l().createElement("div",{className:"et-vb-library-item-preview--progressbar"},l().createElement(m.ProgressBar,{progress:n})):l().createElement("div",{className:"et-vb-library-item-preview--iframe"},l().createElement("iframe",{src:t,width:"100%",height:"100%",title:o})))))),jo="divi/library-item-preview",qo=(0,a.__)("Library Item Preview","et_builder"),Wo={name:jo,label:qo,type:"multiInstanceModal",component:()=>{const{data:e,libraryItemProgress:t,previewUrl:r}=(0,d.useSelect)((e=>{const t=e("divi/modal-library").getModal("divi/library-item-preview"),r=(0,s.get)(t,["attributes"],{});return{data:r.data,libraryItemProgress:r.libraryItemProgress,previewUrl:r.previewUrl}}),[]),{isProgress:n,progress:o}=t,{item:a}=e;return(0,i.createElement)(Bo,{name:jo,previewUrl:r,isProgress:n,progress:o,modalHeading:a.name})},canBeSavedOnWorkspace:!1},Uo="divi/load-code-snippets",Ho=(0,a.__)("Load Code Snippets","et_builder"),zo=({bodySiblingHeight:e,onCloudUseItem:t,context:r})=>{const n=()=>{(0,d.dispatch)("divi/modal-library").close({name:Uo})};return(0,i.useEffect)((()=>(W()(window).on("et_code_snippets_library_close",n),()=>{W()(window).off("et_code_snippets_library_close",n)})),[]),l().createElement(u.ErrorBoundary,{key:"et-vb-divi-modals--alert",componentName:"et-vb-divi-modals--alert"},l().createElement(l().Fragment,null,l().createElement(p.WrapperContainer,{dimension:null,offset:null,modalName:Uo,bodySiblingHeight:e,caret:!1},l().createElement(c.CloudAppSnippets,{context:r??"code_html",onCloudUseItem:t}))))},Go={name:Uo,label:Ho,type:"multiInstanceModal",component:()=>{const{attributes:e,bodySiblingHeight:t}=(0,d.useSelect)((e=>({bodySiblingHeight:e("divi/modal-library").getModalProperty({modalName:"divi/load-code-snippets",property:"bodySiblingHeight"}),attributes:e("divi/modal-library").getModalProperty({modalName:"divi/load-code-snippets",property:"attributes"})})));return(0,i.createElement)(zo,{context:e?.context,bodySiblingHeight:t,onCloudUseItem:(t,r)=>{const n=r?"insert":"replace";e?.callback({code:t,replace:n})}})},videos:[{id:"9eqXcrLcnoc",name:"Using pre-made layouts"},{id:"boNZZ0MYU0E",name:" Saving and loading from the library"},{id:"pR8b4i4E2e4",name:" Using Divi Cloud"}]},$o="divi/load-layout",Ko=(0,a.__)("Load Layout","et_builder"),Zo=[{id:"premade-layouts",label:(0,a.__)("Premade Layouts","et_builder")},{id:"your-saved-layouts",label:(0,a.__)("Your Saved Layouts","et_builder")},{id:"your-existing-pages",label:(0,a.__)("Your Existing Pages","et_builder")}],Yo=({id:e,title:t,description:r,classNames:n,bannerText:o,onClickInsertLayoutCard:a,imageUrl:i})=>l().createElement("div",{className:"et-fb-layout-card"},l().createElement("div",{className:v()({...n}),onClick:f.handleOnClickFallback,role:"button",tabIndex:0,onMouseDown:()=>a(e)},l().createElement("img",{src:i,alt:t}),l().createElement("div",{className:"et-fb-layout-creation-card__content"},l().createElement("h3",{className:"et-fb-layout-creation-card__title"},t),l().createElement("p",{className:"et-fb-layout-creation-card__description"},r)),o&&l().createElement("div",{className:"et-fb-layout-creation-card__banner"},o))),Jo=({onClickInsertLayoutCard:e,isDiviAIEnabled:t})=>{const r=window?.et_pb_custom?.builder_images_uri,n=[{id:"premade-layouts",title:(0,a.__)("Premade Layout","et_builder"),description:(0,a.__)("Select from thousands of premade layouts designed for every type of site","et_builder"),image:`${r}/layout-insert-premade-layout.svg`,classNames:{"et-fb-layout-creation-card":!0,"et-fb-layout-creation-card__accent-purple":!0}},{id:"your-saved-layouts",title:(0,a.__)("Saved Layout","et_builder"),description:(0,a.__)("Start from a layout in your Divi Library or clone an existing page","et_builder"),image:`${r}/layout-insert-saved-layout.svg`,classNames:{"et-fb-layout-creation-card":!0,"et-fb-layout-creation-card__accent-light-blue":!0}},...t?[{id:"build_with_ai",title:(0,a.__)("Build With AI","et_builder"),description:(0,a.__)("Simply describe your page, sit back, relax and let Divi AI build it for you","et_builder"),image:`${r}/layout-insert-build-with-ai.svg`,classNames:{"et-fb-layout-creation-card":!0,"et-fb-layout-creation-card__accent-dark-blue":!0}}]:[]];return l().createElement("div",{className:"et-fb-layout-creation-cards"},n.map((t=>l().createElement(Yo,{id:t.id,title:t.title,description:t.description,classNames:t.classNames,onClickInsertLayoutCard:e,imageUrl:t.image,key:t.id}))))},Xo=({bodySiblingHeight:e,onCloudUseItem:t,openTab:r,tab:n,dimension:o,offset:s,isInsertLayoutTab:d,onClickInsertLayoutCard:m,isDiviAIEnabled:g})=>{const[v,h]=(0,i.useState)(!0),[b,E]=(0,i.useState)((0,a.__)("Layout Details","et_builder")),[w,_]=(0,i.useState)(null),C=n||"premade-layouts";return(0,i.useEffect)((()=>{_(v?null:[f.topWindow.document.querySelector(".et-vb-modal-header-button--back-to-parent")])}),[v]),l().createElement(u.ErrorBoundary,{key:"et-vb-divi-modals--alert",componentName:"et-vb-divi-modals--alert"},l().createElement(l().Fragment,null,l().createElement(p.WrapperContainer,{dimension:o,offset:s,modalName:$o,modalActiveTab:C,bodySiblingHeight:e,caret:!1},l().createElement(p.Header,{name:d?(0,a.__)("Insert Layout","et_builder"):v?(0,a.__)("Load From Library","et_builder"):b,backButton:!v,onClickBackButton:()=>h(!0),customButtons:y(0,C)}),!d&&l().createElement(p.Tabs,null,Zo.map((({id:e,label:t})=>{const n=e===C;return l().createElement(p.Tab,{key:e,onClick:()=>r(e),active:n},t)}))),l().createElement(p.BodyContainer,null,d?l().createElement(Jo,{onClickInsertLayoutCard:m,isDiviAIEnabled:g}):l().createElement(c.CloudAppContainer,{context:(()=>{switch(C){case"your-saved-layouts":return"layout";case"your-existing-pages":return"page";default:return"premade"}})(),libraryDataTypeToFetch:["layout","page"],onCloudPageChanged:(e,t)=>{h(e),E(t||(0,a.__)("Layout Details","et_builder"))},onCloudUseItem:t,backButton:w})))))},Qo=e=>{(0,d.dispatch)("divi/modal-library").openTab({name:$o,tabName:e})},ea=(e,t,r)=>{t&&(0,d.dispatch)("divi/modal-library").close({name:"divi/module"}),(0,d.dispatch)("divi/edit-post").importContent({content:e.getIn(["content"],""),importOptionsValues:{removeGlobalScope:r?"on":"off",replaceLayout:t?"on":"off",importBackUp:"off",importToCloud:"off",includeGlobalPresets:"off"}}),(0,d.dispatch)("divi/modal-library").close({name:$o})},ta=e=>{const{adminBarHeight:t,bodySiblingHeight:r,builderBarWidth:n,pageBarHeight:o,sidebarLeftWidth:l,sidebarRightWidth:s,topWindowHeight:c,topWindowWidth:u,isDiviAIEnabled:p}=(0,d.useSelect)((e=>({bodySiblingHeight:e("divi/modal-library").getModalProperty({modalName:"divi/load-layout",property:"bodySiblingHeight"}),topWindowWidth:e("divi/app-ui").getWindow("width","top"),builderBarWidth:e("divi/app-ui").getElementProperty({elementName:"builderBar",propertyGroup:"dimension",propertyName:"width"}),sidebarLeftWidth:e("divi/app-ui").getElementProperty({elementName:"sidebarLeft",propertyGroup:"dimension",propertyName:"width"}),sidebarRightWidth:e("divi/app-ui").getElementProperty({elementName:"sidebarRight",propertyGroup:"dimension",propertyName:"width"}),topWindowHeight:e("divi/app-ui").getWindow("height","top"),adminBarHeight:e("divi/app-ui").getElementProperty({elementName:"adminBar",propertyGroup:"dimension",propertyName:"height"}),pageBarHeight:e("divi/app-ui").getElementProperty({elementName:"pageBar",propertyGroup:"dimension",propertyName:"height"}),isDiviAIEnabled:e("divi/settings").checkRolePermission("divi_ai")}))),[m,f]=(0,i.useState)(!0),g={top:t+o+32,left:n+l+32},v=m?{width:p?606:410,height:289}:{width:u-(n+l+s+64),height:c-(t+o+64)},h={...e,bodySiblingHeight:r,onCloudUseItem:ea,openTab:Qo,dimension:v,offset:g,isInsertLayoutTab:m,onClickInsertLayoutCard:e=>{if("build_with_ai"===e){(0,d.dispatch)("divi/modal-library").open({name:"divi/page-settings"});const e={aiMode:"layout",type:"layout_with_ai",contextData:{module:""},additionalInfo:{field_name:"",fields:[]}};jQuery(window).trigger("et_ai_container_ready",[e,"et-ai-app"]),(0,d.dispatch)("divi/modal-library").close({name:$o})}else Qo(e);f(!1)},isDiviAIEnabled:p};return(0,i.useEffect)((()=>((0,L.registerShortcut)({name:"switchTab--divi/load-layout",label:(0,a.__)("Switch Tab","et_builder"),keys:["Shift","Tab"],category:"modal",action:()=>{const e=(0,d.select)("divi/modal-library").getModal("divi/load-layout");if(e&&e?.name===$o){const t=e.tab||Zo[0]?.id,r=Zo.map((e=>e.id)).indexOf(t);if(-1!==r){const e=(r+1)%Zo.length,t=Zo[e]?.id;t&&Qo(t)}}}}),()=>{(0,L.unregisterShortcut)("switchTab--divi/load-layout")})),[]),(0,i.createElement)(Xo,{...e,...h})},ra={name:$o,label:Ko,component:ta,videos:[{id:"9eqXcrLcnoc",name:"Using pre-made layouts"},{id:"boNZZ0MYU0E",name:" Saving and loading from the library"},{id:"pR8b4i4E2e4",name:" Using Divi Cloud"}],type:"multiInstanceModal",autoCloseOnClickOutside:!0,autoCloseExceptionSelector:".et-vb-modal"},na=(0,d.withSelect)((e=>{const t=e("divi/app-ui"),r=t.getView();return{activeViewName:r,activeView:t.getViewItem(r),topWindow:{width:t.getWindow("width","top"),height:t.getWindow("height","top")},appWindow:{width:t.getWindow("width","app"),height:t.getWindow("height","app")}}}))((({activeViewName:e,activeView:t,topWindow:r,appWindow:n})=>l().createElement("div",{className:"et-vb-app-view-panel",style:{padding:30}},l().createElement("h4",null,"Active View"),l().createElement("table",{className:"et-vb-debug-table"},l().createElement("thead",null,l().createElement("tr",null,l().createElement("th",null,"Attribute"),l().createElement("th",null,"Value"))),l().createElement("tbody",null,l().createElement("tr",null,l().createElement("td",null,"Name"),l().createElement("td",null,l().createElement("code",null,e))),l().createElement("tr",null,l().createElement("td",null,"Width"),l().createElement("td",null,l().createElement("code",null,t.width))),l().createElement("tr",null,l().createElement("td",null,"Height"),l().createElement("td",null,l().createElement("code",null,t.height))))),l().createElement("h4",null,"Top Window"),l().createElement("table",{className:"et-vb-debug-table"},l().createElement("thead",null,l().createElement("tr",null,l().createElement("th",null,"Attribute"),l().createElement("th",null,"Value"))),l().createElement("tbody",null,l().createElement("tr",null,l().createElement("td",null,"Width"),l().createElement("td",null,l().createElement("code",null,r.width))),l().createElement("tr",null,l().createElement("td",null,"Height"),l().createElement("td",null,l().createElement("code",null,r.height))))),l().createElement("h4",null,"App Window"),l().createElement("table",{className:"et-vb-debug-table"},l().createElement("thead",null,l().createElement("tr",null,l().createElement("th",null,"Attribute"),l().createElement("th",null,"Value"))),l().createElement("tbody",null,l().createElement("tr",null,l().createElement("td",null,"Width"),l().createElement("td",null,l().createElement("code",null,n.width))),l().createElement("tr",null,l().createElement("td",null,"Height"),l().createElement("td",null,l().createElement("code",null,n.height)))))))),oa=(0,d.withSelect)((e=>{const t=e("divi/events"),r=t.getSelectedModules().asMutable({deep:!0}),n=(0,s.map)(r,(e=>e.moduleType));return{selectedModules:r,selectedModulesLowest:(0,R.extractLowestModuleType)(n),draggingStatus:t.getDraggingStatus("layout"),draggedModules:t.getDraggedModules(),cursorPosition:t.getCursorPosition(),hoveredModule:t.getHoveredModule()}}))((({selectedModules:e,selectedModulesLowest:t,draggingStatus:r,draggedModules:n,cursorPosition:o,hoveredModule:a})=>l().createElement("div",{className:"et-vb-draggable-module-panel",style:{padding:30}},l().createElement("h4",null,"Selected Modules"),l().createElement("table",{className:"et-vb-debug-table"},l().createElement("thead",null,l().createElement("tr",null,l().createElement("th",null,"Type"),l().createElement("th",null,"Id"))),l().createElement("tbody",null,e.map((e=>l().createElement("tr",{key:`selected-module-${e.id}`,className:e.moduleType===t?"highlight":""},l().createElement("td",null,l().createElement("code",null,e.moduleType)),l().createElement("td",null,l().createElement("code",null,e.id))))))),l().createElement("h4",null,"Dragged Modules:",r?l().createElement("code",null,"active"):""),l().createElement("table",{className:"et-vb-debug-table"},l().createElement("thead",null,l().createElement("tr",null,l().createElement("th",null,"Type"),l().createElement("th",null,"id"))),l().createElement("tbody",null,n.map((e=>l().createElement("tr",{key:`selected-module-${e.id}`},l().createElement("td",null,l().createElement("code",null,e.moduleType)),l().createElement("td",null,l().createElement("code",null,e.id))))))),l().createElement("h4",null,"Cursor Position"),l().createElement("table",{className:"et-vb-debug-table"},l().createElement("thead",null,l().createElement("tr",null,l().createElement("th",null,"Name"),l().createElement("th",null,"Data"))),l().createElement("tbody",null,l().createElement("tr",null,l().createElement("td",null,"PageX"),l().createElement("td",null,l().createElement("code",null,o.pageX))),l().createElement("tr",null,l().createElement("td",null,"PageY"),l().createElement("td",null,l().createElement("code",null,o.pageY))),l().createElement("tr",null,l().createElement("td",null,"ScreenX"),l().createElement("td",null,l().createElement("code",null,o.clientX))),l().createElement("tr",null,l().createElement("td",null,"ScreenY"),l().createElement("td",null,l().createElement("code",null,o.clientY))))),l().createElement("h4",{style:{marginTop:20}},"Hovered Module"),l().createElement("table",{className:"et-vb-debug-table"},l().createElement("thead",null,l().createElement("tr",null,l().createElement("th",null,"Name"),l().createElement("th",null,"Data"))),l().createElement("tbody",null,l().createElement("tr",null,l().createElement("td",null,"Payload"),l().createElement("td",null,l().createElement("code",null,JSON.stringify((0,s.get)(a,"payload"))))),l().createElement("tr",null,l().createElement("td",null,"id"),l().createElement("td",null,l().createElement("code",null,(0,s.get)(a,"id","-")))),l().createElement("tr",null,l().createElement("td",null,"Area"),l().createElement("td",null,l().createElement("code",null,(0,s.get)(a,"area","-")))),l().createElement("tr",null,l().createElement("td",null,"Target"),l().createElement("td",null,l().createElement("code",null,(0,s.get)(a,"target","-"))))))))),aa=(0,d.withSelect)((e=>({hoveredModule:e("divi/events").getHoveredModule()})))((e=>{const{hoveredModule:t}=e;return l().createElement("div",{className:"et-vb-hovered-module-panel",style:{padding:30}},l().createElement("h4",null,"Target"),l().createElement("pre",null,(0,s.get)(t,"target","n/a")),l().createElement("h4",null,"id"),l().createElement("pre",null,(0,s.get)(t,"id","n/a")),l().createElement("h4",null,"Payload"),l().createElement("pre",null,JSON.stringify((0,s.get)(t,"payload",{}))))})),ia=(0,d.withSelect)((e=>({pressedKeys:e("divi/keyboard-shortcuts").getPressedKeys(),current:e("divi/keyboard-shortcuts").getCurrentShortcut()})))((e=>{const{pressedKeys:t,current:r}=e,n=(0,s.values)(t);return l().createElement("div",{className:"et-vb-keyboard-shortcuts-monitor",style:{padding:30}},l().createElement("h4",null,"Pressed Keys:"),l().createElement("pre",{style:{height:50}},n.join(" + ")),l().createElement("h4",null,"Matching Shortcuts:"),l().createElement("pre",{style:{height:50}},r.name))})),la=(0,d.withSelect)((e=>({storeState:e("divi/right-click-options").getState()})))((({storeState:e})=>{const{active:t,cursorPosition:r,length:n,optionType:o,owner:a,selected:i,windowLocation:c}=e;return l().createElement("div",{className:"et-vb-right-click-options-module-panel",style:{padding:30}},l().createElement("h4",null,"Right Click Options"),l().createElement("table",{className:"et-vb-debug-table"},l().createElement("thead",null,l().createElement("tr",null,l().createElement("th",{style:{width:130}},"State"),l().createElement("th",null,"Value"))),l().createElement("tbody",null,l().createElement("tr",null,l().createElement("td",null,"Active"),l().createElement("td",null,t?"Yes":"No")),l().createElement("tr",null,l().createElement("td",null,"Cursor Position X"),l().createElement("td",null,r.x)),l().createElement("tr",null,l().createElement("td",null,"Cursor Position Y"),l().createElement("td",null,r.y)),l().createElement("tr",null,l().createElement("td",null,"Option Type"),l().createElement("td",null,o)),l().createElement("tr",null,l().createElement("td",null,"Options Length"),l().createElement("td",null,n)),l().createElement("tr",null,l().createElement("td",null,"Selected"),l().createElement("td",null,i)),l().createElement("tr",null,l().createElement("td",null,"Window Location"),l().createElement("td",null,c)),l().createElement("tr",null,l().createElement("td",null,"Owner"),l().createElement("td",null,(0,s.isNull)(a)?"-":(e=>{const t=(0,s.keys)(e);return l().createElement("table",{className:"et-vb-debug-subtable"},l().createElement("tbody",null,t.map((t=>{const r=(0,s.get)(e,t);return l().createElement("tr",{key:`et-vb-debug-right-click-option-owner-${t}`},l().createElement("td",null,t),l().createElement("td",null,l().createElement("code",null,(0,s.isString)(r)?r:JSON.stringify(r))))}))))})(a))))))})),sa=(0,d.withSelect)((e=>{const t=e("divi/history");return{editPost:t.getRecentSubHistory("edit-post"),events:t.getRecentSubHistory("events")}}))((e=>{const{editPost:t,events:r,tab:n}=e,o=n||"events",i=(0,a.__)("Logger","et_builder"),c=(0,a.__)("Events","et_builder"),d=(0,a.__)("Edit Post","et_builder"),m=(0,a.__)("Shortcut","et_builder"),f=(0,a.__)("Hovered","et_builder"),g=(0,a.__)("Drag n Drop","et_builder"),v=e=>l().createElement(l().Fragment,null,l().createElement("ol",{className:"et-vb-logger-logs-list"},e.map(((e,t)=>{const r=(0,s.get)(e,"payload.label",""),n=(0,s.get)(e,"payload.details","");let o=e.actionType;r&&(o+=`: ${r}`);const i=n?l().createElement("span",{className:"details"},n):"";return l().createElement("li",{key:`et-vb-log-${e.actionType}--${e.trigger}-${t.toString()}`},l().createElement("strong",{className:"action"},o),l().createElement("span",{className:"trigger"},(0,a.__)("Trigger: ","et_builder"),e.trigger),i)}))));return l().createElement(u.ErrorBoundary,{key:"et-vb-divi-modals--logger",componentName:"et-vb-divi-modals--logger"},l().createElement(p.WrapperContainer,{draggable:!0,resizable:!0,expandable:!0,snappable:!0,modalName:"divi/logger",modalActiveTab:o},l().createElement(p.Header,{name:i}),l().createElement(p.BodyPanelWrapperContainer,null,l().createElement(p.PanelContainer,{id:"events",label:c},v(r)),l().createElement(p.PanelContainer,{id:"edit-post",label:d},v(t)),l().createElement(p.PanelContainer,{id:"keyboard-shortcut",label:m},l().createElement(ia,null)),l().createElement(p.PanelContainer,{id:"hovered-module",label:f},l().createElement(aa,null)),l().createElement(p.PanelContainer,{id:"draggable-module",label:g},l().createElement(oa,null)),l().createElement(p.PanelContainer,{id:"right-click-options",label:(0,a.__)("Right Click","et_builder")},l().createElement(la,null)),l().createElement(p.PanelContainer,{id:"app-view",label:(0,a.__)("App View","et_builder")},l().createElement(na,null)))))})),ca={name:"divi/logger",label:(0,a.__)("Logger","et_builder"),type:"multiInstanceModal",component:sa};var da=window.vendor.ReactDOM;const ua="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function pa(e){const t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function ma(e){return"nodeType"in e}function fa(e){var t,r;return e?pa(e)?e:ma(e)&&null!=(t=null==(r=e.ownerDocument)?void 0:r.defaultView)?t:window:window}function ga(e){const{Document:t}=fa(e);return e instanceof t}function va(e){return!pa(e)&&e instanceof fa(e).HTMLElement}function ha(e){return e instanceof fa(e).SVGElement}function ba(e){return e?pa(e)?e.document:ma(e)?ga(e)?e:va(e)||ha(e)?e.ownerDocument:document:document:document}const ya=ua?i.useLayoutEffect:i.useEffect;function Ea(e){const t=(0,i.useRef)(e);return ya((()=>{t.current=e})),(0,i.useCallback)((function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return null==t.current?void 0:t.current(...r)}),[])}function wa(e,t){void 0===t&&(t=[e]);const r=(0,i.useRef)(e);return ya((()=>{r.current!==e&&(r.current=e)}),t),r}function _a(e,t){const r=(0,i.useRef)();return(0,i.useMemo)((()=>{const t=e(r.current);return r.current=t,t}),[...t])}function Ca(e){const t=Ea(e),r=(0,i.useRef)(null),n=(0,i.useCallback)((e=>{e!==r.current&&(null==t||t(e,r.current)),r.current=e}),[]);return[r,n]}function Sa(e){const t=(0,i.useRef)();return(0,i.useEffect)((()=>{t.current=e}),[e]),t.current}let ka={};function xa(e,t){return(0,i.useMemo)((()=>{if(t)return t;const r=null==ka[e]?0:ka[e]+1;return ka[e]=r,e+"-"+r}),[e,t])}function Ma(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return n.reduce(((t,r)=>{const n=Object.entries(r);for(const[r,o]of n){const n=t[r];null!=n&&(t[r]=n+e*o)}return t}),{...t})}}const Ia=Ma(1),Aa=Ma(-1);function Na(e){if(!e)return!1;const{KeyboardEvent:t}=fa(e.target);return t&&e instanceof t}function Oa(e){if(function(e){if(!e)return!1;const{TouchEvent:t}=fa(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return function(e){return"clientX"in e&&"clientY"in e}(e)?{x:e.clientX,y:e.clientY}:null}const Ta=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[Ta.Translate.toString(e),Ta.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:n}=e;return t+" "+r+"ms "+n}}}),Da="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Fa(e){return e.matches(Da)?e:e.querySelector(Da)}const Pa={display:"none"};function La(e){let{id:t,value:r}=e;return l().createElement("div",{id:t,style:Pa},r)}function Ra(e){let{id:t,announcement:r,ariaLiveType:n="assertive"}=e;return l().createElement("div",{id:t,style:{position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":n,"aria-atomic":!0},r)}const Va=(0,i.createContext)(null);const Ba={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},ja={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function qa(e){let{announcements:t=ja,container:r,hiddenTextDescribedById:n,screenReaderInstructions:o=Ba}=e;const{announce:a,announcement:s}=function(){const[e,t]=(0,i.useState)("");return{announce:(0,i.useCallback)((e=>{null!=e&&t(e)}),[]),announcement:e}}(),c=xa("DndLiveRegion"),[d,u]=(0,i.useState)(!1);if((0,i.useEffect)((()=>{u(!0)}),[]),function(e){const t=(0,i.useContext)(Va);(0,i.useEffect)((()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)}),[e,t])}((0,i.useMemo)((()=>({onDragStart(e){let{active:r}=e;a(t.onDragStart({active:r}))},onDragMove(e){let{active:r,over:n}=e;t.onDragMove&&a(t.onDragMove({active:r,over:n}))},onDragOver(e){let{active:r,over:n}=e;a(t.onDragOver({active:r,over:n}))},onDragEnd(e){let{active:r,over:n}=e;a(t.onDragEnd({active:r,over:n}))},onDragCancel(e){let{active:r,over:n}=e;a(t.onDragCancel({active:r,over:n}))}})),[a,t])),!d)return null;const p=l().createElement(l().Fragment,null,l().createElement(La,{id:n,value:o.draggable}),l().createElement(Ra,{id:c,announcement:s}));return r?(0,da.createPortal)(p,r):p}var Wa;function Ua(){}!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(Wa||(Wa={}));const Ha=Object.freeze({x:0,y:0});function za(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Ga(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return r-n}function $a(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return n-r}function Ka(e,t,r){return void 0===t&&(t=e.left),void 0===r&&(r=e.top),{x:t+.5*e.width,y:r+.5*e.height}}const Za=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const o=Ka(t,t.left,t.top),a=[];for(const e of n){const{id:t}=e,n=r.get(t);if(n){const r=za(Ka(n),o);a.push({id:t,data:{droppableContainer:e,value:r}})}}return a.sort(Ga)};function Ya(e,t){const r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),i=o-n,l=a-r;if(n<o&&r<a){const r=t.width*t.height,n=e.width*e.height,o=i*l;return Number((o/(r+n-o)).toFixed(4))}return 0}const Ja=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const o=[];for(const e of n){const{id:n}=e,a=r.get(n);if(a){const r=Ya(a,t);r>0&&o.push({id:n,data:{droppableContainer:e,value:r}})}}return o.sort($a)};function Xa(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Ha}function Qa(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return n.reduce(((t,r)=>({...t,top:t.top+e*r.y,bottom:t.bottom+e*r.y,left:t.left+e*r.x,right:t.right+e*r.x})),{...t})}}const ei=Qa(1);function ti(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}const ri={ignoreTransform:!1};function ni(e,t){void 0===t&&(t=ri);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:t,transformOrigin:n}=fa(e).getComputedStyle(e);t&&(r=function(e,t,r){const n=ti(t);if(!n)return e;const{scaleX:o,scaleY:a,x:i,y:l}=n,s=e.left-i-(1-o)*parseFloat(r),c=e.top-l-(1-a)*parseFloat(r.slice(r.indexOf(" ")+1)),d=o?e.width/o:e.width,u=a?e.height/a:e.height;return{width:d,height:u,top:c,right:s+d,bottom:c+u,left:s}}(r,t,n))}const{top:n,left:o,width:a,height:i,bottom:l,right:s}=r;return{top:n,left:o,width:a,height:i,bottom:l,right:s}}function oi(e){return ni(e,{ignoreTransform:!0})}function ai(e,t){const r=[];return e?function n(o){if(null!=t&&r.length>=t)return r;if(!o)return r;if(ga(o)&&null!=o.scrollingElement&&!r.includes(o.scrollingElement))return r.push(o.scrollingElement),r;if(!va(o)||ha(o))return r;if(r.includes(o))return r;const a=fa(e).getComputedStyle(o);return o!==e&&function(e,t){void 0===t&&(t=fa(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some((e=>{const n=t[e];return"string"==typeof n&&r.test(n)}))}(o,a)&&r.push(o),function(e,t){return void 0===t&&(t=fa(e).getComputedStyle(e)),"fixed"===t.position}(o,a)?r:n(o.parentNode)}(e):r}function ii(e){const[t]=ai(e,1);return null!=t?t:null}function li(e){return ua&&e?pa(e)?e:ma(e)?ga(e)||e===ba(e).scrollingElement?window:va(e)?e:null:null:null}function si(e){return pa(e)?e.scrollX:e.scrollLeft}function ci(e){return pa(e)?e.scrollY:e.scrollTop}function di(e){return{x:si(e),y:ci(e)}}var ui;function pi(e){return!(!ua||!e)&&e===document.scrollingElement}function mi(e){const t={x:0,y:0},r=pi(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=n.y,isRight:e.scrollLeft>=n.x,maxScroll:n,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(ui||(ui={}));const fi={x:.2,y:.2};function gi(e,t,r,n,o){let{top:a,left:i,right:l,bottom:s}=r;void 0===n&&(n=10),void 0===o&&(o=fi);const{isTop:c,isBottom:d,isLeft:u,isRight:p}=mi(e),m={x:0,y:0},f={x:0,y:0},g=t.height*o.y,v=t.width*o.x;return!c&&a<=t.top+g?(m.y=ui.Backward,f.y=n*Math.abs((t.top+g-a)/g)):!d&&s>=t.bottom-g&&(m.y=ui.Forward,f.y=n*Math.abs((t.bottom-g-s)/g)),!p&&l>=t.right-v?(m.x=ui.Forward,f.x=n*Math.abs((t.right-v-l)/v)):!u&&i<=t.left+v&&(m.x=ui.Backward,f.x=n*Math.abs((t.left+v-i)/v)),{direction:m,speed:f}}function vi(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:r,right:n,bottom:o}=e.getBoundingClientRect();return{top:t,left:r,right:n,bottom:o,width:e.clientWidth,height:e.clientHeight}}function hi(e){return e.reduce(((e,t)=>Ia(e,di(t))),Ha)}function bi(e,t){if(void 0===t&&(t=ni),!e)return;const{top:r,left:n,bottom:o,right:a}=t(e);ii(e)&&(o<=0||a<=0||r>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const yi=[["x",["left","right"],function(e){return e.reduce(((e,t)=>e+si(t)),0)}],["y",["top","bottom"],function(e){return e.reduce(((e,t)=>e+ci(t)),0)}]];class Ei{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=ai(t),n=hi(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[e,t,o]of yi)for(const a of t)Object.defineProperty(this,a,{get:()=>{const t=o(r),i=n[e]-t;return this.rect[a]+i},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class wi{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach((e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)}))},this.target=e}add(e,t,r){var n;null==(n=this.target)||n.addEventListener(e,t,r),this.listeners.push([e,t,r])}}function _i(e,t){const r=Math.abs(e.x),n=Math.abs(e.y);return"number"==typeof t?Math.sqrt(r**2+n**2)>t:"x"in t&&"y"in t?r>t.x&&n>t.y:"x"in t?r>t.x:"y"in t&&n>t.y}var Ci,Si;function ki(e){e.preventDefault()}function xi(e){e.stopPropagation()}!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}(Ci||(Ci={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"}(Si||(Si={}));const Mi={start:[Si.Space,Si.Enter],cancel:[Si.Esc],end:[Si.Space,Si.Enter]},Ii=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case Si.Right:return{...r,x:r.x+25};case Si.Left:return{...r,x:r.x-25};case Si.Down:return{...r,y:r.y+25};case Si.Up:return{...r,y:r.y-25}}};class Ai{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new wi(ba(t)),this.windowListeners=new wi(fa(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ci.Resize,this.handleCancel),this.windowListeners.add(Ci.VisibilityChange,this.handleCancel),setTimeout((()=>this.listeners.add(Ci.Keydown,this.handleKeyDown)))}handleStart(){const{activeNode:e,onStart:t}=this.props,r=e.node.current;r&&bi(r),t(Ha)}handleKeyDown(e){if(Na(e)){const{active:t,context:r,options:n}=this.props,{keyboardCodes:o=Mi,coordinateGetter:a=Ii,scrollBehavior:i="smooth"}=n,{code:l}=e;if(o.end.includes(l))return void this.handleEnd(e);if(o.cancel.includes(l))return void this.handleCancel(e);const{collisionRect:s}=r.current,c=s?{x:s.left,y:s.top}:Ha;this.referenceCoordinates||(this.referenceCoordinates=c);const d=a(e,{active:t,context:r.current,currentCoordinates:c});if(d){const t=Aa(d,c),n={x:0,y:0},{scrollableAncestors:o}=r.current;for(const r of o){const o=e.code,{isTop:a,isRight:l,isLeft:s,isBottom:c,maxScroll:u,minScroll:p}=mi(r),m=vi(r),f={x:Math.min(o===Si.Right?m.right-m.width/2:m.right,Math.max(o===Si.Right?m.left:m.left+m.width/2,d.x)),y:Math.min(o===Si.Down?m.bottom-m.height/2:m.bottom,Math.max(o===Si.Down?m.top:m.top+m.height/2,d.y))},g=o===Si.Right&&!l||o===Si.Left&&!s,v=o===Si.Down&&!c||o===Si.Up&&!a;if(g&&f.x!==d.x){const e=r.scrollLeft+t.x,a=o===Si.Right&&e<=u.x||o===Si.Left&&e>=p.x;if(a&&!t.y)return void r.scrollTo({left:e,behavior:i});n.x=a?r.scrollLeft-e:o===Si.Right?r.scrollLeft-u.x:r.scrollLeft-p.x,n.x&&r.scrollBy({left:-n.x,behavior:i});break}if(v&&f.y!==d.y){const e=r.scrollTop+t.y,a=o===Si.Down&&e<=u.y||o===Si.Up&&e>=p.y;if(a&&!t.x)return void r.scrollTo({top:e,behavior:i});n.y=a?r.scrollTop-e:o===Si.Down?r.scrollTop-u.y:r.scrollTop-p.y,n.y&&r.scrollBy({top:-n.y,behavior:i});break}}this.handleMove(e,Ia(Aa(d,this.referenceCoordinates),n))}}}handleMove(e,t){const{onMove:r}=this.props;e.preventDefault(),r(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function Ni(e){return Boolean(e&&"distance"in e)}function Oi(e){return Boolean(e&&"delay"in e)}Ai.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:n=Mi,onActivation:o}=t,{active:a}=r;const{code:i}=e.nativeEvent;if(n.start.includes(i)){const t=a.activatorNode.current;return(!t||e.target===t)&&(e.preventDefault(),null==o||o({event:e.nativeEvent}),!0)}return!1}}];class Ti{constructor(e,t,r){var n;void 0===r&&(r=function(e){const{EventTarget:t}=fa(e);return e instanceof t?e:ba(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:o}=e,{target:a}=o;this.props=e,this.events=t,this.document=ba(a),this.documentListeners=new wi(this.document),this.listeners=new wi(r),this.windowListeners=new wi(fa(a)),this.initialCoordinates=null!=(n=Oa(o))?n:Ha,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),this.windowListeners.add(Ci.Resize,this.handleCancel),this.windowListeners.add(Ci.DragStart,ki),this.windowListeners.add(Ci.VisibilityChange,this.handleCancel),this.windowListeners.add(Ci.ContextMenu,ki),this.documentListeners.add(Ci.Keydown,this.handleKeydown),t){if(null!=r&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Oi(t))return void(this.timeoutId=setTimeout(this.handleStart,t.delay));if(Ni(t))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(Ci.Click,xi,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ci.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:r,initialCoordinates:n,props:o}=this,{onMove:a,options:{activationConstraint:i}}=o;if(!n)return;const l=null!=(t=Oa(e))?t:Ha,s=Aa(n,l);if(!r&&i){if(Ni(i)){if(null!=i.tolerance&&_i(s,i.tolerance))return this.handleCancel();if(_i(s,i.distance))return this.handleStart()}return Oi(i)&&_i(s,i.tolerance)?this.handleCancel():void 0}e.cancelable&&e.preventDefault(),a(l)}handleEnd(){const{onEnd:e}=this.props;this.detach(),e()}handleCancel(){const{onCancel:e}=this.props;this.detach(),e()}handleKeydown(e){e.code===Si.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const Di={move:{name:"pointermove"},end:{name:"pointerup"}};class Fi extends Ti{constructor(e){const{event:t}=e,r=ba(t.target);super(e,Di,r)}}Fi.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return!(!r.isPrimary||0!==r.button)&&(null==n||n({event:r}),!0)}}];const Pi={move:{name:"mousemove"},end:{name:"mouseup"}};var Li;!function(e){e[e.RightClick=2]="RightClick"}(Li||(Li={}));(class extends Ti{constructor(e){super(e,Pi,ba(e.event.target))}}).activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return r.button!==Li.RightClick&&(null==n||n({event:r}),!0)}}];const Ri={move:{name:"touchmove"},end:{name:"touchend"}};var Vi,Bi;function ji(e){let{acceleration:t,activator:r=Vi.Pointer,canScroll:n,draggingRect:o,enabled:a,interval:l=5,order:s=Bi.TreeOrder,pointerCoordinates:c,scrollableAncestors:d,scrollableAncestorRects:u,delta:p,threshold:m}=e;const f=function(e){let{delta:t,disabled:r}=e;const n=Sa(t);return _a((e=>{if(r||!n||!e)return qi;const o={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[ui.Backward]:e.x[ui.Backward]||-1===o.x,[ui.Forward]:e.x[ui.Forward]||1===o.x},y:{[ui.Backward]:e.y[ui.Backward]||-1===o.y,[ui.Forward]:e.y[ui.Forward]||1===o.y}}}),[r,t,n])}({delta:p,disabled:!a}),[g,v]=function(){const e=(0,i.useRef)(null);return[(0,i.useCallback)(((t,r)=>{e.current=setInterval(t,r)}),[]),(0,i.useCallback)((()=>{null!==e.current&&(clearInterval(e.current),e.current=null)}),[])]}(),h=(0,i.useRef)({x:0,y:0}),b=(0,i.useRef)({x:0,y:0}),y=(0,i.useMemo)((()=>{switch(r){case Vi.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Vi.DraggableRect:return o}}),[r,o,c]),E=(0,i.useRef)(null),w=(0,i.useCallback)((()=>{const e=E.current;if(!e)return;const t=h.current.x*b.current.x,r=h.current.y*b.current.y;e.scrollBy(t,r)}),[]),_=(0,i.useMemo)((()=>s===Bi.TreeOrder?[...d].reverse():d),[s,d]);(0,i.useEffect)((()=>{if(a&&d.length&&y){for(const e of _){if(!1===(null==n?void 0:n(e)))continue;const r=d.indexOf(e),o=u[r];if(!o)continue;const{direction:a,speed:i}=gi(e,o,y,t,m);for(const e of["x","y"])f[e][a[e]]||(i[e]=0,a[e]=0);if(i.x>0||i.y>0)return v(),E.current=e,g(w,l),h.current=i,void(b.current=a)}h.current={x:0,y:0},b.current={x:0,y:0},v()}else v()}),[t,w,n,v,a,l,JSON.stringify(y),JSON.stringify(f),g,d,_,u,JSON.stringify(m)])}(class extends Ti{constructor(e){super(e,Ri)}static setup(){return window.addEventListener(Ri.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Ri.move.name,e)};function e(){}}}).activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;const{touches:o}=r;return!(o.length>1)&&(null==n||n({event:r}),!0)}}],function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(Vi||(Vi={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(Bi||(Bi={}));const qi={x:{[ui.Backward]:!1,[ui.Forward]:!1},y:{[ui.Backward]:!1,[ui.Forward]:!1}};var Wi,Ui;!function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}(Wi||(Wi={})),function(e){e.Optimized="optimized"}(Ui||(Ui={}));const Hi=new Map;function zi(e,t){return _a((r=>e?r||("function"==typeof t?t(e):e):null),[t,e])}function Gi(e){let{callback:t,disabled:r}=e;const n=Ea(t),o=(0,i.useMemo)((()=>{if(r||"undefined"==typeof window||void 0===window.ResizeObserver)return;const{ResizeObserver:e}=window;return new e(n)}),[r]);return(0,i.useEffect)((()=>()=>null==o?void 0:o.disconnect()),[o]),o}function $i(e){return new Ei(ni(e),e)}function Ki(e,t,r){void 0===t&&(t=$i);const[n,o]=(0,i.useReducer)((function(n){if(!e)return null;var o;if(!1===e.isConnected)return null!=(o=null!=n?n:r)?o:null;const a=t(e);if(JSON.stringify(n)===JSON.stringify(a))return n;return a}),null),a=function(e){let{callback:t,disabled:r}=e;const n=Ea(t),o=(0,i.useMemo)((()=>{if(r||"undefined"==typeof window||void 0===window.MutationObserver)return;const{MutationObserver:e}=window;return new e(n)}),[n,r]);return(0,i.useEffect)((()=>()=>null==o?void 0:o.disconnect()),[o]),o}({callback(t){if(e)for(const r of t){const{type:t,target:n}=r;if("childList"===t&&n instanceof HTMLElement&&n.contains(e)){o();break}}}}),l=Gi({callback:o});return ya((()=>{o(),e?(null==l||l.observe(e),null==a||a.observe(document.body,{childList:!0,subtree:!0})):(null==l||l.disconnect(),null==a||a.disconnect())}),[e]),n}const Zi=[];function Yi(e,t){void 0===t&&(t=[]);const r=(0,i.useRef)(null);return(0,i.useEffect)((()=>{r.current=null}),t),(0,i.useEffect)((()=>{const t=e!==Ha;t&&!r.current&&(r.current=e),!t&&r.current&&(r.current=null)}),[e]),r.current?Aa(e,r.current):Ha}function Ji(e){return(0,i.useMemo)((()=>e?function(e){const t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}(e):null),[e])}const Xi=[];function Qi(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return va(t)?t:e}const el=[{sensor:Fi,options:{}},{sensor:Ai,options:{}}],tl={current:{}},rl={draggable:{measure:oi},droppable:{measure:oi,strategy:Wi.WhileDragging,frequency:Ui.Optimized},dragOverlay:{measure:ni}};class nl extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter((e=>{let{disabled:t}=e;return!t}))}getNodeFor(e){var t,r;return null!=(t=null==(r=this.get(e))?void 0:r.node.current)?t:void 0}}const ol={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new nl,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Ua},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:rl,measureDroppableContainers:Ua,windowRect:null,measuringScheduled:!1},al={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Ua,draggableNodes:new Map,over:null,measureDroppableContainers:Ua},il=(0,i.createContext)(al),ll=(0,i.createContext)(ol);function sl(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new nl}}}function cl(e,t){switch(t.type){case Wa.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Wa.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case Wa.DragEnd:case Wa.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Wa.RegisterDroppable:{const{element:r}=t,{id:n}=r,o=new nl(e.droppable.containers);return o.set(n,r),{...e,droppable:{...e.droppable,containers:o}}}case Wa.SetDroppableDisabled:{const{id:r,key:n,disabled:o}=t,a=e.droppable.containers.get(r);if(!a||n!==a.key)return e;const i=new nl(e.droppable.containers);return i.set(r,{...a,disabled:o}),{...e,droppable:{...e.droppable,containers:i}}}case Wa.UnregisterDroppable:{const{id:r,key:n}=t,o=e.droppable.containers.get(r);if(!o||n!==o.key)return e;const a=new nl(e.droppable.containers);return a.delete(r),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function dl(e){let{disabled:t}=e;const{active:r,activatorEvent:n,draggableNodes:o}=(0,i.useContext)(il),a=Sa(n),l=Sa(null==r?void 0:r.id);return(0,i.useEffect)((()=>{if(!t&&!n&&a&&null!=l){if(!Na(a))return;if(document.activeElement===a.target)return;const e=o.get(l);if(!e)return;const{activatorNode:t,node:r}=e;if(!t.current&&!r.current)return;requestAnimationFrame((()=>{for(const e of[t.current,r.current]){if(!e)continue;const t=Fa(e);if(t){t.focus();break}}}))}}),[n,t,o,l,a]),null}function ul(e,t){let{transform:r,...n}=t;return null!=e&&e.length?e.reduce(((e,t)=>t({transform:e,...n})),r):r}const pl=(0,i.createContext)({...Ha,scaleX:1,scaleY:1});var ml;!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"}(ml||(ml={}));const fl=(0,i.memo)((function(e){var t,r,n,o;let{id:a,accessibility:s,autoScroll:c=!0,children:d,sensors:u=el,collisionDetection:p=Ja,measuring:m,modifiers:f,...g}=e;const v=(0,i.useReducer)(cl,void 0,sl),[h,b]=v,[y,E]=function(){const[e]=(0,i.useState)((()=>new Set)),t=(0,i.useCallback)((t=>(e.add(t),()=>e.delete(t))),[e]),r=(0,i.useCallback)((t=>{let{type:r,event:n}=t;e.forEach((e=>{var t;return null==(t=e[r])?void 0:t.call(e,n)}))}),[e]);return[r,t]}(),[w,_]=(0,i.useState)(ml.Uninitialized),C=w===ml.Initialized,{draggable:{active:S,nodes:k,translate:x},droppable:{containers:M}}=h,I=S?k.get(S):null,A=(0,i.useRef)({initial:null,translated:null}),N=(0,i.useMemo)((()=>{var e;return null!=S?{id:S,data:null!=(e=null==I?void 0:I.data)?e:tl,rect:A}:null}),[S,I]),O=(0,i.useRef)(null),[T,D]=(0,i.useState)(null),[F,P]=(0,i.useState)(null),L=wa(g,Object.values(g)),R=xa("DndDescribedBy",a),V=(0,i.useMemo)((()=>M.getEnabled()),[M]),B=function(e){return(0,i.useMemo)((()=>({draggable:{...rl.draggable,...null==e?void 0:e.draggable},droppable:{...rl.droppable,...null==e?void 0:e.droppable},dragOverlay:{...rl.dragOverlay,...null==e?void 0:e.dragOverlay}})),[null==e?void 0:e.draggable,null==e?void 0:e.droppable,null==e?void 0:e.dragOverlay])}(m),{droppableRects:j,measureDroppableContainers:q,measuringScheduled:W}=function(e,t){let{dragging:r,dependencies:n,config:o}=t;const[a,l]=(0,i.useState)(null),{frequency:s,measure:c,strategy:d}=o,u=(0,i.useRef)(e),p=function(){switch(d){case Wi.Always:return!1;case Wi.BeforeDragging:return r;default:return!r}}(),m=wa(p),f=(0,i.useCallback)((function(e){void 0===e&&(e=[]),m.current||l((t=>null===t?e:t.concat(e.filter((e=>!t.includes(e))))))}),[m]),g=(0,i.useRef)(null),v=_a((t=>{if(p&&!r)return Hi;if(!t||t===Hi||u.current!==e||null!=a){const t=new Map;for(let r of e){if(!r)continue;if(a&&a.length>0&&!a.includes(r.id)&&r.rect.current){t.set(r.id,r.rect.current);continue}const e=r.node.current,n=e?new Ei(c(e),e):null;r.rect.current=n,n&&t.set(r.id,n)}return t}return t}),[e,a,r,p,c]);return(0,i.useEffect)((()=>{u.current=e}),[e]),(0,i.useEffect)((()=>{p||f()}),[r,p]),(0,i.useEffect)((()=>{a&&a.length>0&&l(null)}),[JSON.stringify(a)]),(0,i.useEffect)((()=>{p||"number"!=typeof s||null!==g.current||(g.current=setTimeout((()=>{f(),g.current=null}),s))}),[s,p,f,...n]),{droppableRects:v,measureDroppableContainers:f,measuringScheduled:null!=a}}(V,{dragging:C,dependencies:[x.x,x.y],config:B.droppable}),U=function(e,t){const r=null!==t?e.get(t):void 0,n=r?r.node.current:null;return _a((e=>{var r;return null===t?null:null!=(r=null!=n?n:e)?r:null}),[n,t])}(k,S),H=(0,i.useMemo)((()=>F?Oa(F):null),[F]),z=function(){const e=!1===(null==T?void 0:T.autoScrollEnabled),t="object"==typeof c?!1===c.enabled:!1===c,r=C&&!e&&!t;if("object"==typeof c)return{...c,enabled:r};return{enabled:r}}(),G=function(e,t){return zi(e,t)}(U,B.draggable.measure);!function(e){let{activeNode:t,measure:r,initialRect:n,config:o=!0}=e;const a=(0,i.useRef)(!1),{x:l,y:s}="boolean"==typeof o?{x:o,y:o}:o;ya((()=>{if(!l&&!s||!t)return void(a.current=!1);if(a.current||!n)return;const e=null==t?void 0:t.node.current;if(!e||!1===e.isConnected)return;const o=Xa(r(e),n);if(l||(o.x=0),s||(o.y=0),a.current=!0,Math.abs(o.x)>0||Math.abs(o.y)>0){const t=ii(e);t&&t.scrollBy({top:o.y,left:o.x})}}),[t,l,s,n,r])}({activeNode:S?k.get(S):null,config:z.layoutShiftCompensation,initialRect:G,measure:B.draggable.measure});const $=Ki(U,B.draggable.measure,G),K=Ki(U?U.parentElement:null),Z=(0,i.useRef)({activatorEvent:null,active:null,activeNode:U,collisionRect:null,collisions:null,droppableRects:j,draggableNodes:k,draggingNode:null,draggingNodeRect:null,droppableContainers:M,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Y=M.getNodeFor(null==(t=Z.current.over)?void 0:t.id),J=function(e){let{measure:t}=e;const[r,n]=(0,i.useState)(null),o=(0,i.useCallback)((e=>{for(const{target:r}of e)if(va(r)){n((e=>{const n=t(r);return e?{...e,width:n.width,height:n.height}:n}));break}}),[t]),a=Gi({callback:o}),l=(0,i.useCallback)((e=>{const r=Qi(e);null==a||a.disconnect(),r&&(null==a||a.observe(r)),n(r?t(r):null)}),[t,a]),[s,c]=Ca(l);return(0,i.useMemo)((()=>({nodeRef:s,rect:r,setRef:c})),[r,s,c])}({measure:B.dragOverlay.measure}),X=null!=(r=J.nodeRef.current)?r:U,Q=C?null!=(n=J.rect)?n:$:null,ee=Boolean(J.nodeRef.current&&J.rect),te=Xa(re=ee?null:$,zi(re));var re;const ne=Ji(X?fa(X):null),oe=function(e){const t=(0,i.useRef)(e),r=_a((r=>e?r&&r!==Zi&&e&&t.current&&e.parentNode===t.current.parentNode?r:ai(e):Zi),[e]);return(0,i.useEffect)((()=>{t.current=e}),[e]),r}(C?null!=Y?Y:U:null),ae=function(e,t){void 0===t&&(t=ni);const[r]=e,n=Ji(r?fa(r):null),[o,a]=(0,i.useReducer)((function(){return e.length?e.map((e=>pi(e)?n:new Ei(t(e),e))):Xi}),Xi),l=Gi({callback:a});return e.length>0&&o===Xi&&a(),ya((()=>{e.length?e.forEach((e=>null==l?void 0:l.observe(e))):(null==l||l.disconnect(),a())}),[e]),o}(oe),ie=ul(f,{transform:{x:x.x-te.x,y:x.y-te.y,scaleX:1,scaleY:1},activatorEvent:F,active:N,activeNodeRect:$,containerNodeRect:K,draggingNodeRect:Q,over:Z.current.over,overlayNodeRect:J.rect,scrollableAncestors:oe,scrollableAncestorRects:ae,windowRect:ne}),le=H?Ia(H,x):null,se=function(e){const[t,r]=(0,i.useState)(null),n=(0,i.useRef)(e),o=(0,i.useCallback)((e=>{const t=li(e.target);t&&r((e=>e?(e.set(t,di(t)),new Map(e)):null))}),[]);return(0,i.useEffect)((()=>{const t=n.current;if(e!==t){a(t);const i=e.map((e=>{const t=li(e);return t?(t.addEventListener("scroll",o,{passive:!0}),[t,di(t)]):null})).filter((e=>null!=e));r(i.length?new Map(i):null),n.current=e}return()=>{a(e),a(t)};function a(e){e.forEach((e=>{const t=li(e);null==t||t.removeEventListener("scroll",o)}))}}),[o,e]),(0,i.useMemo)((()=>e.length?t?Array.from(t.values()).reduce(((e,t)=>Ia(e,t)),Ha):hi(e):Ha),[e,t])}(oe),ce=Yi(se),de=Yi(se,[$]),ue=Ia(ie,ce),pe=Q?ei(Q,ie):null,me=N&&pe?p({active:N,collisionRect:pe,droppableRects:j,droppableContainers:V,pointerCoordinates:le}):null,fe=function(e,t){if(!e||0===e.length)return null;const[r]=e;return t?r[t]:r}(me,"id"),[ge,ve]=(0,i.useState)(null),he=function(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}(ee?ie:Ia(ie,de),null!=(o=null==ge?void 0:ge.rect)?o:null,$),be=(0,i.useCallback)(((e,t)=>{let{sensor:r,options:n}=t;if(null==O.current)return;const o=k.get(O.current);if(!o)return;const a=e.nativeEvent,i=new r({active:O.current,activeNode:o,event:a,options:n,context:Z,onStart(e){const t=O.current;if(null==t)return;const r=k.get(t);if(!r)return;const{onDragStart:n}=L.current,o={active:{id:t,data:r.data,rect:A}};(0,da.unstable_batchedUpdates)((()=>{null==n||n(o),_(ml.Initializing),b({type:Wa.DragStart,initialCoordinates:e,active:t}),y({type:"onDragStart",event:o})}))},onMove(e){b({type:Wa.DragMove,coordinates:e})},onEnd:l(Wa.DragEnd),onCancel:l(Wa.DragCancel)});function l(e){return async function(){const{active:t,collisions:r,over:n,scrollAdjustedTranslate:o}=Z.current;let i=null;if(t&&o){const{cancelDrop:l}=L.current;if(i={activatorEvent:a,active:t,collisions:r,delta:o,over:n},e===Wa.DragEnd&&"function"==typeof l){await Promise.resolve(l(i))&&(e=Wa.DragCancel)}}O.current=null,(0,da.unstable_batchedUpdates)((()=>{b({type:e}),_(ml.Uninitialized),ve(null),D(null),P(null);const t=e===Wa.DragEnd?"onDragEnd":"onDragCancel";if(i){const e=L.current[t];null==e||e(i),y({type:t,event:i})}}))}}(0,da.unstable_batchedUpdates)((()=>{D(i),P(e.nativeEvent)}))}),[k]),ye=(0,i.useCallback)(((e,t)=>(r,n)=>{const o=r.nativeEvent,a=k.get(n);if(null!==O.current||!a||o.dndKit||o.defaultPrevented)return;const i={active:a};!0===e(r,t.options,i)&&(o.dndKit={capturedBy:t.sensor},O.current=n,be(r,t))}),[k,be]),Ee=function(e,t){return(0,i.useMemo)((()=>e.reduce(((e,r)=>{const{sensor:n}=r;return[...e,...n.activators.map((e=>({eventName:e.eventName,handler:t(e.handler,r)})))]}),[])),[e,t])}(u,ye);!function(e){(0,i.useEffect)((()=>{if(!ua)return;const t=e.map((e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()}));return()=>{for(const e of t)null==e||e()}}),e.map((e=>{let{sensor:t}=e;return t})))}(u),ya((()=>{$&&w===ml.Initializing&&_(ml.Initialized)}),[$,w]),(0,i.useEffect)((()=>{const{onDragMove:e}=L.current,{active:t,activatorEvent:r,collisions:n,over:o}=Z.current;if(!t||!r)return;const a={active:t,activatorEvent:r,collisions:n,delta:{x:ue.x,y:ue.y},over:o};(0,da.unstable_batchedUpdates)((()=>{null==e||e(a),y({type:"onDragMove",event:a})}))}),[ue.x,ue.y]),(0,i.useEffect)((()=>{const{active:e,activatorEvent:t,collisions:r,droppableContainers:n,scrollAdjustedTranslate:o}=Z.current;if(!e||null==O.current||!t||!o)return;const{onDragOver:a}=L.current,i=n.get(fe),l=i&&i.rect.current?{id:i.id,rect:i.rect.current,data:i.data,disabled:i.disabled}:null,s={active:e,activatorEvent:t,collisions:r,delta:{x:o.x,y:o.y},over:l};(0,da.unstable_batchedUpdates)((()=>{ve(l),null==a||a(s),y({type:"onDragOver",event:s})}))}),[fe]),ya((()=>{Z.current={activatorEvent:F,active:N,activeNode:U,collisionRect:pe,collisions:me,droppableRects:j,draggableNodes:k,draggingNode:X,draggingNodeRect:Q,droppableContainers:M,over:ge,scrollableAncestors:oe,scrollAdjustedTranslate:ue},A.current={initial:Q,translated:pe}}),[N,U,me,pe,k,X,Q,j,M,ge,oe,ue]),ji({...z,delta:x,draggingRect:pe,pointerCoordinates:le,scrollableAncestors:oe,scrollableAncestorRects:ae});const we=(0,i.useMemo)((()=>({active:N,activeNode:U,activeNodeRect:$,activatorEvent:F,collisions:me,containerNodeRect:K,dragOverlay:J,draggableNodes:k,droppableContainers:M,droppableRects:j,over:ge,measureDroppableContainers:q,scrollableAncestors:oe,scrollableAncestorRects:ae,measuringConfiguration:B,measuringScheduled:W,windowRect:ne})),[N,U,$,F,me,K,J,k,M,j,ge,q,oe,ae,B,W,ne]),_e=(0,i.useMemo)((()=>({activatorEvent:F,activators:Ee,active:N,activeNodeRect:$,ariaDescribedById:{draggable:R},dispatch:b,draggableNodes:k,over:ge,measureDroppableContainers:q})),[F,Ee,N,$,b,R,k,ge,q]);return l().createElement(Va.Provider,{value:E},l().createElement(il.Provider,{value:_e},l().createElement(ll.Provider,{value:we},l().createElement(pl.Provider,{value:he},d)),l().createElement(dl,{disabled:!1===(null==s?void 0:s.restoreFocus)})),l().createElement(qa,{...s,hiddenTextDescribedById:R}))})),gl=(0,i.createContext)(null),vl="button";function hl(e){let{id:t,data:r,disabled:n=!1,attributes:o}=e;const a=xa("Droppable"),{activators:l,activatorEvent:s,active:c,activeNodeRect:d,ariaDescribedById:u,draggableNodes:p,over:m}=(0,i.useContext)(il),{role:f=vl,roleDescription:g="draggable",tabIndex:v=0}=null!=o?o:{},h=(null==c?void 0:c.id)===t,b=(0,i.useContext)(h?pl:gl),[y,E]=Ca(),[w,_]=Ca(),C=function(e,t){return(0,i.useMemo)((()=>e.reduce(((e,r)=>{let{eventName:n,handler:o}=r;return e[n]=e=>{o(e,t)},e}),{})),[e,t])}(l,t),S=wa(r);ya((()=>(p.set(t,{id:t,key:a,node:y,activatorNode:w,data:S}),()=>{const e=p.get(t);e&&e.key===a&&p.delete(t)})),[p,t]);return{active:c,activatorEvent:s,activeNodeRect:d,attributes:(0,i.useMemo)((()=>({role:f,tabIndex:v,"aria-disabled":n,"aria-pressed":!(!h||f!==vl)||void 0,"aria-roledescription":g,"aria-describedby":u.draggable})),[n,f,v,h,g,u.draggable]),isDragging:h,listeners:n?void 0:C,node:y,over:m,setNodeRef:E,setActivatorNodeRef:_,transform:b}}function bl(){return(0,i.useContext)(ll)}const yl={timeout:25};function El(e,t,r){const n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function wl(e,t){return e.reduce(((e,r,n)=>{const o=t.get(r);return o&&(e[n]=o),e}),Array(e.length))}function _l(e){return null!==e&&e>=0}const Cl=e=>{let{rects:t,activeIndex:r,overIndex:n,index:o}=e;const a=El(t,n,r),i=t[o],l=a[o];return l&&i?{x:l.left-i.left,y:l.top-i.top,scaleX:l.width/i.width,scaleY:l.height/i.height}:null},Sl={scaleX:1,scaleY:1},kl=e=>{var t;let{activeIndex:r,activeNodeRect:n,index:o,rects:a,overIndex:i}=e;const l=null!=(t=a[r])?t:n;if(!l)return null;if(o===r){const e=a[i];return e?{x:0,y:r<i?e.top+e.height-(l.top+l.height):e.top-l.top,...Sl}:null}const s=function(e,t,r){const n=e[t],o=e[t-1],a=e[t+1];if(!n)return 0;if(r<t)return o?n.top-(o.top+o.height):a?a.top-(n.top+n.height):0;return a?a.top-(n.top+n.height):o?n.top-(o.top+o.height):0}(a,o,r);return o>r&&o<=i?{x:0,y:-l.height-s,...Sl}:o<r&&o>=i?{x:0,y:l.height+s,...Sl}:{x:0,y:0,...Sl}};const xl="Sortable",Ml=l().createContext({activeIndex:-1,containerId:xl,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Cl,disabled:{draggable:!1,droppable:!1}});function Il(e){let{children:t,id:r,items:n,strategy:o=Cl,disabled:a=!1}=e;const{active:s,dragOverlay:c,droppableRects:d,over:u,measureDroppableContainers:p}=bl(),m=xa(xl,r),f=Boolean(null!==c.rect),g=(0,i.useMemo)((()=>n.map((e=>"object"==typeof e&&"id"in e?e.id:e))),[n]),v=null!=s,h=s?g.indexOf(s.id):-1,b=u?g.indexOf(u.id):-1,y=(0,i.useRef)(g),E=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(g,y.current),w=-1!==b&&-1===h||E,_=function(e){return"boolean"==typeof e?{draggable:e,droppable:e}:e}(a);ya((()=>{E&&v&&p(g)}),[E,g,v,p]),(0,i.useEffect)((()=>{y.current=g}),[g]);const C=(0,i.useMemo)((()=>({activeIndex:h,containerId:m,disabled:_,disableTransforms:w,items:g,overIndex:b,useDragOverlay:f,sortedRects:wl(g,d),strategy:o})),[h,m,_.draggable,_.droppable,w,g,b,d,f,o]);return l().createElement(Ml.Provider,{value:C},t)}const Al=e=>{let{id:t,items:r,activeIndex:n,overIndex:o}=e;return El(r,n,o).indexOf(t)},Nl=e=>{let{containerId:t,isSorting:r,wasDragging:n,index:o,items:a,newIndex:i,previousItems:l,previousContainerId:s,transition:c}=e;return!(!c||!n)&&((l===a||o!==i)&&(!!r||i!==o&&t===s))},Ol={duration:200,easing:"ease"},Tl="transform",Dl=Ta.Transition.toString({property:Tl,duration:0,easing:"linear"}),Fl={roleDescription:"sortable"};function Pl(e){let{animateLayoutChanges:t=Nl,attributes:r,disabled:n,data:o,getNewIndex:a=Al,id:l,strategy:s,resizeObserverConfig:c,transition:d=Ol}=e;const{items:u,containerId:p,activeIndex:m,disabled:f,disableTransforms:g,sortedRects:v,overIndex:h,useDragOverlay:b,strategy:y}=(0,i.useContext)(Ml),E=function(e,t){var r,n;if("boolean"==typeof e)return{draggable:e,droppable:!1};return{draggable:null!=(r=null==e?void 0:e.draggable)?r:t.draggable,droppable:null!=(n=null==e?void 0:e.droppable)?n:t.droppable}}(n,f),w=u.indexOf(l),_=(0,i.useMemo)((()=>({sortable:{containerId:p,index:w,items:u},...o})),[p,o,w,u]),C=(0,i.useMemo)((()=>u.slice(u.indexOf(l))),[u,l]),{rect:S,node:k,isOver:x,setNodeRef:M}=function(e){let{data:t,disabled:r=!1,id:n,resizeObserverConfig:o}=e;const a=xa("Droppable"),{active:l,dispatch:s,over:c,measureDroppableContainers:d}=(0,i.useContext)(il),u=(0,i.useRef)({disabled:r}),p=(0,i.useRef)(!1),m=(0,i.useRef)(null),f=(0,i.useRef)(null),{disabled:g,updateMeasurementsFor:v,timeout:h}={...yl,...o},b=wa(null!=v?v:n),y=Gi({callback:(0,i.useCallback)((()=>{p.current?(null!=f.current&&clearTimeout(f.current),f.current=setTimeout((()=>{d(Array.isArray(b.current)?b.current:[b.current]),f.current=null}),h)):p.current=!0}),[h]),disabled:g||!l}),E=(0,i.useCallback)(((e,t)=>{y&&(t&&(y.unobserve(t),p.current=!1),e&&y.observe(e))}),[y]),[w,_]=Ca(E),C=wa(t);return(0,i.useEffect)((()=>{y&&w.current&&(y.disconnect(),p.current=!1,y.observe(w.current))}),[w,y]),ya((()=>(s({type:Wa.RegisterDroppable,element:{id:n,key:a,disabled:r,node:w,rect:m,data:C}}),()=>s({type:Wa.UnregisterDroppable,key:a,id:n}))),[n]),(0,i.useEffect)((()=>{r!==u.current.disabled&&(s({type:Wa.SetDroppableDisabled,id:n,key:a,disabled:r}),u.current.disabled=r)}),[n,a,r,s]),{active:l,rect:m,isOver:(null==c?void 0:c.id)===n,node:w,over:c,setNodeRef:_}}({id:l,data:_,disabled:E.droppable,resizeObserverConfig:{updateMeasurementsFor:C,...c}}),{active:I,activatorEvent:A,activeNodeRect:N,attributes:O,setNodeRef:T,listeners:D,isDragging:F,over:P,setActivatorNodeRef:L,transform:R}=hl({id:l,data:_,attributes:{...Fl,...r},disabled:E.draggable}),V=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,i.useMemo)((()=>e=>{t.forEach((t=>t(e)))}),t)}(M,T),B=Boolean(I),j=B&&!g&&_l(m)&&_l(h),q=!b&&F,W=q&&j?R:null,U=j?null!=W?W:(null!=s?s:y)({rects:v,activeNodeRect:N,activeIndex:m,overIndex:h,index:w}):null,H=_l(m)&&_l(h)?a({id:l,items:u,activeIndex:m,overIndex:h}):w,z=null==I?void 0:I.id,G=(0,i.useRef)({activeId:z,items:u,newIndex:H,containerId:p}),$=u!==G.current.items,K=t({active:I,containerId:p,isDragging:F,isSorting:B,id:l,index:w,items:u,newIndex:G.current.newIndex,previousItems:G.current.items,previousContainerId:G.current.containerId,transition:d,wasDragging:null!=G.current.activeId}),Z=function(e){let{disabled:t,index:r,node:n,rect:o}=e;const[a,l]=(0,i.useState)(null),s=(0,i.useRef)(r);return ya((()=>{if(!t&&r!==s.current&&n.current){const e=o.current;if(e){const t=ni(n.current,{ignoreTransform:!0}),r={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(r.x||r.y)&&l(r)}}r!==s.current&&(s.current=r)}),[t,r,n,o]),(0,i.useEffect)((()=>{a&&l(null)}),[a]),a}({disabled:!K,index:w,node:k,rect:S});return(0,i.useEffect)((()=>{B&&G.current.newIndex!==H&&(G.current.newIndex=H),p!==G.current.containerId&&(G.current.containerId=p),u!==G.current.items&&(G.current.items=u)}),[B,H,p,u]),(0,i.useEffect)((()=>{if(z===G.current.activeId)return;if(z&&!G.current.activeId)return void(G.current.activeId=z);const e=setTimeout((()=>{G.current.activeId=z}),50);return()=>clearTimeout(e)}),[z]),{active:I,activeIndex:m,attributes:O,data:_,rect:S,index:w,newIndex:H,items:u,isOver:x,isSorting:B,isDragging:F,listeners:D,node:k,overIndex:h,over:P,setNodeRef:V,setActivatorNodeRef:L,setDroppableNodeRef:M,setDraggableNodeRef:T,transform:null!=Z?Z:U,transition:function(){if(Z||$&&G.current.newIndex===w)return Dl;if(q&&!Na(A)||!d)return;if(B||K)return Ta.Transition.toString({...d,property:Tl});return}()}}Si.Down,Si.Right,Si.Up,Si.Left;const Ll=({id:e,value:t,onClick:r,getPreviewColor:n})=>{const o=v()({"et-vb-gv-color-preview-container":!0,"et-vb-gv-color-preview-container-no-color":!(0,E.isColorValid)(t)});return l().createElement("div",{className:o},l().createElement("button",{"aria-label":"Color",type:"button",style:{backgroundColor:n(e,t)},onClick:r},!(0,E.isColorValid)(t)&&l().createElement(w.IconSvg,{name:"divi/color-picker"})))},Rl="divi/manage-global-variable",Vl=(0,a.__)("Global Variables","et_builder"),Bl={numbers:(0,a.__)("value","et_builder"),strings:(0,a.__)("string","et_builder"),images:(0,a.__)("image","et_builder"),links:(0,a.__)("url","et_builder"),colors:(0,a.__)("color","et_builder"),fonts:(0,a.__)("string","et_builder")},jl={numbers:(0,a.__)("numbers","et_builder"),strings:(0,a.__)("text","et_builder"),images:(0,a.__)("images","et_builder"),links:(0,a.__)("links","et_builder"),colors:(0,a.__)("colors","et_builder"),fonts:(0,a.__)("fonts","et_builder")},ql={numbers:/^[0-9]+(%|ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmax|vmin|vw|ms)$/,images:/^(https?:\/\/[^\s]+|ftps?:\/\/[^\s]+|www\.[^\s]+|#[a-zA-Z0-9\s]+|\/[^\s]*|data:[a-zA-Z0-9/+]+;base64,[a-zA-Z0-9+/=]+)$/,links:/^(https?:\/\/[^\s]+|ftps?:\/\/[^\s]+|www\.[^\s]+|#[a-zA-Z0-9\s]+|\/[^\s]*|mailto:[^\s@]+@[^\s@]+\.[^\s@]+|tel:\+?[0-9\-()\s]+|sms:\+?[0-9\-()?&=a-zA-Z0-9\s]*|file:\/\/[^\s]*|data:[^\s]*|skype:[^\s]*|whatsapp:[^\s]*|geo:[^\s]*|maps:[^\s]*|intent:[^\s]*|market:[^\s]*|slack:[^\s]*|zoommtg:[^\s]*|spotify:[^\s]*)$/,strings:/^[\s\S]*$/,colors:/^#[0-9a-fA-F]{3,8}$/,fonts:/^[\s\S]*$/},Wl=(e,t)=>{const r=new Map(e.map((e=>[e.id,e])));return r.set(t.id,t),Array.from(r.values())},Ul=({value:e,handleValueChange:t})=>{const[r,n]=(0,i.useState)(""),o=Boolean(e),a=(0,i.useMemo)((()=>e?.split("/").pop()),[e]);return l().createElement("section",{className:"et-vb-gv-image-wrapper "+(o?"has-value":"")},o?l().createElement("div",{className:"et-vb-gv-image-preview-container"},l().createElement("img",{className:"et-vb-gv-image-preview",src:e,alt:r||"Image preview"}),l().createElement("span",{className:"et-vb-gv-image-name"},a)):l().createElement("div",{className:"et-vb-gv-image-preview-placeholder-icon"},l().createElement(w.IconSvg,{name:"divi/image-placeholder",viewBox:"0 0 16 16",size:8})),l().createElement(m.Button,{onClick:e=>{e.preventDefault(),e.stopPropagation();const r=(0,f.topWindow.wp.media)({title:"Choose an image",button:{text:"Select Image"},multiple:!1,library:{type:"image"}});r.on("select",(()=>{const e=r.state().get("selection").first().toJSON();t(e.url),n(e.alt)})),r.open()},className:`et-vb-button--secondary et-vb-gv-image-${o?"replace":"upload"}-button`,type:"button","aria-label":o?"Replace":"Upload",title:o?"Replace":"Upload"},o?"Replace":"Upload"))};function Hl(){return Hl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hl.apply(this,arguments)}const zl=e=>{const{index:t,variable:r,groupValueLabel:n,groupKey:o,isDragging:c,handleColorPreviewClick:d,invalidFields:u,onFieldChange:p,handleFieldValidation:f,activeColorInput:g,onChangeColor:h,onClosePicker:b,handleColorOpacityChange:y,getPreviewColor:_,removeVariable:C,handleColorInputFocus:S,getDisplayableColorValue:k,getDisplayableOpacityValue:x}=e,[M,I]=(0,i.useState)(null),{id:A}=r,{attributes:N,listeners:O,setNodeRef:T,transform:D,transition:F}=Pl({id:A}),P=M===t,L=u.filter((({id:e,messageType:t})=>{const n="empty"===t&&r.label;return e===`${A}-label`&&!n})),V=v()({"et-vb-modal-group-content__children-input":!0,"et-vb-modal-group-content__children__empty_field":L.length}),B=u.filter((({id:e,messageType:t})=>{const n="empty"===t&&r.value;return e===`${A}-value`&&!n})),j=v()({"et-vb-modal-group-content__children-input":!0,"et-vb-modal-group-content__children__empty_field":B.length}),q={transform:D?`translate3d(${D.x}px, ${D.y}px, 0)`:void 0,transition:F},W=(e,t)=>{if(e&&!t.startsWith("valid"))return null;const r=o.slice(0,-1),n={image:(0,a.sprintf)((0,a.__)("upload an %s","et_builder"),r),string:"fonts"===o?(0,a.sprintf)((0,a.__)("select a %s","et_builder"),r):(0,a.sprintf)((0,a.__)("enter a %s","et_builder"),r)}[t];let i=n?(0,a.sprintf)((0,a.__)("Please %s","et_builder"),n):(0,a.sprintf)((0,a.__)("Please enter a %s","et_builder"),t);return"valid url"===t&&(i=`${(0,a.__)("A valid URL should start with a #","et_builder")} ${(0,a.__)("or","et_builder")} 'www.' ${(0,a.__)("or","et_builder")} 'http:'. Example: 'www.elegantthemes.com'`),l().createElement("div",{className:"et-vb-modal-group-content__empty_field"},i)};return l().createElement("div",{className:"et-vb-modal-group-content__children",onMouseEnter:()=>I(t),onMouseLeave:()=>I(null),ref:T,style:q},l().createElement("div",{className:`et-vb-modal-group-content__children-label et-vb-modal-group-content__children-label__${o}`},(c&&P||P)&&r.allowedActions.reorder?l().createElement("span",Hl({},N,O),l().createElement(m.Button,null,l().createElement(w.IconSvg,{name:"divi/drag",viewBox:"0 0 14 14"}))):null,l().createElement(E.Text,{key:A,className:V,value:r.label,name:(0,s.kebabCase)(r.label),onChange:({inputValue:e})=>p(A,e,r.value,o),onFocus:()=>I(null),autofocus:!1,renderAfter:()=>L.length?W(r.label,"name"):null,readonly:!r.allowedActions.editLabel})),l().createElement("div",{className:"et-vb-modal-group-content__children-value"},l().createElement("div",{className:"et-vb-modal-group-content__children-value__input"},((e,t,r)=>{const n=e=>p(A,t,e,o);switch(o){case"numbers":return l().createElement(E.CSSNumeric,{key:A,name:`${o}-${A}`,value:r,cssProperty:"all",defaultValue:"none",defaultUnit:"",onChange:e=>n(e)});case"strings":return l().createElement("textarea",{key:A,className:e,onChange:({target:e})=>n(e.value),onBlur:()=>f(o,A,"value"),value:(0,R.stripHTML)(r)});case"colors":return l().createElement("div",{className:"et-vb-gv-color-input-container"},window?.DiviDevFlags?.experiments?.newColorPicker?l().createElement(E.ColorPickerContainer,{name:`${o}-${A}`,defaultValue:"#ffffff",value:r,onChange:({inputValue:e})=>{h(A,e),n(e)}}):l().createElement(i.Fragment,null,A===g?.id&&l().createElement(E.ColorPickerComponent,{isAlpha:!0,closeColorPickerOnClickOutside:!0,useConfirmButtonAction:!0,colorPalette:[],showPalettes:!1,onClose:b,onChange:e=>h(A,e),onClear:()=>{},value:r,onlyTriggerOnChangeForUserInput:!1}),l().createElement("div",{className:"et-vb-gv-color-input-group"},l().createElement(Ll,{id:A,value:r,onClick:()=>d({id:A,label:t,value:r,groupKey:o}),getPreviewColor:_}),l().createElement(E.Text,{showPlaceholderOnEmpty:!0,key:`${A}-color`,className:v()({[e]:!0,"et-vb-gv-color-input":!0,"et-vb-gv-color-input--empty":!r}),value:k(r),name:`${A}-color`,defaultValue:"FFFFFF",onChange:({inputValue:e})=>n(6===e.length?`#${e}`:e),onBlur:()=>f(o,A,"value"),onFocus:S}),l().createElement(E.NumericInput,{min:0,max:100,key:`${A}-opacity`,className:`${e} et-vb-gv-color-input-percent`,name:`${A}-opacity`,value:x(r),allowedUnits:[],allowedValues:[],onFocus:S,onChange:e=>y(A,t,o,e)}),l().createElement("span",{className:"et-vb-gv-percent-symbol"},"%"))));case"fonts":return l().createElement(E.SelectFontContainer,{name:"gv_fonts_family",className:e,value:r,renderGlobalFonts:!1,onChange:e=>n(e.inputValue)});case"images":return l().createElement(Ul,{key:A,value:r,handleValueChange:n});default:return l().createElement(E.Text,{key:A,className:e,value:r,name:(0,s.kebabCase)(r),onChange:({inputValue:e})=>n(e),onFocus:()=>I(null),onBlur:()=>f(o,A,"value")})}})(j,r.label,r.value),B.length?W(r.value,"empty"===B[0].messageType?n:`valid ${n}`):null),!c&&P&&r.allowedActions.remove?l().createElement(m.Button,{onClick:()=>C(A,o)},l().createElement(w.IconSvg,{name:"divi/delete"})):null))},Gl=({onClose:e,onApplyChanges:t,initialOpenGroupId:r=null,globalVariables:n})=>{const o=(0,i.useRef)(null),[c,f]=(0,i.useState)(null),[g,h]=(0,i.useState)([]),[b,y]=(0,i.useState)(null),[w,_]=(0,i.useState)(r),[C,S]=(0,i.useState)(!1),[k,x]=(0,i.useState)(null),[M,I]=(0,i.useState)(!1);(0,i.useEffect)((()=>{r&&w!==r&&_(r)}),[r]);const A=(e,t,r)=>((e,t,r,n,o,a)=>{const i=a[r][e];let l=[];if(!i||!i[t])return l=Wl(n,{id:`${e}-${t}`,messageType:"empty"}),o(l),{isValid:!1,invalidFields:l,messageType:"empty"};let s=!0;const c=window?.DiviDevFlags?.experiments?.newColorPicker?E.isValidColor:E.isColorValid;s="colors"===r&&"value"===t?c(i[t]):(ql[r]||ql.strings).test(i[t]);if("value"===t&&"numbers"!==r&&!s)return l=Wl(n,{id:`${e}-${t}`,messageType:"invalid"}),o(l),{isValid:!1,invalidFields:l,messageType:"invalid"};return l=n.filter((r=>r.id!==`${e}-${t}`)),o(l),{isValid:!0,invalidFields:l}})(t,r,e,g,h,n),N=e=>{if(!e)return!1;const t=[];let r=[...g];return Object.entries(n[e]).forEach((([o])=>{if("archived"===n[e][o].status)return;const a=A(e,o,"label"),i=A(e,o,"value");if(t.push(a,i),!a.isValid){const e={id:`${o}-label`,messageType:a.messageType};r=Wl(r,e)}if(!i.isValid){const e={id:`${o}-value`,messageType:i.messageType};r=Wl(r,e)}})),h(r),t.some((({isValid:e})=>!e))},O=(e,t)=>{(0,d.dispatch)("divi/global-data").deleteGlobalVariable({id:e,groupKey:t})},T=(e,t,r,n)=>{(0,d.dispatch)("divi/global-data").updateGlobalVariable({id:e,label:t,value:r,groupKey:n})},D=({id:e,label:t,value:r,groupKey:n})=>{c?.id!==e?(y({id:e,color:r}),f({id:e,label:t,value:r,groupKey:n})):f(null)},F=(0,i.useCallback)(((e,t)=>{f((e=>({...e,value:t}))),(e=>{const t=g.filter((t=>t.id!==e));h(t)})(`${e}-value`),(0,d.dispatch)("divi/global-data").setGlobalColorPreviewValue(e,t)}),[]),P=(e,t)=>{if(!t||!e)return f(null),void(b.color&&(0,d.dispatch)("divi/global-data").setGlobalColorPreviewValue(b.id,b.color));const{id:r,label:n,groupKey:o}=c;let a=e;if(!(0,E.isRgb)(e)){a=`rgba(${(0,E.hexToRgb)(e).join(", ")}, 1)`}T(r,n,a,o),f(null)},L=e=>{if(!e)return"";let t=e;if((0,E.isRgb)(e)){const r=(0,E.rgbExtract)(e);t=(0,E.rgbToHex)(r[0],r[1],r[2])}return t.replace(/^#/,"").toUpperCase()},R=e=>{if((0,E.isRgb)(e)){return(100*(0,E.rgbExtract)(e)[3]).toFixed(0)}return"100"},V=()=>{f(null)},B=(e,t)=>{if(t.startsWith("rgba"))return t;if(!t.startsWith("#"))return"transparent";const r=(0,E.hexToRgb)(t).join(", "),n=o.current?.querySelector(`#et-vb-field-common-numeric-input--${e}-opacity`);return n?.value?`rgba(${r}, ${Number(n.value)/100})`:`rgba(${r}, 1)`},j=(e,t,r,o)=>{const a=n[r][e].value,i=a.startsWith("#")?(0,E.hexToRgb)(a):(0,E.rgbExtract)(a),l=`rgba(${i[0]}, ${i[1]}, ${i[2]}, ${Number(o)/100})`;T(e,t,l,r),(0,d.dispatch)("divi/global-data").setGlobalColorPreviewValue(e,l)},q=e=>{const t=(0,s.isEmpty)(n[e]),r=v()({"et-vb-button et-vb-component-preview__add-button":!0,"et-vb-component-preview__add-button--empty":t});return l().createElement(m.AddButton,{onClick:()=>{N(e)||(e=>{(0,d.dispatch)("divi/global-data").addGlobalVariable({label:"",value:"",groupKey:e})})(e)},className:r,title:`Add Global ${e.slice(0,-1)}`})},W=e=>{const t=Object.values(n[e]).filter((({status:e})=>"archived"!==e)).sort(((e,t)=>e.order-t.order));if(!t.length)return q(e);const r=Bl[e];return l().createElement(l().Fragment,null,l().createElement("div",{className:"et-vb-modal-group-content-wrapper"},l().createElement("div",{className:"et-vb-modal-group-content__children"},l().createElement(p.FieldWrapper,{label:"name"}),l().createElement(p.FieldWrapper,{label:r})),l().createElement("div",{className:`et-vb-modal-group-content__fields et-vb-modal-group-content__fields_${e}`},l().createElement(fl,{collisionDetection:Za,onDragEnd:t=>((e,t)=>{if(!k)return;const{id:r}=t.over,{order:o}=n[e][r];if("colors"===e&&o<5||"fonts"===e&&o<3)return;const a={id:k.id,order:o,groupKey:e};(0,d.dispatch)("divi/global-data").updateGlobalVariableOrder(a),x(null),I(!1)})(e,t),onDragStart:t=>((e,t)=>{const{active:r}=t,{id:o}=r;x({id:n[e][o].id,order:n[e][o].order}),I(!0)})(e,t)},l().createElement(Il,{items:t,strategy:kl},t.map(((t,n)=>l().createElement(zl,{key:t.id,index:n,groupKey:e,variable:t,groupValueLabel:r,handleColorPreviewClick:D,invalidFields:g,onFieldChange:T,handleFieldValidation:A,isDragging:M,activeColorInput:c,getDisplayableColorValue:L,getDisplayableOpacityValue:R,getPreviewColor:B,handleColorInputFocus:V,handleColorOpacityChange:j,onClosePicker:P,onChangeColor:F,removeVariable:O}))))))),q(e))},U=v()({"et-vb-modal-global-variable-group__overlay":!0,"et-vb-modal-global-variable-group__overlay--active":C});return l().createElement(u.ErrorBoundary,{key:"et-vb-divi-modals--alert",componentName:"et-vb-divi-modals--alert"},l().createElement(l().Fragment,null,l().createElement(p.WrapperContainer,{modalName:Rl,draggable:!0,resizable:!0,expandable:!0,snappable:!0},l().createElement(p.Header,{name:Vl}),l().createElement(p.BodyContainer,null,l().createElement(p.PanelContainer,{id:"global-variable",opened:!0},l().createElement("div",{className:"et-vb-modal-global-variable-group",ref:o},l().createElement("div",{className:U}),Object.keys(n).map((e=>l().createElement(p.Group,{key:e,id:e,title:jl[e],opened:w===e,onTitleClick:()=>{return t=e,void(N(w)||_(w!==t?t:null));var t},onMouseEnter:null,onMouseLeave:null},W(e))))),C?l().createElement("div",{className:"global-variable-save-alert"},l().createElement("span",{className:"global-variable-save-alert__header"},(0,a.__)("Are you sure?","et_builder")),l().createElement("p",{className:"global-variable-save-alert__description"},(0,a.__)("Changes made to variables will affect all instances across your entire site. Do you wish to proceed?","et_builder")),l().createElement("div",{className:"global-variable-save-alert--action"},l().createElement(m.Button,{className:"global-variable-save-alert--action__cancel",onClick:()=>{S(!1)},isSecondary:!0},(0,a.__)("Continue Editing","et_builder")),l().createElement(m.Button,{className:"global-variable-save-alert--action__apply",onClick:()=>{t(),S(!1)},isPrimary:!0},(0,a.__)("Apply Changes","et_builder")))):null)),C?null:l().createElement(p.Footer,{buttons:[{label:(0,a.__)("Cancel Changes","et_builder"),name:"cancel-changes",onClick:e},{label:(0,a.__)("Save Variables","et_builder"),name:"save-variables",buttonColor:"primary",onClick:()=>{const e=[];Object.keys(n).flatMap((t=>{Object.values(n[t]).filter((({id:e,label:r,value:n,status:o})=>r||n?"archived"!==o:((0,d.dispatch)("divi/global-data").deleteGlobalVariable({id:e,groupKey:t}),!1))).forEach((({id:r,label:n,value:o,status:a})=>{if("archived"===a)return;n||e.push({id:`${r}-label`,messageType:"empty"}),o||e.push({id:`${r}-value`,messageType:"empty"}),!["colors","numbers"].includes(t)&&o&&ql[t]&&!ql[t].test(o)&&e.push({id:`${r}-value`,messageType:"invalid"});const i=window?.DiviDevFlags?.experiments?.newColorPicker?E.isValidColor:E.isColorValid;"colors"!==t||i(o)||e.push({id:`${r}-value`,messageType:"invalid"})}))})),h(e),e.length||S(!0)}}]}))))};var $l=window.divi.globalData;const Kl={name:Rl,label:Vl,type:"multiInstanceModal",component:()=>{const{modalState:e,globalColors:t,globalVariables:r,customizerFonts:n,hasPermission:o}=(0,d.useSelect)((e=>({modalState:e("divi/modal-library").getModal("divi/manage-global-variable"),globalColors:e("divi/global-data").getGlobalColors(),globalVariables:e("divi/global-data").getGlobalVariables(),customizerFonts:e("divi/fonts").getCustomizerFonts(),hasPermission:e("divi/settings").checkRolePermission("variables_manager","edit_theme_options")}))),[a,l]=(0,i.useState)(!1);if(!o)return null;(0,i.useEffect)((()=>((0,s.size)(r.colors)&&(0,s.size)(r.fonts)&&!(0,s.isUndefined)(r.colors["gcid-primary-color"])&&!(0,s.isUndefined)(r.fonts["--et_global_heading_font"])||(0,$l.bootstrapGlobalVariables)(["colors","fonts"]),()=>{if(!a){(0,d.dispatch)("divi/global-data").resetGlobalVariables();const e=(0,d.select)("divi/global-data").getGlobalPreviewColors();Object.keys(e).forEach((e=>{(0,d.dispatch)("divi/global-data").removeGlobalColorPreviewValue(e)}))}})),[]),(0,i.useEffect)((()=>{(0,$l.bootstrapGlobalVariables)(["fonts"])}),[n]),(0,i.useEffect)((()=>{const e=Object.keys(r.colors),n=Object.keys(t);if(!e.length)return;const o=n.filter((t=>!e.includes(t)));o.length?o.forEach((e=>{const{color:r,folder:n,label:o,status:a,lastUpdated:i}=t[e];(0,$l.addFontColorVariable)("colors",e,o||r,r,(0,$l.getAllowedActions)(n),null,a,i)})):Object.entries(t).forEach((([e,{color:t,label:n,status:o}])=>{r.colors[e].value!==t&&(0,d.dispatch)("divi/global-data").updateGlobalVariable({id:e,label:n||t,value:t,groupKey:"colors",status:"active"===o?o:"archived"})}))}),[t]);const c={onClose:()=>{l(!1),(0,d.dispatch)("divi/modal-library").close({name:"divi/manage-global-variable"})},onApplyChanges:()=>{(0,zt.loggedFetch)({method:"POST",restRoute:"/divi/v1/global-data/global-fonts",data:{heading_font:r.fonts["--et_global_heading_font"].value,body_font:r.fonts["--et_global_body_font"].value}},!0).then((e=>{(0,d.dispatch)("divi/fonts").setCustomizerFonts(e)})).catch((e=>{console.log(e)}));const e=((e,t)=>Object.entries(e.colors).reduce(((e,[r,{id:n,label:o,value:a,status:i,order:l,lastUpdated:s}])=>(e[r]={id:n,lastUpdated:s,label:o||a,color:a,order:l,status:"active"===i?"active":"inactive",folder:t[r]?.folder||"",usedInPosts:t[r]?.usedInPosts||[]},e)),{}))(r,t);(0,d.dispatch)("divi/global-data").updateGlobalColors(e),(0,d.dispatch)("divi/global-data").saveGlobalVariables(),(0,d.dispatch)("divi/global-data").updateGlobalVariablesBackup(),l(!0)},initialOpenGroupId:(0,s.get)(e,["attributes","initialOpenGroupId"],null),globalVariables:r};return(0,i.createElement)(Gl,c)}};var Zl=r(33042),Yl=r.n(Zl);const Jl=Yl()({}),Xl=({modulePanel:e,id:t,owner:r,isMultiPanels:n,label:o,onHelpClick:a,moduleCredit:c,official:u,moduleLabel:m})=>{const f=(0,i.useCallback)(a,[]),g=(0,d.select)("divi/edit-post").getGlobalLayoutId(r),v=(0,d.select)("divi/edit-post").getModuleName(r),{attrs:h,parentAttrs:b,isConfirmationPopupOpen:y,isPresetModal:E}=(0,d.useSelect)((e=>{const t=e("divi/edit-post").getParentModuleId(r);return{attrs:u?Jl:e("divi/edit-post").getModuleAttrs(r),parentAttrs:e("divi/edit-post").getModuleAttrs(t),isConfirmationPopupOpen:e("divi/global-layouts").isConfirmationPopupOpen(g),isPresetModal:e("divi/global-data").isActivePreset()}})),w=!!g;return(0,s.isFunction)(e)?l().createElement(p.PanelContainer,{id:t,label:o,isMultiPanels:n},"content"===t&&l().createElement(fn.PresetSettingsContainer,{owner:r,presetType:"module"}),(0,i.createElement)(e,{attrs:h,parentAttrs:b,owner:r}),"divi/heading"!==v&&l().createElement(p.HelpButton,{onHelpClick:f}),l().createElement(p.ModuleCredit,{author:c?.author,authorURI:c?.authorURI,moduleURI:c?.moduleURI,official:u,moduleLabel:m}),w&&!E?l().createElement(p.GlobalModuleFooter,{owner:r}):null,w&&y?l().createElement(p.ConfirmationPopup,{onConfirmClick:()=>{(0,d.dispatch)("divi/global-layouts").saveLayout({id:g,owner:r}),(0,d.dispatch)("divi/global-layouts").closeConfirmationPopup({id:g})},onCancelClick:()=>{(0,d.dispatch)("divi/edit-post").revertGlobalModuleEditState({id:g,owner:r}),(0,d.dispatch)("divi/global-layouts").closeConfirmationPopup({id:g})}}):null):null},Ql="divi/hover-enhancement",es="divi/sticky-enhancement",ts=[{name:"desktop-hover",label:(0,a.__)("Hover","et_builder"),icon:{name:Ql,styles:{},viewBox:"-6 -6 28 28",color:"#ffffff",size:14}},{name:"desktop-sticky",label:(0,a.__)("Sticky","et_builder"),icon:{name:es,styles:{},viewBox:"-7 -7 28 28",color:"#ffffff"}}],rs=[{name:"settings",label:(0,a.__)("Settings","et_builder"),icon:{name:"divi/settings-enhancement",styles:{},color:"#ffffff"}}],ns=({expand:e,value:t,onToggleExpandClick:r,onOverlayClick:n,onChange:o,onSettingsClick:c,style:d,options:u=ts})=>{const p=(0,s.findIndex)(u,(e=>e.name===t)),m=u?.[p];if(void 0===m){o(u?.[0]?.name??"desktop")}const g=Math.max(0-29*p,-60),h=e?l().createElement(l().Fragment,null,l().createElement("div",{className:"et-vb-modal-responsive-state-picker-options",style:{top:g}},u.map(((e,t)=>l().createElement(i.Fragment,{key:`et-vb-modal-responsive-state-picker-option--${e.name}`},"settings"===e.name&&l().createElement("span",{className:"et-vb-modal-responsive-state-picker-option-divider"}),l().createElement("button",{type:"button",className:v()({"et-vb-modal-responsive-state-picker-option":!0,[`et-vb-modal-responsive-state-picker-option--${e.name}`]:!0,"et-vb-modal-responsive-state-picker-option--selected":t===p}),onClick:f.handleOnClickFallback,onMouseDown:t=>{t.preventDefault(),"settings"===e.name?c():e.onClick?e.onClick(e.name):o(e.name)}},t===p&&l().createElement("span",{className:"et-vb-modal-responsive-state-picker-option-check"},l().createElement(w.IconSvg,{name:"divi/check",size:10,color:"#ffffff"})),l().createElement("span",{className:"et-vb-modal-responsive-state-picker-option-icon"},l().createElement(w.IconSvg,{name:e?.icon?.name,styles:e?.icon?.styles,viewBox:e?.icon?.viewBox,color:e?.icon?.color,size:e?.icon?.size,iconComponentProps:{color:t===p?"#ffffff":"var(--medium-gray--inverse)"}})),l().createElement("span",{className:"et-vb-modal-responsive-state-picker-option-label"},e.label)))))),l().createElement("div",{className:"et-vb-modal-responsive-state-picker-options-overlay",tabIndex:0,role:"button",onClick:f.handleOnClickFallback,onKeyPress:n,onMouseDown:n},l().createElement("span",{className:"et-vb-modal-responsive-state-picker-options-overlay-hidden-label"},(0,a.__)("Overlay","et_builder")))):null,b=m?m.icon:u[0].icon;return l().createElement("div",{className:"et-vb-modal-responsive-state-picker",style:d},l().createElement("button",{type:"button",className:"et-vb-modal-responsive-state-picker-value",onClick:f.handleOnClickFallback,onMouseDown:r},l().createElement("span",{className:"et-vb-modal-responsive-state-picker-value-icon"},l().createElement(w.IconSvg,{name:b?.name,styles:b?.styles,viewBox:b?.viewBox,color:b?.color,size:b?.size})),l().createElement("span",{className:"et-vb-modal-responsive-state-picker-value-label"},m?m.label:u[0].label)),h)},os=(e,t=!0)=>{const r=(0,d.select)("divi/settings").getEnabledBreakpoints().map((e=>e.name)).filter((e=>"desktop"!==e));(0,s.includes)(r,e)?((0,d.dispatch)("divi/app-ui").setView(e),(0,d.dispatch)("divi/app-ui").setAttributeState("value")):((0,d.dispatch)("divi/app-ui").setView("desktop"),(0,s.includes)(["desktop-hover","desktop-sticky"],e)?(0,d.dispatch)("divi/app-ui").setAttributeState(e.split("-")[1]):(0,d.dispatch)("divi/app-ui").setAttributeState("value")),t&&(0,d.dispatch)("divi/modal-library").setAttributes({name:"divi/module",attributes:{responsiveStatePickerStatus:!1},merge:!0})},as=({enabledBreakpoints:e,hasStickyState:t})=>{const r=e.map((e=>({name:e.name,label:e.label,icon:e?.icon}))),n=(0,s.filter)(R.states,(e=>"sticky"!==e||t));return(0,s.filter)([].concat(r,ts,rs),(e=>{const{name:t}=e,[r,o]=t.split("-");return!(!r||o)||(0,s.includes)(n,o)}))},is=({view:e,attributeState:t,enabledBreakpointNames:r})=>{const n=(0,s.filter)(R.states,(e=>"value"!==e));return(0,s.includes)(n,t)?`desktop-${t}`:(0,s.includes)(r,e)?e:"desktop"},ls=()=>{const e=(0,d.select)("divi/modal-library").getModalProperty({modalName:"divi/module",property:"owner"});if(!e)return!1;const t=(0,d.select)("divi/settings").getEnabledBreakpoints(),r=(0,d.select)("divi/settings").getEnabledBreakpointNames(),n=(()=>{const t=(0,d.select)("divi/edit-post").getContent(),r=(0,R.getAncestorIds)(t,e).map((e=>({name:t?.[e]?.name,attrs:t?.[e]?.props?.attrs})));return(0,fn.isStickyModuleByAttrsWithPresetsBulk)([{name:t?.[e]?.name,attrs:t?.[e]?.props?.attrs},...r],d.select)})(),o=(0,d.select)("divi/app-ui").getView(),a=(0,d.select)("divi/app-ui").getAttributeState(),i=as({enabledBreakpoints:t,hasStickyState:n}),l=is({view:o,attributeState:a,enabledBreakpointNames:r}),s=i.findIndex((e=>e.name===l));return!(0>s&&s>=i.length-1)&&{baseBreakpointName:(0,d.select)("divi/settings").getBaseBreakpointName(),options:i,valueIndex:s}},ss=()=>{(0,d.dispatch)("divi/modal-library").setAttributes({name:"divi/module",attributes:{responsiveStatePickerStatus:!1},merge:!0})},cs=[{name:"responsiveStatePicker-close",label:(0,a.__)("Close Responsive & State Picker","et_builder"),keys:["Escape"],category:"modal",action:ss},{name:"responsiveStatePicker-prev",label:(0,a.__)("Select Prev Responsive State Picker Option","et_builder"),keys:["ArrowUp"],category:"modal",action:()=>{const e=ls();if(!1===e)return;const{baseBreakpointName:t,valueIndex:r,options:n}=e;let o=n?.[r-1]?.name??n?.[n.length-2]?.name??t;"settings"===o&&(o=n?.[n.length-2]?.name??t),os(o,!1)}},{name:"responsiveStatePicker-next",label:(0,a.__)("Select Next Responsive State Picker Option","et_builder"),keys:["ArrowDown"],category:"modal",action:()=>{const e=ls();if(!1===e)return;const{baseBreakpointName:t,valueIndex:r,options:n}=e;let o=n?.[r+1]?.name??n?.[0]?.name??t;"settings"===o&&(o=n?.[0]?.name??t),os(o,!1)}},{name:"responsiveStatePicker-enter",label:(0,a.__)("Close Responsive & State Picker","et_builder"),keys:["Enter"],category:"modal",action:ss}],ds=()=>{(0,d.dispatch)("divi/modal-library").setAttributes({name:"divi/module",attributes:{responsiveStatePickerStatus:!0},merge:!0})},us=()=>{(0,d.dispatch)("divi/modal-library").setAttributes({name:"divi/module",attributes:{responsiveStatePickerStatus:!1},merge:!0})},ps=()=>{const{attributeState:e,enabledBreakpoints:t,hasStickyState:r,modalAttributes:n,view:o}=(0,d.useSelect)((e=>({attributeState:e("divi/app-ui").getAttributeState(),enabledBreakpoints:e("divi/settings").getEnabledBreakpoints(),hasStickyState:(()=>{const t=e("divi/modal-library").getModalOwner("divi/module"),r=e("divi/edit-post").getContent(),n=(0,R.getAncestorIds)(r,t).map((e=>({name:r?.[e]?.name,attrs:r?.[e]?.props?.attrs})));return(0,fn.isStickyModuleByAttrsWithPresetsBulk)([{name:r?.[t]?.name,attrs:r?.[t]?.props?.attrs},...n],e)})(),modalAttributes:e("divi/modal-library").getModalProperty({modalName:"divi/module",property:"attributes"}),view:e("divi/app-ui").getView()}))),a=is({view:o,attributeState:e,enabledBreakpointNames:t.map((e=>e.name))}),l=as({enabledBreakpoints:t,hasStickyState:r}),c=(0,s.get)(n,["responsiveStatePickerStatus"],!1),[u,p]=(0,i.useState)(!1),m=cs.map((e=>e.name));(0,i.useEffect)((()=>{c?((0,L.registerShortcuts)(cs),p(!0)):u&&((0,L.unregisterShortcuts)(m),p(!1))}),[c]),(0,i.useEffect)((()=>()=>{const e=(0,d.select)("divi/keyboard-shortcuts").getShortcuts();(0,s.forEach)(m,(t=>{(0,s.has)(e,[t])&&(0,L.unregisterShortcut)(t)}))}),[]);const g={expand:c,value:a,onChange:os,onToggleExpandClick:ds,onOverlayClick:us,onSettingsClick:()=>{const e=f.topWindow.jQuery(".et-vb-page-bar-responsive-button--more").offset();(0,d.dispatch)("divi/modal-library").open({name:"divi/breakpoints-settings",offset:{top:(e?.top??0)+28+15,left:e?.left??0}}),(0,d.dispatch)("divi/modal-library").setAttributes({name:"divi/module",attributes:{responsiveStatePickerStatus:!1},merge:!0})},style:{},options:l};return(0,i.createElement)(ns,g)},ms=(e,t)=>{const r=t.replace(/\//g,".");let n=(0,o.applyFilters)("divi.modalLibrary.module.components.bodyPanelNames",{content:(0,a.__)("Content","et_builder"),design:(0,a.__)("Design","et_builder"),advanced:(0,a.__)("Advanced","et_builder")});return n=(0,o.applyFilters)(`divi.modalLibrary.module.components.bodyPanelNames.${r}`,n),n[e]??e},fs=(0,i.memo)((({moduleSettings:e,owner:t,onHelpClick:r,moduleLabel:n})=>l().createElement(p.BodyPanelWrapperContainer,{beforeTabItems:null,afterTabItems:l().createElement(ps,null),showSearchBar:!0},Object.keys(e?.settings??{}).map((o=>e?.settings?.[o]?l().createElement(Xl,{key:`module-setting-panel-${o}`,id:o,owner:t,label:ms(o,e.name),modulePanel:e?.settings?.[o],onHelpClick:r,official:e?.official,moduleCredit:e?.credit,moduleLabel:n}):null))))),gs=(0,i.memo)((({backButton:e,isActivePreset:t,moduleId:r,name:n,onClickBackButton:o,onContextMenu:i,setIsModalOpen:s,isGlobalColorEditing:c})=>{const{presetLabel:u}=(0,d.useSelect)((e=>{const t=e("divi/edit-post").getModuleName(r),n=e("divi/edit-post").getModuleAttrs(r),o=(0,R.maybeConvertPresetModuleName)(t,n);return{presetLabel:n?.modulePreset?e("divi/global-data").getModulePreset({moduleName:o,id:n?.modulePreset})?.name:null}})),m=()=>{s((e=>!e))};return l().createElement(p.Header,{name:n,onContextMenu:i,primary:!0,backButton:e,closeButton:!0,onClickBackButton:o,renderBefore:()=>t?l().createElement("div",{className:"et-vb-modal-header-breadcrumb"},l().createElement("div",{className:"et-vb-modal-header-breadcrumb-item"},(0,a.__)("Preset","et_builder"))):l().createElement(p.Breadcrumb,{moduleId:r}),onClickCloseButton:()=>{if(c)(0,d.dispatch)("divi/modal-library").setIsModalClosing({isClosing:!0});else if(t)(0,d.dispatch)("divi/global-data").closePresetModal();else{(0,d.dispatch)("divi/modal-library").close({name:"divi/module"});const e=(0,d.select)("divi/modal-library").getActiveModalNames({excludeModalNames:[]}).map((e=>(0,d.select)("divi/modal-library").getModal(e)));e.length>0&&e.forEach((e=>{e?.autoCloseOnClickOutside&&(0,d.dispatch)("divi/modal-library").close({name:e.name})}))}},customButtons:[{name:"preset",className:t?"et-vb-modal-header-options--active-preset":"",label:u??(0,a.__)("Default Preset","et_builder"),tooltipId:"preset",tooltipText:(0,a.__)("Select A Preset","et_builder"),iconName:"divi/preset",onButtonClick:m,visible:!0}]})})),vs=({owner:e,tab:t,group:r,moduleName:n,moduleLabel:o,moduleInfo:c,isChildModule:m,isGlobalColorEditing:f,isActivePreset:g,isActiveConfirmationModal:v,onContextMenu:h,onClickBackButton:b,onHelpClick:y,bodySiblingHeight:E,onPresetCancel:w=s.noop,onSavePreset:_=s.noop,isPresetSyncing:C=!1,isGlobalSaving:S=!1})=>{const k=m||("divi/column"===n||"divi/column-inner"===n),x=!!(0,d.select)("divi/edit-post").getGlobalLayoutId(e),[M,I]=(0,i.useState)(!1),A=()=>I(!1),N=g?(0,a.__)("%s Presets","et_builder").replace("%s",o):o,[O,T]=(0,i.useState)(E),D=(0,i.useRef)();(0,i.useEffect)((()=>{if(g&&!v){const e=D?.current?.getBoundingClientRect()?.height??0;T(e+E)}else T(E)}),[g,v]);const F=(0,i.useMemo)((()=>({moduleId:e,moduleName:n})),[e,n]);return l().createElement(u.ErrorBoundary,{key:"et-vb-divi-modals--module",componentName:"et-vb-divi-modals--module"},l().createElement(hn.moduleContext.Provider,{value:F},l().createElement(p.WrapperContainer,{modalName:"divi/module",modalActiveTab:t||"content",modalGroup:r,draggable:!0,expandable:!0,isGlobal:x,isGlobalSaving:S,owner:e,snappable:!0,resizable:!0,multiPanels:!0,bodySiblingHeight:O},l().createElement(gs,{isGlobalColorEditing:f,isActivePreset:g,backButton:k,name:N,moduleId:e,onClickBackButton:b,onContextMenu:h,setIsModalOpen:I}),l().createElement(fs,{moduleSettings:c,owner:e,onHelpClick:y,moduleLabel:o}),l().createElement(fn.PresetSelectionContainer,{open:M,onAddNewPreset:()=>{A()},onAddNewPresetFromCurrentStyles:()=>{A()},onClosePresetSelectionModal:()=>{A()},owner:e}),l().createElement(fn.PresetConfirmationContainer,{open:v}),!g||v?null:C?l().createElement(p.Footer,{ref:D,buttons:[{label:"",icon:"divi/loading",iconAnimation:"rotate-center",showIcon:!0,name:"saving",onClick:null,backgroundColor:"var(--app-color)",textColor:"#fff"}]}):l().createElement(p.Footer,{ref:D,buttons:[{label:(0,a.__)("Cancel","et_builder"),name:"cancel-changes",onClick:w},{label:(0,a.__)("Save Preset","et_builder"),name:"save-preset",onClick:_,buttonColor:"primary"}]}))))},hs="divi/module",bs=(0,a.__)("Module","et_builder"),ys={closeModuleModal:{name:"closeModuleModal",label:(0,a.__)("Close Modal","et_builder"),keys:["Escape"],category:"modal",action:()=>{(0,d.dispatch)("divi/modal-library").close({name:"divi/module"})}}},Es=e=>{const{owner:t,group:r,tab:n}=e,o=(0,i.useRef)(t),{moduleName:l,moduleLabel:c,moduleInfo:u,isChildModule:p,parentModuleId:m,isGlobalColorEditing:f,isActivePreset:g,isActiveConfirmationModal:v,bodySiblingHeight:h,isPresetSyncing:b,presetSaveConfirmationDialogFlag:y,isGlobalSaving:E}=(0,d.useSelect)((e=>{const r=e("divi/edit-post").getModuleName(t),n=e("divi/module-library").isChildModule(r),o=e("divi/module-library").getModule(r),a=o?.title,i=e("divi/edit-post").getParentModuleId(t),l=e("divi/global-data").isGlobalColorEditing(),s=e("divi/global-data").isActivePreset(),c=e("divi/global-data").isActiveConfirmationModal(),d=e("divi/edit-post").getGlobalLayoutId(t),u=e("divi/global-layouts").isLayoutSaving(d)||e("divi/global-layouts").isConfirmationPopupOpen(d);return{moduleName:r,isChildModule:n,moduleLabel:a,moduleInfo:o,parentModuleId:i,isGlobalColorEditing:l,isActivePreset:s,isActiveConfirmationModal:c,bodySiblingHeight:e("divi/modal-library").getModalProperty({modalName:"divi/module",property:"bodySiblingHeight"}),isPresetSyncing:e("divi/global-data").isPresetSyncing(),presetSaveConfirmationDialogFlag:e("divi/global-data").getPresetSaveConfirmationDialogFlag(),isGlobalSaving:u}}));(0,i.useEffect)((()=>((0,L.registerShortcut)(ys.closeModuleModal),()=>{(0,L.unregisterShortcut)("closeModuleModal")})),[]),(0,i.useEffect)((()=>{g&&o.current!==t&&(0,d.dispatch)("divi/global-data").closePresetModal(),o.current=t}),[t]);(0,i.useEffect)((()=>{(0,d.dispatch)("divi/help").setCurrentListName(l)}),[l]);return(0,i.createElement)(vs,{...e,moduleName:l,moduleLabel:c,moduleInfo:u,isChildModule:p,onContextMenu:e=>{e.preventDefault(),e.stopPropagation();const r={x:e.clientX,y:e.clientY},n=(0,R.getSettingsComponent)(l),o=["moduleFieldAttribute","moduleGroupAttributes","moduleAttributes"];(0,ln.waitUntilAttrsMapsReady)({id:(0,ln.getComponentAttrsMapsId)({attrsMapsType:"module",moduleName:l}),attrsMapsType:"module",name:l,component:n,callback:e=>{(0,d.dispatch)("divi/right-click-options").set({cursorPosition:r,optionType:"module",owner:{optionType:"module",id:t,clipboardItem:(0,d.select)("divi/clipboard").getLastItem(["module","modules"]),clipboardItemStyle:(0,d.select)("divi/clipboard").getLastItem(o),selectedModuleIds:(0,d.select)("divi/events").getSelectedModules().asMutable({deep:!0}).map((e=>e.id)),attrsMaps:e},windowLocation:"app"})}}).catch((()=>{}))},onClickBackButton:e=>{(0,s.isUndefined)(e)||e.preventDefault(),(0,d.dispatch)("divi/modal-library").open({owner:m,name:hs})},onHelpClick:()=>{(0,d.dispatch)("divi/help").setCurrentVideo(0),(0,d.dispatch)("divi/modal-library").open({name:"divi/help"})},group:r,tab:n,owner:t,isGlobalColorEditing:f,isActivePreset:g,isActiveConfirmationModal:v,bodySiblingHeight:h,onPresetCancel:()=>{(0,d.dispatch)("divi/global-data").closePresetModal()},onSavePreset:()=>{if(y){const e="SAVE_PRESET",t=(0,a.sprintf)((0,a.__)("You've made changes to the <strong>%1$s</strong> Module preset settings. This will affect all <strong>%1$s</strong> Modules across your entire site. Do you wish to proceed?","et_builder"),c),r={},n={confirm:(0,a.__)("Yes","et_builder"),cancel:(0,a.__)("Cancel","et_builder")};(0,d.dispatch)("divi/global-data").openConfirmationModal({confirmationAction:e,confirmationText:t,actionPayload:r,actionLabels:n})}else(0,d.dispatch)("divi/global-data").savePreset(),(0,d.dispatch)("divi/global-data").togglePresetSaveConfirmationDialog({flag:!0})},isPresetSyncing:b,isGlobalSaving:E})},ws={name:hs,label:bs,snappable:!0,type:"singleInstanceModal",component:Es,dimensionMinimum:{width:280},canBeSavedOnWorkspace:"divi/page-settings"},_s="divi/portability",Cs=(0,a.__)("Import & Export","et_builder"),Ss={width:400,height:312},ks={invalidFile:(0,a.__)("Invalid File format. You should be uploading a JSON file.","et_builder")},xs=({pageTitle:e,onImportClick:t,onExportClick:r,onHelpClick:n,tab:o,attributes:c})=>{const[d,f]=(0,i.useState)(null),[g,h]=(0,i.useState)(!1),[b,y]=(0,i.useState)(null),[_,C]=(0,i.useState)(e),[S,k]=(0,i.useState)(!1),[x,M]=(0,i.useState)(!1),[I,A]=(0,i.useState)(0),[N,O]=(0,i.useState)(1),[T,D]=(0,i.useState)(!0),[F,P]=(0,i.useState)(!1),[L,R]=(0,i.useState)(!1),[V,B]=(0,i.useState)(!1),[j,q]=(0,i.useState)(!1),[W,U]=(0,i.useState)({replaceLayout:"on",importBackUp:"off",importToCloud:"off",includeGlobalPresets:"off"}),{itemName:H,showTabs:z,isCloudAppAction:G,isCloudEnabled:$,sharedCloudName:K,afterPortabilityClose:Z}=c;(0,i.useEffect)((()=>{G&&q(!0)}),[]),(0,i.useEffect)((()=>{H&&C(H)}),[H]),(0,i.useEffect)((()=>{U({replaceLayout:T?"on":"off",importBackUp:F?"on":"off",importToCloud:V?"on":"off",includeGlobalPresets:L?"on":"off"})}),[T,F,V,L]);const Y="import"===o,J=d?(0,s.get)(d,"name",""):"",X=""!==J?J:(0,a.__)("No File Selected.","et_builder"),Q=v()({"et-vb-modal-import-placeholder":!0,"et-vb-modal-import-placeholder--active":""!==J});return l().createElement(u.ErrorBoundary,{key:"et-vb-divi-modal--portability",componentName:"et-vb-divi-modal--portability"},l().createElement(p.WrapperContainer,{dimension:null,snappable:!0,expandable:!0,draggable:!0,caret:!1,resizable:!0,modalName:_s,modalActiveTab:o||"export"},(()=>{if(G){const e=Y?(0,a.__)("Import","et_builder"):(0,a.__)("Export","et_builder");return l().createElement(p.Header,{name:e,onClickCloseButton:Z})}return l().createElement(p.Header,{name:(0,a.__)("Import & Export","et_builder")})})(),l().createElement(p.BodyPanelWrapperContainer,{showTabs:z},l().createElement(p.PanelContainer,{id:"export",label:(0,a.__)("Export","et_builder")},l().createElement("div",{className:"et-vb-modal-settings-options-tab"},S&&(100>I?l().createElement(m.ProgressBar,{progress:I,estimation:N,actionLabel:(0,a.__)("Export","et_builder")}):l().createElement(p.LocalOverlay,{className:"et-vb-modal-local-overlay-centered"},l().createElement("span",{className:"et-vb-modal-loader et-vb-modal-loader-success"}))),!S&&l().createElement(l().Fragment,null,l().createElement("div",{className:"et-vb-modal-export-file-name-field"},l().createElement("h3",null,(0,a.__)("Export File Name","et_builder")),l().createElement(E.Text,{value:_,onChange:e=>C(e.inputValue),name:"filename"})),l().createElement("div",{className:"et-vb-modal-export-error-container"}),l().createElement("div",null,l().createElement(p.HelpButton,{onHelpClick:n}))))),l().createElement(p.PanelContainer,{id:"import",label:(0,a.__)("Import","et_builder")},l().createElement("div",{className:"et-vb-modal-settings-options-tab"},x&&(100>I?l().createElement(m.ProgressBar,{progress:I,estimation:N,actionLabel:(0,a.__)("Import","et_builder")}):l().createElement(p.LocalOverlay,{className:"et-vb-modal-local-overlay-centered"},l().createElement("span",{className:"et-vb-modal-loader et-vb-modal-loader-success"}))),!x&&l().createElement(l().Fragment,null,l().createElement("div",{className:"et-vb-modal-upload-file-container"},l().createElement("h3",null,G?(0,a.__)("Choose Files","et_builder"):(0,a.__)("Choose File","et_builder")),l().createElement("div",{className:Q},X,l().createElement("input",{type:"file",className:"et-vb-modal-import-file",onChange:e=>(e=>{if(j){const{files:t}=e.target,r=Array.from(t).concat(Array.from(d??[]));f(r)}else{const t=(0,s.get)(e,"target.files[0]","");f(t)}})(e),multiple:j})),j&&(()=>{if(!d?.length)return null;const e=(0,s.map)(d,((e,t)=>l().createElement("div",{className:"et-vb-divi-modal--portability-import-files-list-item",key:e.name},l().createElement("span",{role:"button",onKeyDown:s.noop,className:"et-vb-divi-modal--portability-import-files-list-item-remove",onClick:()=>(e=>{const t=d.filter(((t,r)=>r!==e));f(t)})(t),tabIndex:0,"aria-label":"Remove file"},l().createElement(w.IconSvg,{name:"divi/delete",color:"transparent",iconComponentProps:{color:"#ef5555"}})),e.name)));return l().createElement("div",{className:"et-vb-divi-modal--portability-import-files-list"},l().createElement("label",{className:"et-vb-field-input__label"},l().createElement("span",{className:"et-vb-field-input__label-text"},(0,a.__)("Selected Files:","et_builder"))),e)})()),g&&l().createElement("div",{className:"et-vb-modal-import-error-container"},l().createElement("div",{dangerouslySetInnerHTML:{__html:b||ks.invalidFile}})),l().createElement("div",{className:"et-vb-modal-portability-options-field"},l().createElement("h3",null,(0,a.__)("Options","et_builder")),!G&&l().createElement(i.Fragment,null,l().createElement(E.Checkboxes,{name:"import-options-replace-layout",options:[{label:(0,a.__)("Replace existing content.","et_builder"),value:"replaceLayout"}],value:T?["replaceLayout"]:[],onChange:({inputValue:e})=>{const t=e.length>0;D(t)}}),l().createElement(E.Checkboxes,{name:"import-options-import-backup",options:[{label:(0,a.__)("Download backup before importing","et_builder"),value:"importBackUp"}],value:F?["importBackUp"]:[],onChange:({inputValue:e})=>{const t=e.length>0;P(t)}})),!V&&l().createElement(E.Checkboxes,{name:"import-options",options:[{label:(0,a.__)("Import Presets","et_builder"),value:"includeGlobalPresets"}],value:L?["includeGlobalPresets"]:[],onChange:({inputValue:e})=>{const t=e.length>0;R(t)}}),G&&!L&&$&&l().createElement(E.Checkboxes,{name:"import-options-import-cloud",options:[{label:(0,a.__)(`Import To ${K} Cloud`,"et_builder"),value:"importToCloud"}],value:V?["importToCloud"]:[],onChange:({inputValue:e})=>{const t=e.length>0;B(t)}})),l().createElement(p.HelpButton,{onHelpClick:n}))))),l().createElement(p.Footer,{buttons:[{name:"portability",label:Y?(0,a.__)("Import Divi Builder Layout","et_builder"):(0,a.__)("Export Divi Builder Layout","et_builder"),showIcon:!1,showLabel:!0,showTooltip:!1,onClick:Y?()=>t(d,W,h,M,A,O,y):()=>r(k,A,O,""!==_?_:e)}]})))},Ms=async e=>await Promise.all(e.map((async e=>{if("images"===e.variableType)try{if(e.value.startsWith("data:image/"))return e;const t=new URL(window.location.origin);if(new URL(e.value).hostname!==t.hostname)return e;const r=await(async e=>{try{const t=await fetch(e),r=await t.blob();return new Promise(((e,t)=>{const n=new FileReader;n.onloadend=()=>e(n.result),n.onerror=t,n.readAsDataURL(r)}))}catch(t){return console.error("Error converting image to base64:",t),e}})(e.value);return{...e,value:r}}catch(t){return console.error("Failed to convert image to base64:",t),e}return e}))),Is=(e,t,r,n,o)=>{t+=Date.now()-e,r++;const a=Math.round(r/n*100);return o(a>0?a:1),{totalTime:t,processedItems:r}},As=({data:e,presets:t,images:r,tags:n,categories:o,totalItems:a,processedItems:i,setError:l,setProgress:c,setEstimation:u})=>{const p=(0,d.select)("divi/cloud-app").getCloudToken(),m=window.ETCloudApp.getActiveFolderEndpoint();let f=0;return Promise.all(e.map(((e,d)=>{const u={},g=[],v=[];Object.values(e.terms).forEach((({taxonomy:e,name:t})=>{u[e]=t;let r=null,a=null;switch(e){case"layout_category":r=(0,s.find)(o,["name",t]),(0,s.isUndefined)(r)||v.push(r.id);break;case"layout_tag":a=(0,s.find)(n,["name",t]),(0,s.isUndefined)(a)||g.push(a.id)}}));const h={context:"et_builder",data:{1:e.post_content},global_colors:e.global_colors,presets:t[d],images:r[d]},b={content:JSON.stringify(h),title:e.post_title,status:"publish",width:u.module_width,tags:g,cats:v,meta:{_et_pb_module_type:"",_et_pb_row_layout:""}};(0,s.has)(e,"post_meta._et_pb_module_type")&&(b.meta._et_pb_module_type=(0,s.first)(e.post_meta._et_pb_module_type)),(0,s.has)(e,"post_meta._et_pb_row_layout")&&(b.meta._et_pb_row_layout=(0,s.first)(e.post_meta._et_pb_row_layout));const y=Date.now();return qt(p,u.layout_type,b,{},(e=>((e,t)=>{if(e.error&&"max_free_items"===e.error)l(!0),window.ETCloudApp.emitSignal({signal:"showLimitExceededError",data:{}});else{const{totalTime:e,processedItems:r}=Is(t,f,i,a,c);f=e,i=r}})(e,y)),0,m)}))).then((()=>{const e=f/i,t=a-i,r=Math.round(t*e/100);u(r>0?r:1)})).catch((e=>{console.log(e)}))},Ns=async e=>{const t={tags:[],categories:[]},r=[];if((0,s.forEach)(e,(e=>((0,s.isEmpty)(e.terms)||(0,s.forEach)(e.terms,(e=>{let t;switch(e.taxonomy){case"layout_tag":t={taxonomy:"tags",name:e.name};break;case"layout_category":t={taxonomy:"categories",name:e.name}}t&&!(0,s.find)(r,t)&&r.push(t)})),Promise.resolve(t)))),(0,s.isEmpty)(r))return Promise.resolve(t);return(0,s.chunk)(r,5).reduce(((e,r)=>e.then((async()=>{const e=[];return(0,s.forEach)(r,(({name:r,taxonomy:n})=>{e.push(Ut(r,n,(0,d.select)("divi/cloud-app").getCloudToken()).then((e=>{(0,s.isEmpty)(e)||(({id:e,name:r,taxonomy:n})=>{"tags"!==n&&"categories"!==n||t[n].push({id:e,name:r})})({name:r,...e})})))})),await Promise.all(e),t}))),Promise.resolve()).catch((e=>{console.error(e)}))},Os=async({data:e,importToCloud:t,includeGlobalPresets:r,setIsImporting:n,setProgress:o,setError:a,setEstimation:i,totalItems:l})=>{const c=[],u=[],p=[];e.forEach((e=>{const t=JSON.parse(e.postContent);Object.values(t.data).forEach((e=>c.push(e))),"on"===r&&t.presets&&u.push(t.presets),p.push(t.images)}));const m={tags:[],categories:[]},f=await Ns(c);f&&f.tags&&(m.tags=f.tags),f&&f.categories&&(m.categories=f.categories);const g=Math.max(c.length,u.length,p.length),v=Math.ceil(g/5),h=(0,s.chunk)(c,Math.ceil(c.length/v)),b=(0,s.chunk)(u,Math.ceil(u.length/v)),y=(0,s.chunk)(p,Math.ceil(p.length/v));let E=0,w=0;await h.reduce(((e,r,n)=>e.then((async()=>{const e=Date.now();"on"===t?await As({data:r,presets:b[n]||[],images:y[n]||[],tags:m.tags,categories:m.categories,setError:a,setProgress:o,setEstimation:i,totalItems:l,processedItems:E}):await(({data:e,presets:t,images:r,totalItems:n,processedItems:o,setError:a,setProgress:i,setEstimation:l})=>{let s=0;return Promise.all(e.map(((e,l)=>{const c={},u=[];Object.values(e.terms).forEach((({id:e,taxonomy:t,name:r})=>{switch(c[t]=r,t){case"layout_category":case"layout_tag":u.push({id:e,name:r})}})),(0,d.dispatch)("divi/cloud-app").setLibraryTerms("layout_tag",[]),(0,d.dispatch)("divi/cloud-app").setLibraryTerms("layout_category",u);const p=Array.isArray(t)&&t.length,m=Array.isArray(r)&&r.length,f=new FormData;f.append("layout_name",e.post_title),f.append("post_type",e.post_type),f.append("layout_content",e.post_content),f.append("presets",p&&t[l]?JSON.stringify(t[l]):null),f.append("images",m&&r[l]?JSON.stringify(r[l]):null),f.append("layout_type",c.layout_type),f.append("module_width",c.module_width),f.append("layout_scope",c.layout_scope),f.append("module_type",c.layout_scope),f.append("module_width",c.module_width);const g=Date.now();return new Promise(((e,t)=>{(0,zt.loggedFetch)({method:"POST",restRoute:"/divi/v1/divi-library/create-item",data:f},!0).then((t=>{const{totalTime:r,processedItems:a}=Is(g,s,o,n,i);s=r,o=a,e(t)})).catch((e=>{a(!0),t(e),console.log(e)}))}))}))).then((()=>{const e=s/o,t=n-o,r=Math.round(t*e/100);l(r>0?r:1)})).catch((e=>{console.log(e)}))})({data:r,presets:b[n]||[],images:y[n]||[],setError:a,setProgress:o,setEstimation:i,totalItems:l,processedItems:E});const s=Date.now();w+=s-e,E+=r.length;const c=Math.round(E/l*100);o(c>0?c:1)}))),Promise.resolve());const _=w/E,C=l-E;i(Math.round(C*_/1e3)),o(100),setTimeout((()=>{n(!1),(0,d.dispatch)("divi/modal-library").close({name:"divi/portability"})}),1e3),"on"===t?(Vt.clearData(),window.ETCloudApp.emitSignal({signal:"refreshCloudItems",data:{}})):(0,d.dispatch)("divi/cloud-app").purgeLibraryData()},Ts=({files:e,importOptionsValues:t,setError:r,setProgress:n,setIsImporting:o,setEstimation:a})=>{const i=[],l=e.length,{importToCloud:c,includeGlobalPresets:u}=t;if(((e,t,r)=>{const n=Vt.getData(["totalCloudItems"],0),o=Pt((0,d.select)("divi/cloud-app").getCloudToken());if("free"===(0,s.get)(o,"dcst","")&&"on"===e&&r-n<t)return window.ETCloudApp.emitSignal({signal:"showLimitExceededError",data:{}}),!0;return!1})(c,l,50))return;r(!1),o(!0);(async()=>{try{const t=await Promise.all(e.map((e=>(e=>new Promise(((t,n)=>{const a=new FileReader;a.onload=e=>{const a={postContent:e.target?.result};return a.postContent?t(a):(r(!0),o(!1),n())},a.onerror=e=>{r(!0),o(!1),console.log(e),n()},a.readAsText(e)})))(e))));i.push(...t);const l=i.reduce(((e,t)=>{const r=JSON.parse(t.postContent);return e+Object.values(r.data).length}),0);await Os({data:i,importToCloud:c,includeGlobalPresets:u,setIsImporting:o,setProgress:n,setError:r,setEstimation:a,totalItems:l})}catch(e){console.log(e)}})().catch((e=>{console.log(e)}))},Ds={component:e=>{const{attributes:t,pageTitle:r,pageID:n,pageContent:o,adminUrl:a,usedGlobalColors:l,usedGlobalVariables:c,isModuleModalActive:u,modulePresets:p,usedPresetModules:m,allGroupPresets:f}=(0,d.useSelect)((e=>{const t=e("divi/edit-post").getContent();let r=e("divi/serialized-post").getUsedGlobalColorIds(),n=(0,Gt.extractGlobalVariablesIds)(JSON.stringify(t));const o=e("divi/edit-post").getUsedPresets(),a=e("divi/global-data").getAllPresetData(),i=((e,t)=>{const r={};return(0,s.isEmpty)(t)||(0,s.forEach)(e?.module??{},((e,n)=>{if((0,s.has)(t,n)){const o={};e.forEach((e=>{const r=(0,R.getSelectedPresetOrDefault)(e,t[n].default),a=t[n].items[r];let i={...a},l=!0;["attrs","styleAttrs","renderAttrs"].forEach((e=>{switch(e){case"attrs":case"styleAttrs":case"renderAttrs":if((0,s.has)(a,e)){const t=(0,R.removeEmptyObjectRecursive)(a[e]);(0,s.isEmpty)(t)?delete i[e]:(0,s.isEqual)(t,a[e])||(i={...i,[e]:t}),"attrs"!==e||(0,s.isEmpty)(t)||(l=!1)}}})),l||(0,s.isEmpty)(i)||(o[r]=i)})),(0,s.isEmpty)(o)||(r[n]={default:t[n].default,items:o})}})),r})(o?.asMutable({deep:!0}),a?.asMutable({deep:!0}));return(0,s.isEmpty)(i)||(r=(0,s.uniq)(r.concat((0,R.extractGlobalColorIdsUsedInPresets)(i))),n=(0,s.uniq)(n.concat((0,R.extractGlobalVariablesIdsUsedInPresets)(i)))),{attributes:e("divi/modal-library").getModalProperty({modalName:"divi/portability",property:"attributes"}),pageTitle:e("divi/settings").getSetting(["post","title"]),pageID:e("divi/settings").getSetting(["post","id"]),pageContent:t,adminUrl:e("divi/settings").getSetting(["urls","admin"]),usedGlobalColors:e("divi/global-data").getGlobalColorsToExport(r),usedGlobalVariables:e("divi/global-data").getGlobalVariablesToExport(n),usedPresetModules:o,allGroupPresets:e("divi/global-data").getAllPresetData({presetType:"group"}),isModuleModalActive:e("divi/modal-library").isModalActive("divi/portability"),modulePresets:i}})),{afterPortabilityClose:g,isCloudAppAction:v,layoutContent:h,layoutId:b}=t,y=(e,t,r,n,o,i)=>{(0,zt.loggedFetch)({method:"POST",restRoute:"/divi/v1/portability/export",data:e},!0).then((l=>{const c=(0,s.get)(l,"timestamp","");if(void 0!==l.page&&void 0!==l.totalPages){const a=e;a.append("page",String(Number(l.page)+1)),a.append("timestamp",c),y(a,t,r,n,o,i);const s=Math.ceil(100*parseInt(l.page)/parseInt(l.totalPages)),d=Math.ceil(6*(parseInt(l.totalPages)-parseInt(l.page))/60);t&&(r(s),n(d))}else{const e=new URL(a),{searchParams:n}=e;n.set("et_core_portability","1"),n.set("name",i),n.set("timestamp",c);const l=e.toString();window.onbeforeunload=null,window.location.assign(l),t&&(r(100),setTimeout((()=>{o(!1),(0,d.dispatch)("divi/modal-library").close({name:"divi/portability"})}),1e3))}})).catch((e=>{console.log(e)})).finally((()=>{g&&g()}))};return(0,i.createElement)(xs,{onExportClick:async(e,t,r,a)=>{t(0),e(!0);const i=new FormData;if(v)i.append("context","et_builder_layouts"),i.append("post",b),i.append("content",h),i.append("portability_type","post_type");else{i.append("context","et_builder"),i.append("post",n),i.append("content",(0,Gt.serializeModuleFlatObjects)(o.asMutable({deep:!0}))),i.append("global_colors",JSON.stringify(l));const e=await Ms(c);i.append("global_variables",JSON.stringify(e));const t=((e,t)=>{const r={};if((0,s.isEmpty)(t))return r;const n={};return(0,s.forEach)(e?.group??{},(e=>{(0,s.forEach)(e,(e=>{(0,s.forEach)(e,((e,o)=>{(0,s.has)(t,o)&&(n[o]||(n[o]={}),e.forEach((e=>{const r=(0,R.getSelectedPresetOrDefault)(e,t[o].default),a=t[o].items[r];let i={...a},l=!0;["attrs","styleAttrs","renderAttrs"].forEach((e=>{switch(e){case"attrs":case"styleAttrs":case"renderAttrs":if((0,s.has)(a,e)){const t=(0,R.removeEmptyObjectRecursive)(a[e]);(0,s.isEmpty)(t)?delete i[e]:(0,s.isEqual)(t,a[e])||(i={...i,[e]:t}),"attrs"!==e||(0,s.isEmpty)(t)||(l=!1)}}})),l||(0,s.isEmpty)(i)||o!==i.groupName||(n[o][r]=i)})),(0,s.isEmpty)(n[o])||(r[o]={default:t[o].default,items:{...n[o]}}))}))}))})),r})(m?.asMutable({deep:!0}),f?.asMutable({deep:!0})),r={};(0,s.isEmpty)(p)||(r.module=p),(0,s.isEmpty)(t)||(r.group=t),(0,s.isEmpty)(r)||i.append("global_presets",JSON.stringify(r))}y(i,!0,t,r,e,a)},onImportClick:(e,t,a,i,l,c,p)=>{if(v){const r=Array.isArray(e)?e:[e];Ts({files:r,importOptionsValues:t,setError:a,setProgress:l,setIsImporting:i,setEstimation:c})}if(v||Array.isArray(e))return;if(!e||""===e.name)return void a(!0);a(!1),p(null),l(0),i(!0);const{importBackUp:m,includeGlobalPresets:f}=t,g=new FormData;g.append("post",n),g.append("content",(0,Gt.serializeModuleFlatObjects)(o.asMutable({deep:!0}))),g.append("file",e),g.append("import_backup",m),g.append("include_global_presets",f),g.append("context","et_builder"),"on"===m&&y(g,!1,null,null,null,r);const h=e=>{(0,zt.loggedFetch)({method:"POST",restRoute:"/divi/v1/portability/import",data:e},!0).then((r=>{if(void 0!==r.page&&void 0!==r.totalPages){const t=e;t.append("page",String(Number(r.page)+1)),t.append("timestamp",r.timestamp),t.append("file",null);const n=Math.ceil(100*parseInt(r.page)/parseInt(r.totalPages)),o=Math.ceil(6*(parseInt(r.totalPages)-parseInt(r.page))/60);l(n),c(o),h(t)}else{if(!r.postContent){a(!0);const e=r?.statusText;return(async()=>{try{const t=r?.clone();return(await(t?.json()))?.message||e}catch(t){return console.log(t),e}})().then((e=>{p(e)})).catch((t=>{console.log(t),p(e)})),void i(!1)}if(l(99),u&&"on"===t.replaceLayout&&(0,d.dispatch)("divi/modal-library").close({name:"divi/module"}),r.globalColors){const e=(0,R.extractGlobalColorIdsUsedInPresets)(r.presets),t=(0,Gt.extractGlobalColorIds)(r.postContent).concat(e);(0,d.dispatch)("divi/global-data").importGlobalColors((0,s.uniq)(t),r.globalColors)}r.globalVariables&&!(0,s.isEmpty)(r.globalVariables)&&((0,d.dispatch)("divi/global-data").addGlobalVariables(r.globalVariables),(0,d.dispatch)("divi/global-data").saveGlobalVariables(),(0,d.dispatch)("divi/global-data").updateGlobalVariablesBackup());let e={},n={},o={},c={};(0,Fr.maybeConvertPresetsData)(r.presets).then((a=>{if(r.presets&&"on"===t.includeGlobalPresets){const t=(0,R.processPresets)(a);e=t.newIds,o=t.defaultImportedModulePresetIds,c=t.defaultImportedGroupPresetIds,(0,d.dispatch)("divi/global-data").importPresets((0,R.removeEmptyObjectRecursive)(t.presets,!0))}r.presets&&"on"!==t.includeGlobalPresets&&(n=(0,R.getDefaultPresetAttrs)(a)),(0,d.dispatch)("divi/edit-post").importContent({content:r.postContent,presetIdsToReplace:e,defaultPresetAttrs:n,importOptionsValues:t,defaultImportedModulePresetIds:o,defaultImportedGroupPresetIds:c}),l(100)})).catch((e=>{throw e})),setTimeout((()=>{i(!1),(0,d.dispatch)("divi/modal-library").close({name:"divi/portability"})}),1e3)}})).catch((e=>{console.log(e)}))};h(g)},onHelpClick:()=>{(0,d.dispatch)("divi/help").setCurrentListName("divi/portability"),(0,d.dispatch)("divi/help").setCurrentVideo(0),(0,d.dispatch)("divi/modal-library").open({name:"divi/help"})},attributes:t,pageTitle:r,...e})},name:_s,label:Cs,videos:[{id:"PBmijAL4twA",name:"Importing and exporting layouts"}],dimension:Ss,snappable:!0,type:"multiInstanceModal",autoCloseOnClickOutside:!0,isSubmodal:!0},Fs="divi/progress-bar",Ps=(0,a.__)("Progress bar","et_builder"),Ls=({attributes:{heading:e,progress:t}})=>l().createElement(u.ErrorBoundary,{componentName:"et-vb-divi-modals--progressbar"},l().createElement(l().Fragment,null,l().createElement(p.WrapperContainer,{centered:!0,dimension:{width:500,height:100},modalName:Fs},l().createElement(p.Header,{name:e}),l().createElement(p.BodyContainer,null,l().createElement("div",{className:"et-vb-modal-progressbar"},l().createElement(m.ProgressBar,{progress:t})))))),Rs={name:Fs,label:Ps,type:"multiInstanceModal",component:()=>{const{attributes:e}=(0,d.useSelect)((e=>({attributes:e("divi/modal-library").getModalProperty({modalName:"divi/progress-bar",property:"attributes"})})),[]);return(0,i.createElement)(Ls,{attributes:e})},canBeSavedOnWorkspace:!1},Vs=({onCloseButton:e})=>l().createElement(u.ErrorBoundary,{key:"et-vb-divi-modals--quick-actions",componentName:"et-vb-divi-modals--quick-actions"},l().createElement(p.WrapperContainer,{modalName:"divi/quick-actions",centered:!0},l().createElement("div",{className:"et-vb-modal-quick-actions-search"},l().createElement("input",{type:"text",className:"et-vb-modal-quick-actions-search-input",placeholder:(0,a.__)("Search...","et_builder")}),l().createElement("button",{type:"button",className:"et-vb-modal-quick-actions-button-settings"},l().createElement("span",{className:"et-vb-modal-quick-actions-button-label"},(0,a.__)("Settings","et_builder"))),l().createElement("button",{type:"button",className:"et-vb-modal-quick-actions-button-close",onClick:f.handleOnClickFallback,onMouseDown:t=>{t.preventDefault(),e()}},l().createElement("span",{className:"et-vb-modal-quick-actions-button-label"},(0,a.__)("Close","et_builder")))),l().createElement("div",{className:"et-vb-modal-quick-actions-result"},l().createElement("button",{type:"button",className:"et-vb-modal-quick-actions-result-item"},(0,a.__)("Insert","et_builder")),l().createElement("button",{type:"button",className:"et-vb-modal-quick-actions-result-item"},(0,a.__)("Layout","et_builder")),l().createElement("button",{type:"button",className:"et-vb-modal-quick-actions-result-item"},(0,a.__)("View","et_builder")),l().createElement("button",{type:"button",className:"et-vb-modal-quick-actions-result-item"},(0,a.__)("Page","et_builder")),l().createElement("button",{type:"button",className:"et-vb-modal-quick-actions-result-item"},(0,a.__)("Builder","et_builder")),l().createElement("button",{type:"button",className:"et-vb-modal-quick-actions-result-item"},(0,a.__)("Go To","et_builder")),l().createElement("button",{type:"button",className:"et-vb-modal-quick-actions-result-item"},(0,a.__)("Help","et_builder")),l().createElement("button",{type:"button",className:"et-vb-modal-quick-actions-result-item"},(0,a.__)("Open","et_builder"))))),Bs=({dimension:e,offset:t})=>{const r=()=>{(0,d.dispatch)("divi/modal-library").close({name:"divi/quick-actions"})};return(0,i.useEffect)((()=>{const e="onCloseButton";return(0,L.registerShortcut)({name:e,label:(0,a.__)("Close Quick Action","et_builder"),keys:["Escape"],category:"modal",action:r}),()=>{(0,L.unregisterShortcut)(e)}}),[]),l().createElement(Vs,{dimension:e,offset:t,onCloseButton:r})},js={name:"divi/quick-actions",label:(0,a.__)("Quick Actions","et_builder"),type:"multiInstanceModal",component:Bs},qs=({name:e,onDiscardAndExit:t,onSaveAndExit:r,onCloseModal:n})=>{const o=()=>{(0,d.dispatch)("divi/modal-library").close({name:e})},s=(0,i.useCallback)((()=>[{name:"exit",label:(0,a.__)("Discard & Exit","et_builder"),onClick:e=>{e.preventDefault(),o(),t()}},{name:"save",buttonColor:"primary",label:(0,a.__)("Save & Exit","et_builder"),onClick:e=>{e.preventDefault(),o(),r()}}]),[t,r]);return l().createElement(u.ErrorBoundary,{key:"et-vb-divi-modals--unsaved-changes",componentName:"et-vb-divi-modals--unsaved-changes"},l().createElement(l().Fragment,null,l().createElement(p.WrapperContainer,{modalName:e,dimension:{width:280,height:267},centered:!0},l().createElement(p.Header,{name:(0,a.__)("You Have Unsaved Changes","et_builder"),onClickCloseButton:()=>{o(),n()}}),l().createElement(p.BodyContainer,null,l().createElement(p.Panel,{id:"unsaved-changes",opened:!0},(0,i.createElement)("p",{dangerouslySetInnerHTML:{__html:(0,a.__)("Your page contains changes that have not been saved. If you close the builder without saving, these changes will be lost. If you would like to leave the builder and save all changes, please select <strong>Save & Exit</strong>. If you would like to discard all recent changes, choose <strong>Discard & Exit</strong>.","et_builder")}}))),l().createElement(p.Footer,{buttons:s()}))))},Ws="divi/unsaved-changes",Us=()=>{const{attributes:e}=(0,d.useSelect)((e=>({attributes:e("divi/modal-library").getModalProperty({modalName:"divi/unsaved-changes",property:"attributes"})})));return l().createElement(qs,{name:Ws,onDiscardAndExit:e?.onDiscardAndExit,onSaveAndExit:e?.onSaveAndExit,onCloseModal:e?.onCloseModal})},Hs=(0,a.__)("Unsaved Changes","et_builder"),zs={name:Ws,label:Hs,type:"multiInstanceModal",component:Us,canBeSavedOnWorkspace:!1},Gs=e=>{if("on"===e.fontWeight.all)return"all";const t=[];return(0,s.forEach)(e.fontWeight,((e,r)=>{"on"===e&&t.push(r)})),t.join(",")},$s=[{label:(0,a.__)("Thin 100","et_builder"),value:"100"},{label:(0,a.__)("Ultra Light 200","et_builder"),value:"200"},{label:(0,a.__)("Light 300","et_builder"),value:"300"},{label:(0,a.__)("Regular 400","et_builder"),value:"400"},{label:(0,a.__)("Medium 500","et_builder"),value:"500"},{label:(0,a.__)("Semi Bold 600","et_builder"),value:"600"},{label:(0,a.__)("Bold 700","et_builder"),value:"700"},{label:(0,a.__)("Ultra Bold 800","et_builder"),value:"800"},{label:(0,a.__)("Heavy 900","et_builder"),value:"900"}],Ks="divi/upload-font",Zs=({supportedFileFormats:e,customFonts:t,uploadFont:r,closeModal:n,onChange:o})=>{const[c,d]=(0,i.useState)({fontName:"",fontWeight:{all:"on"},files:{}}),[g,v]=(0,i.useState)(""),[h,b]=(0,i.useState)(!1),[y,_]=(0,i.useState)([]),C=(0,i.useRef)(null),S=()=>{const e=(e=>{const t=[];let r="";""===e.fontName&&t.push("fontName"),(0,s.isEmpty)(e.files)&&(r=(0,a.__)("Please select at least one file.","et_builder"),t.push("fontFile"));const n=(0,s.keys)(e.fontWeight).filter((t=>"on"===e.fontWeight[t]));return"on"!==e.fontWeight.all&&(0,s.isEmpty)((0,s.keys)(n))&&t.push("fontWeight"),{success:(0,s.isEmpty)(t),errorMessage:r,errorElements:t}})(c);if(!e.success)return v(e.errorMessage),void((0,s.isEmpty)(e.errorElements)||_(e.errorElements));const i=new FormData;i.append("et_pb_font_name",c.fontName);const l=JSON.stringify({font_weights:Gs(c),generic_family:"sans-serif"});i.append("et_pb_font_settings",l),(0,s.forEach)(c.files,((e,t)=>{i.append(`et_pb_font_file_${t}`,e.file)})),b(!0),(0,zt.loggedFetch)({method:"POST",restRoute:"/divi/v1/custom-font/add",data:i}).then((e=>{b(!1),(0,s.isEmpty)(e.updated_fonts)?r(t):r(e.updated_fonts),(0,s.isEmpty)(e.uploaded_font)||o({inputValue:e.uploaded_font}),n()})).catch((e=>{b(!1),v(e.message)}))},k=(0,s.keys)(c.fontWeight).filter((e=>"on"===c.fontWeight[e]));return l().createElement(u.ErrorBoundary,{componentName:"et-vb-divi-modals--font-upload"},l().createElement(l().Fragment,null,l().createElement(p.WrapperContainer,{modalName:Ks,draggable:!0,expandable:!0,resizable:!0,dimension:null},l().createElement(p.Header,{name:(0,a.__)("Upload Font","et_builder")}),h?l().createElement(m.Loading,null):l().createElement(l().Fragment,null,l().createElement(p.BodyContainer,null,l().createElement(p.PanelContainer,{id:"font-upload",opened:!0},l().createElement("div",{className:"et-vb-divi-modals--font-upload"},!(0,s.isEmpty)(g)&&l().createElement("div",{className:"et-fb-font-upload-error"},g),l().createElement(p.FieldWrapper,{label:(0,a.__)("Font Name","et_builder")},l().createElement(E.Text,{name:"font-name",value:c.fontName,defaultValue:(0,a.__)("Name Your Font","et_builder"),className:y.includes("fontName")?"et-fb-font-error-element":"",onChange:({inputValue:e})=>{d({...c,fontName:e})}})),l().createElement("div",{className:"et-vb-modal-upload-file-container"},l().createElement("div",{className:"et-vb-modal-import-placeholder"},l().createElement("span",{className:"et-core-portability-import-placeholder"},(0,a.__)("Choose Font Files","et_builder")),l().createElement("input",{ref:C,type:"file",className:"et-vb-modal-import-file",accept:".ttf, .otf, .eot, .woff2, .woff",multiple:!0,onChange:t=>{const{files:r}=t.target;let n=c.files;(0,s.size)(r)<1||((0,s.forEach)(r,(t=>{const r=(0,s.toLower)((0,s.get)(t,"name",""));(0,s.forEach)(e,(e=>{(0,s.endsWith)(r,e)&&(n={...n,[e]:{fileName:r,file:t}})}))})),d({...c,files:n}),C.current.value=null)}})),l().createElement("p",{className:"et-font-uploader-hint"},(0,a.__)("Supported File Formats: ","et_builder"),e.join(", "))),!(0,s.isEmpty)(c.files)&&l().createElement("div",{className:"et-vb-font-files-list"},l().createElement("label",{className:"et-vb-field-label"},(0,a.__)("Selected Font Files:","et_builder")),(0,s.map)(c.files,((e,t)=>l().createElement("div",{className:"et-vb-font-files-list-item",key:t},l().createElement("span",{className:"et-vb-font-files-list-item-remove",onClick:f.handleOnClickFallback,onKeyDown:s.noop,role:"button",tabIndex:0,"aria-label":"Remove Font",onMouseDown:()=>{const e={...c.files};delete e[t],d({...c,files:e})}},l().createElement(w.IconSvg,{name:"divi/delete",color:"#EF5555"})),e.fileName)))),l().createElement(p.FieldWrapper,{label:(0,a.__)("Supported Font Weights","et_builder"),description:(0,a.__)('Choose the font weights supported by your font. Select "All" if you don\'t know this information or if your font includes all weights.',"et_builder"),className:y.includes("fontWeight")?"et-fb-font-error-element":""},l().createElement(E.Checkboxes,{name:"font-weight-all",value:"on"===c.fontWeight.all?["all"]:[],options:[{label:(0,a.__)("All","et_builder"),value:"all"}],onChange:({inputValue:e})=>{const t=e.length>0,r={...c.fontWeight,all:t?"on":"off"};d({...c,fontWeight:r})}}),"off"===c.fontWeight.all&&l().createElement(E.Checkboxes,{name:"font-weight",value:k,options:$s,onChange:({inputValue:e})=>{const t=$s.reduce(((t,r)=>{const n=r.value;return t[n]=e.includes(n)?"on":"off",t}),{}),r={...c.fontWeight,...t};d({...c,fontWeight:r})}}))))),l().createElement(p.Footer,{buttons:[{name:"upload",label:(0,a.__)("Upload","et_builder"),onClick:e=>{e.preventDefault(),S()}}]})))))},Ys=(0,a.__)("Upload Font","modal-library"),Js={name:Ks,label:Ys,type:"multiInstanceModal",component:()=>{const{attributes:e,supportedFileFormats:t,customFonts:r}=(0,d.useSelect)((e=>({attributes:e("divi/modal-library").getModalProperty({modalName:"divi/upload-font",property:"attributes"}),supportedFileFormats:e("divi/settings").getSetting(["fonts","formats"]),customFonts:e("divi/fonts").getCustomFonts()}))),n={supportedFileFormats:t?.asMutable(),customFonts:r,onChange:e.onChange,uploadFont:e=>{(0,d.dispatch)("divi/fonts").setCustomFonts(e)},closeModal:()=>(0,d.dispatch)("divi/modal-library").close({name:"divi/upload-font"})};return(0,i.createElement)(Zs,n)}},Xs={[j.name]:j,[lr.name]:lr,[mr.name]:mr,[kr.name]:kr,[br.name]:br,[Ar.name]:Ar,[Dr.name]:Dr,[Vr.name]:Vr,[nn.name]:nn,[mn.name]:mn,[Jn.name]:Jn,[mo.name]:mo,[bo.name]:bo,[Vo.name]:Vo,[Wo.name]:Wo,[Go.name]:Go,[ra.name]:ra,[ca.name]:ca,[ws.name]:ws,[Kl.name]:Kl,[Ds.name]:Ds,[Rs.name]:Rs,[js.name]:js,[zs.name]:zs,[Js.name]:Js},Qs=(0,o.applyFilters)("divi.modalLibrary.modalMapping",Xs);var ec=window.divi.middleware;const tc=e=>({type:"ADD_MODAL",modal:e}),rc=e=>({type:"CLOSE",params:e}),nc=e=>({type:"EXPAND",params:e}),oc=e=>({type:"OPEN",params:e}),ac=e=>({type:"OPEN_GROUP",params:e}),ic=e=>({type:"OPEN_GROUP_TAB",params:e}),lc=e=>({type:"OPEN_TAB",params:e}),sc=e=>({type:"REMOVE_MODAL",name:e}),cc=e=>({type:"SET_ATTRIBUTES",params:e}),dc=e=>({type:"SET_BODY_SIBLING_HEIGHT",params:e}),uc=e=>({type:"SET_DIMENSION",params:e}),pc=e=>({type:"SET_DRAGGING_STATE",params:e}),mc=e=>({type:"SET_AI_ACTIVE_FIELD",params:e}),fc=e=>({type:"HANDLE_AI_RESULT",params:e}),gc=e=>({type:"SET_IS_MODAL_CLOSING",params:e}),vc=e=>({type:"SET_IS_RESIZING",params:e}),hc=e=>({type:"SET_LAYERS_VIEW_ACTIVE_MODULE_ID",params:{name:"divi/layers",activeLayerModuleId:e}}),bc=e=>({type:"SET_LAYERS_VIEW_EXPAND_ALL",params:{name:"divi/layers",expandAllInfo:e}}),yc=e=>({type:"SET_LAYERS_VIEW_FILTER",params:{name:"divi/layers",filterInfo:e}}),Ec=e=>({type:"SET_LAYERS_VIEW_MODULE",params:{name:"divi/layers",moduleInfo:e}}),wc=e=>({type:"SET_LAYERS_VIEW_SEARCH",params:{name:"divi/layers",searchInfo:e}}),_c=e=>({type:"SET_OFFSET",params:e}),Cc=e=>({type:"SET_PANEL_SIZE",params:e}),Sc=e=>({type:"SET_SIDEBAR_POSITION",params:e}),kc=e=>({type:"SET_TIMESTAMP",params:e}),xc=(e,t,r)=>({...(0,s.merge)(e?.asMutable({deep:!0}),{...t,attributes:r}),group:{}}),Mc={merge:xc,replace:(e,t,r)=>({...(0,s.merge)(e?.asMutable({deep:!0}),t),attributes:r,group:{}})},Ic=(e,t)=>{const r=e?.params?.name;if(!r||!["divi/module","divi/module-shortcode"].includes(r))return;if(!(0,d.select)("divi/modal-library").isModalActive(t))return;const n=e?.params?.owner;n&&(0,d.dispatch)("divi/modal-library").open({name:t,owner:n})},Ac={OPEN:[(e,t)=>{const r=t.getState(),n=e?.params?.name;if("singleInstanceModal"===r.getIn([n,"type"])&&r.getIn([n,"overwrittenModalName"])){const e=r.getIn([n,"overwrittenModalName"]);(0,d.dispatch)("divi/app-ui").replaceSidebarModal({modalName:n,overwrittenModalName:e});const t=r.getIn([e,"sidebarPosition"]);t&&(0,d.dispatch)("divi/modal-library").setSidebarPosition({name:n,sidebarPosition:t})}},e=>{const t=e?.params?.name;if((0,d.select)("divi/app-ui").isSidebarModal(t))return;if("saved"===(0,d.select)("divi/app-preferences").get(["modal","preference"]))return;const r=(0,d.select)("divi/modal-library").getModal(t),n=r?.sidebarPosition??!1;if(!n)return;const o="left"===n?"sidebarLeft":"sidebarRight";if((0,d.select)("divi/app-ui").getElements()?.[o]?.visible??!1){const e=(0,d.select)("divi/app-ui").getSidebarProps(n)?.rowIds??[],o=e?.[e?.length-1];(0,d.dispatch)("divi/app-ui").dockModalToSidebarRow({modalName:t,modalType:r.type??"multiInstanceModal",newSidebarRowId:Se(),position:"below",sidebarRowId:o})}else(0,d.dispatch)("divi/app-ui").dockModalToSidebar({modalName:t,modalType:r.type??"multiInstanceModal",sidebarName:o})},e=>{let t=null;const r=e?.params?.name;if("divi/library-item-preview"!==r)return;const n=(t,r)=>{(0,d.dispatch)("divi/modal-library").setAttributes({name:"divi/library-item-preview",attributes:{...e.params.attributes,libraryItemProgress:{isProgress:t<100,progress:t},previewUrl:r}})},o=({syncType:e,previewUrl:r})=>{"preview"===e&&r&&(n(98,r),setTimeout((()=>n(100,r)),500)),window.ETCloudApp.emitSignal({signal:"finishDownload",data:{}}),t&&r&&setTimeout((()=>{return e=t,void(0,zt.loggedFetch)({method:"POST",restRoute:"/divi/v1/divi-library/update-item",data:{data:{itemPayload:{updateType:"delete_permanently"},clickedItem:{id:e}}}}).catch((e=>console.log(e)));var e}),5e3)},{content:a,item:i,layoutType:l}=(0,s.get)(e,["params","attributes","data"]),{name:u,width:p,id:m,type:f}=i,g=JSON.stringify(a),v=(e,t)=>{const r=f||l,a={post_id:t,content:{post_content:(0,c.getPreviewBlockStructure)(e,r,p),header:null,body:null,footer:null},syncType:"preview"};(0,zt.loggedFetch)({method:"POST",restRoute:"/divi/v1/sync-to-server",data:a},!0).then((e=>{n(90,null),o(e)})).catch((e=>console.error(e)))};if(a){const e=new FormData,r=new File([g],"layout.json",{type:"application/json"});e.append("file",r),e.append("context","et_builder"),e.append("include_global_presets","on");const n=t=>{const o=e.get("post");(0,zt.loggedFetch)({method:"POST",restRoute:"/divi/v1/portability/import",data:t},!0).then((e=>{if(void 0!==e.page&&void 0!==e.totalPages){const o=t;o.append("page",String(Number(e.page)+1)),o.append("timestamp",e.timestamp),o.append("file",r),n(o)}else{if(!e.postContent)return;v(e?.postContent,o)}})).catch((e=>console.log(e)))},o=new FormData;o.append("layout_name",u),o.append("post_type","et_pb_layout"),o.append("layout_type","layout"),o.append("layout_content",g),(0,zt.loggedFetch)({method:"POST",restRoute:"/divi/v1/divi-library/create-item",data:o},!0).then((r=>{const{post_id:o}=r.layoutData,a=o;t=a,e.append("post",a),n(e)})).catch((e=>console.error("error",e)))}else{const e=m;(0,zt.loggedFetch)({method:"POST",restRoute:"/divi/v1/divi-library/item",data:{id:m,libraryType:f,builtFor:(0,d.select)("divi/settings").getSetting(["post","type"])}},!0).then((t=>{n(65,null),v(t.content,e)})).catch((e=>console.error(e)))}},e=>{Ic(e,"divi/extend-attributes")},e=>{Ic(e,"divi/find-and-replace")}],CLOSE:[(e,t)=>{const r=e?.params?.name,n=(0,d.select)("divi/app-ui").isSidebarModal(r),o="singleInstanceModal"===t.getState().getIn([r,"type"]),a="divi/page-settings"===r,i=!o||o&&a,{active:l,sidebarRowId:s,sidebarName:c}=(0,d.select)("divi/app-ui").getSidebarModalInfo(e?.params?.name);o&&!a?"divi/module"===r||"divi/module-shortcode"===r?(0,d.dispatch)("divi/app-ui").removeSidebarRow({sidebarName:c,sidebarRowId:s}):(0,d.dispatch)("divi/app-ui").replaceSidebarModal({modalName:"divi/page-settings",overwrittenModalName:r}):n&&i&&((0,d.dispatch)("divi/app-ui").undockModalFromSidebarRow({modalName:r,sidebarRowId:s,intent:"closing"}),l&&(0,d.dispatch)("divi/app-ui").setSidebarRowActiveModal({sidebarRowId:s,activeModal:""}))},e=>{"divi/module"===(0,s.get)(e,["params","name"])&&(0,d.dispatch)("divi/app-ui").setAttributeState("value")}]},Nc=()=>e=>t=>{const r=(0,d.select)("divi/modal-library").getModalOwner("divi/module"),n=(0,d.select)("divi/edit-post").getGlobalLayoutId(r),o=(0,d.select)("divi/global-layouts").getLayout(n)?.preEditContent,a=!!o,i=!!n,l="OPEN"===t.type&&t.params.owner===r;if(i&&a&&!l)return(0,d.dispatch)("divi/global-layouts").openConfirmationPopup({id:n}),null;return e(t)},Oc={OPEN:[e=>t=>r=>{if("OPEN"!==r.type)return t(r);const{name:n,attributes:o={}}=r.params;if(!n)return t(r);const a=e.getState(),i=a?.getIn([n]),l=a?.getIn([n]);if(!i)return t(r);const s={toggleTimestamp:(new Date).getTime(),bodySiblingHeight:0,owner:r.params.owner,offset:r.params.offset??l?.getIn(["offset"]),dimension:r.params.dimension??l?.getIn(["dimension"]),tab:r.params.tab??"",groupTab:{},panelSize:1,isResizing:!1,isActive:!0,overwrittenModalName:""},c=((e,t,r,n)=>{const o=Mc[e?.attributesMergeStrategy??"merge"];return o?o(t,r,n):xc(t,r,n)})(i,l,s,o),d={...r,mergedModalState:c};return t(d)},Nc,()=>e=>t=>{const{isPresetActive:r,groupId:n,groupName:o}=(0,d.select)("divi/global-data").getOptionGroupPresetEditMode()||{};r&&(0,d.dispatch)("divi/global-data").closeOptionGroupPresetEditMode({groupId:n,groupName:o});return e(t)}],CLOSE:[Nc]},Tc=(e,t)=>{const r=(0,s.get)(t,"params.name");switch(t.type){case"ADD_MODAL":{const r=(e=>"snappable"in e)(t.modal)?(e=>{let t;switch(e.type){case"single":case"multi":case"confirmation":case"floating":t="multiInstanceModal";break;default:t=e.type}return{...e,type:t}})(t.modal):t.modal,n={...r,isActive:!1,dimension:so.dimension,dimensionMinimum:{...co.dimension,...r?.dimensionMinimum},offset:so.offset,expand:!1,snappable:r?.snappable??!0,owner:"",tab:"",group:{},groupTab:{}},o=e.getIn(["singleInstanceModalNames"])?.asMutable()??[];return"singleInstanceModal"===r.type?(o.push(r.name),e.setIn([r.name],n).setIn(["singleInstanceModalNames"],o)):e.setIn([r.name],n)}case"REMOVE_MODAL":{const r=e.getIn([t.name]),n=e.getIn(["singleInstanceModalNames"]);return"singleInstanceModal"===r.type?e.without(t.name).setIn(["singleInstanceModalNames"],n.filter((e=>e!==t.name))):e.without(t.name)}case"OPEN":return((e,t)=>{const r=t?.params?.name,n=t?.params?.attributes??{};let o=t?.params?.dimension??e?.getIn([r,"dimension"]),a=t?.params?.offset??e?.getIn([r,"offset"]);if(!r)return e;if(t?.params?.workspaceSettings){const{origin:e,target:r}=t?.params?.workspaceSettings,n={offsetLeft:e.modal.offsetLeft-e.appFramePseudoWrapper.marginLeft,offsetTop:e.modal.offsetTop-e.appFramePseudoWrapper.marginTop},i={offsetLeft:n.offsetLeft/e.appFramePseudoWrapper.width,offsetTop:n.offsetTop/e.appFramePseudoWrapper.height,width:e.modal.width/e.appFramePseudoWrapper.width,height:"number"==typeof e.modal.height?e.modal.height/e.appFramePseudoWrapper.height:0},l={offsetLeft:i.offsetLeft*r.appFramePseudoWrapper.width,offsetTop:i.offsetTop*r.appFramePseudoWrapper.height,width:i.width*r.appFramePseudoWrapper.width,height:i.height*r.appFramePseudoWrapper.height},s=l.width<e.modal.minimumWidth,c={offsetTop:l.offsetTop+r.appFramePseudoWrapper.marginTop,offsetLeft:l.offsetLeft+r.appFramePseudoWrapper.marginLeft,width:s?e.modal.minimumWidth:l.width,height:l.height},d=c.offsetLeft>r.topWindow.width/2;o={width:c.width,height:c.height},a={top:c.offsetTop,left:s&&d?c.offsetLeft-(e.modal.minimumWidth-l.width):c.offsetLeft},a.top>r.topWindow.height&&(a.top=r.topWindow.height-("number"==typeof o.height?o.height+20:0)),a.left>r.topWindow.width&&(a.left=r.topWindow.width-(o.width+20))}const i={toggleTimestamp:(new Date).getTime(),bodySiblingHeight:0,owner:t?.params?.owner??"",offset:a,dimension:o,tab:t?.params?.tab??"",groupTab:{},panelSize:1,isResizing:!1,isActive:!0,overwrittenModalName:""},l=t,c=e?.getIn([r])?.asMutable({deep:!0}),d=l.mergedModalState||{...c,...i,attributes:t?.params?.attributes?n:c?.attributes??{},group:{}};if("singleInstanceModal"===d?.type){const t=(0,s.find)(e,(e=>"singleInstanceModal"===e?.type&&e?.isActive));if(t?.owner===d?.owner&&(d.group=t?.group??{}),t&&t?.name!==r){const n=t?.name;return d.overwrittenModalName=n,d.dimension=t?.dimension,d.offset=t?.offset,e.setIn([r],d).setIn([n,"isActive"],!1)}}return e.setIn([r],d)})(e,t);case"SET_BODY_SIBLING_HEIGHT":return e.setIn([r,"bodySiblingHeight"],(0,s.get)(t,["params","bodySiblingHeight"]));case"SET_DIMENSION":{const n=(0,s.get)(t,"params.dimension.width",so.dimension.width),o=(0,s.get)(t,"params.dimension.height",so.dimension.width),a=(0,s.get)(t,"params.minimum.width",co.dimension.width),i=(0,s.get)(t,"params.minimum.height",co.dimension.height);return e.setIn([r,"dimension"],{width:n>=a?n:a,height:o>=i?o:i})}case"SET_OFFSET":{const n=(0,s.get)(t,"params.offset");return e.setIn([r,"offset"],n)}case"SET_IS_MODAL_CLOSING":return e.setIn(["isClosing"],t?.params?.isClosing);case"SET_IS_RESIZING":return e.setIn([r,"isResizing"],t?.params?.isResizing);case"SET_TIMESTAMP":return e.setIn([r,"toggleTimestamp"],(new Date).getTime());case"SET_DRAGGING_STATE":return e.setIn([r,"dragging"],t?.params?.status);case"SET_SIDEBAR_POSITION":if("singleInstanceModal"===e.getIn([r]).type){return e.getIn(["singleInstanceModalNames"]).reduce(((e,r)=>e.setIn([r,"sidebarPosition"],t?.params?.sidebarPosition)),e)}return e.setIn([r,"sidebarPosition"],t?.params?.sidebarPosition);case"SET_PANEL_SIZE":return e.setIn([r,"panelSize"],(0,s.get)(t,["params","panelSize"]));case"EXPAND":{const n=(0,s.get)(t,"params.expand");return e.setIn([r,"expand"],n)}case"OPEN_TAB":return e.setIn([r,"tab"],t.params.tabName);case"OPEN_GROUP":{const n=(0,s.get)(t,"params.tabName",""),o=(0,s.get)(t,"params.groupId",""),a=e.getIn([r,"group",n],""),i=e.setIn([r,"tab"],n);let l=Array.isArray(t.params.groupIds)?Object.values(t.params.groupIds):[t.params.groupIds];return(Array.isArray(a)?Object.values(a):[a]).includes(o)&&(l=l.filter((e=>e!==o&&!e.includes(o)))),i.setIn([r,"group",n],l)}case"OPEN_GROUP_TAB":{const{groupId:n,groupTabName:o}=t.params;return e.setIn([r,"groupTab",n],o)}case"SET_ATTRIBUTES":{const n=(0,s.get)(t,["params","attributes"],!1)?{...e.getIn([r,"attributes"]),...t.params.attributes}:t.params.attributes;return e.setIn([r,"attributes"],n)}case"CLOSE":return((e,t)=>{const r=t?.params?.name,n=e.getIn([r]);if("singleInstanceModal"===n?.type){const t=e.getIn(["singleInstanceModalNames"]),{dimension:o,offset:a,sidebarPosition:i}=n;return t.reduce(((e,t)=>e.setIn([t,"sidebarPosition"],i).setIn([t,"dimension"],o).setIn([t,"offset"],a)),e.setIn([r,"isActive"],!1))}return e.setIn([r,"isActive"],!1)})(e,t);case"SET_LAYERS_VIEW_MODULE":{const{moduleId:n,childrenModuleIds:o,checkChildren:a,data:i}=t.params.moduleInfo;if(a&&o){const t=e.getIn([r,"layersView","modules"]),a=So(o);Object.values(a).forEach((e=>{a[e.id]={...e,...t?.[n],...i}}));const l={...t,...a,[n]:{id:n,...i}};return e.setIn([r,"layersView","modules"],l)}return e.setIn([r,"layersView","modules",n],{id:n,...i})}case"SET_LAYERS_VIEW_EXPAND_ALL":{const n={expand:t.params.expandAllInfo.expandAll},o=So(t.params.expandAllInfo.moduleIds,n);return e.setIn([r,"layersView","modules"],o)}case"SET_LAYERS_VIEW_SEARCH":{const{searchKeyword:n,moduleIds:o}=t.params.searchInfo,a=So(o),i=e.getIn([r,"layersView"]),l=e.getIn([r,"layersView","filterKeyword"]),s=e.getIn([r,"layersView","filterModules"]),c=e.getIn([r,"layersView","isFilterActive"],!1);let u={};if(!n){const t={...i,searchModules:{},isSearchActive:!1,isSearchEmpty:!0,searchKeyword:n};if(c){const{updatedModules:n,isFilterEmpty:o}=(0,ko.B)({layerModules:a,filterKeyword:l});return e.setIn([r,"layersView"],{...t,filterModules:n,isFilterEmpty:o})}return e.setIn([r,"layersView"],t)}u=c?s:a;const{updatedModules:p,isSearchEmpty:m}=(({layerModules:e,searchKeyword:t})=>{const r=(0,d.select)("divi/edit-post"),n={},o={},a={};let i=!0,l={};return Object.values(e).forEach((a=>{if(a.adminLabel.toLowerCase().includes(t.toLowerCase())&&"hidden"!==a.visibility){const l=r.getAncestorModules(a.id,"top-to-bottom"),s=a.id;n[s]={id:s,visibility:"visible",matched:!0,adminLabel:a.adminLabel,expand:a.expand,moduleName:a.moduleName,moduleCategory:a.moduleCategory},e=Object.fromEntries(Object.entries(e).filter((([e])=>e!==s))),0!==l.length&&Object.values(l).forEach((r=>{if("root"===r.id)return;const n=r.id,a=(0,d.select)("divi/edit-post").getModule(r.id),i=(0,d.select)("divi/module-library").getModule(r.name),l=Co(a?.props?.attrs,i?.title),s=l.toLowerCase().includes(t.toLowerCase());o[n]={id:n,visibility:s?"visible":"transparent",matched:s,adminLabel:l,expand:!0,moduleName:r.name,moduleCategory:i.category},e=Object.fromEntries(Object.entries(e).filter((([e])=>e!==n)))})),i=!1}})),Object.values(e).forEach((e=>{const t=e.id;a[t]={id:t,visibility:"hidden",matched:!1,adminLabel:e.adminLabel,expand:e.expand,moduleName:e.moduleName,moduleCategory:e.moduleCategory}})),l={...n,...o,...a},{isSearchEmpty:i,updatedModules:l}})({layerModules:u,searchKeyword:n});return e.setIn([r,"layersView"],{...i,searchModules:p,isSearchActive:!0,isSearchEmpty:m,searchKeyword:n})}case"SET_LAYERS_VIEW_FILTER":{const{filterKeyword:n,moduleIds:o}=t.params.filterInfo,a=So(o),i=e.getIn([r,"layersView"],{}),l=e.getIn([r,"layersView","searchModules"]),s=e.getIn([r,"layersView","isSearchActive"],!1);let c={};if(!n)return e.setIn([r,"layersView"],{...i,filterModules:{},isFilterActive:!1,isFilterEmpty:!0,filterKeyword:n,isFilterReset:!0});c=s?l:a;const{updatedModules:d,isFilterEmpty:u}=(0,ko.B)({layerModules:c,filterKeyword:n});return e.setIn([r,"layersView"],{...i,filterModules:d,isFilterActive:!0,isFilterEmpty:u,filterKeyword:n,isFilterReset:!1})}case"SET_LAYERS_VIEW_ACTIVE_MODULE_ID":{const n=e.getIn([r,"layersView"],{});return e.setIn([r,"layersView"],{...n,activeLayerModuleId:t.params.activeLayerModuleId})}case"SET_AI_ACTIVE_FIELD":return e.setIn(["ai","activeField"],t.params.fieldType);case"HANDLE_AI_RESULT":return e.setIn(["ai","result"],{fieldType:t.params.fieldType,value:t.params.value,timestamp:Date.now()});default:return e}},Dc=(e,t)=>"single"===t?(0,s.find)(e,(e=>e&&e.isActive)):(0,s.pickBy)(e,(e=>e&&e.isActive));var Fc=r(53316),Pc=r.n(Fc);function Lc(e,t="expected a function, instead received "+typeof e){if("function"!=typeof e)throw new TypeError(t)}var Rc=e=>Array.isArray(e)?e:[e];function Vc(e){const t=Array.isArray(e[0])?e[0]:e;return function(e,t="expected all items to be functions, instead received the following types: "){if(!e.every((e=>"function"==typeof e))){const r=e.map((e=>"function"==typeof e?`function ${e.name||"unnamed"}()`:typeof e)).join(", ");throw new TypeError(`${t}[${r}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Bc(e,t){const r=[],{length:n}=e;for(let o=0;o<n;o++)r.push(e[o].apply(null,t));return r}Symbol(),Object.getPrototypeOf({});var jc="undefined"!=typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function qc(e,t={}){let r={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:n}=t;let o,a=0;function i(){let t=r;const{length:i}=arguments;for(let e=0,r=i;e<r;e++){const r=arguments[e];if("function"==typeof r||"object"==typeof r&&null!==r){let e=t.o;null===e&&(t.o=e=new WeakMap);const n=e.get(r);void 0===n?(t={s:0,v:void 0,o:null,p:null},e.set(r,t)):t=n}else{let e=t.p;null===e&&(t.p=e=new Map);const n=e.get(r);void 0===n?(t={s:0,v:void 0,o:null,p:null},e.set(r,t)):t=n}}const l=t;let s;if(1===t.s?s=t.v:(s=e.apply(null,arguments),a++),l.s=1,n){const e=o?.deref?.()??o;null!=e&&n(e,s)&&(s=e,0!==a&&a--);o="object"==typeof s&&null!==s||"function"==typeof s?new jc(s):s}return l.v=s,s}return i.clearCache=()=>{r={s:0,v:void 0,o:null,p:null},i.resetResultsCount()},i.resultsCount=()=>a,i.resetResultsCount=()=>{a=0},i}function Wc(e,...t){const r="function"==typeof e?{memoize:e,memoizeOptions:t}:e,n=(...e)=>{let t,n=0,o=0,a={},i=e.pop();"object"==typeof i&&(a=i,i=e.pop()),Lc(i,`createSelector expects an output function after the inputs, but received: [${typeof i}]`);const l={...r,...a},{memoize:s,memoizeOptions:c=[],argsMemoize:d=qc,argsMemoizeOptions:u=[],devModeChecks:p={}}=l,m=Rc(c),f=Rc(u),g=Vc(e),v=s((function(){return n++,i.apply(null,arguments)}),...m);const h=d((function(){o++;const e=Bc(g,arguments);return t=v.apply(null,e),t}),...f);return Object.assign(h,{resultFunc:i,memoizedResultFunc:v,dependencies:g,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>t,recomputations:()=>n,resetRecomputations:()=>{n=0},memoize:s,argsMemoize:d})};return Object.assign(n,{withTypes:()=>n}),n}var Uc=Wc(qc),Hc=Object.assign(((e,t=Uc)=>{!function(e,t="expected an object, instead received "+typeof e){if("object"!=typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);const r=Object.keys(e),n=r.map((t=>e[t]));return t(n,((...e)=>e.reduce(((e,t,n)=>(e[r[n]]=t,e)),{})))}),{withTypes:()=>Hc});const zc=Uc([Pc()((e=>(0,s.sortBy)((0,s.filter)(e,(e=>e&&"object"==typeof e&&e.isActive&&Boolean(e?.name))),(e=>e?.toggleTimestamp)).map((e=>e.name)))),(e,t)=>t],Pc()(((e,t)=>t.excludeModalNames.length>0?e.filter((e=>!t.excludeModalNames.includes(e))):e))),Gc=(e,t)=>{const r=t?.excludeModalNames??[],n=t?.returnedProperties??!1,o=Object.keys(e).filter((e=>!["singleInstanceModalNames","ai"].includes(e))).reduce(((t,r)=>{const n=e.getIn([r]);return n&&(t[r]=n),t}),{}),a=(0,s.sortBy)((0,s.filter)(Object.values(o),(e=>{const t=e.isActive,n=r.includes(e.name);return t&&!n})),(e=>e.toggleTimestamp)).reduce(((e,t)=>{const{name:r}=t;return e[r]=n?(0,s.pick)(t,n):t,e}),{});return Yl()(a)},$c=(e,t)=>{const r=e&&"object"==typeof e&&("useIdleCallback"in e||"onComplete"in e)?e:t||{},{useIdleCallback:n=!0,onComplete:o}=r,a=()=>{const e=(0,d.select)("divi/edit-post").getContent(),t=Object.keys(e).filter((t=>{if("root"===t)return!1;const r=e[t];return r?.name&&"divi/root"!==r.name}));if(0===t.length)return void o?.();const r=new Set,n=[];t.forEach((e=>{const t=(0,d.select)("divi/edit-post").getModuleName(e);t&&!r.has(t)&&(r.add(t),n.push(e))})),0!==n.length?(0,ln.getOrWaitForAttrsMaps)({moduleIds:n,processModule:()=>{},onComplete:o}).catch((()=>{})):o?.()};n&&"function"==typeof window.requestIdleCallback?window.requestIdleCallback((()=>{setTimeout(a,100)}),{timeout:500}):setTimeout(a,200)},Kc=e=>e.getIn(["ai","activeField"],null),Zc=e=>e.getIn(["ai","result"],null),Yc=(e,t="module-")=>{const r=e.getIn(["ai","activeField"],null);return!!r&&!r.startsWith(t)},Jc=e=>e.getIn(["divi/layers","layersView"]),Xc=e=>e.getIn(["divi/layers","layersView","activeLayerModuleId"],""),Qc=e=>e.getIn(["divi/layers","layersView","filterKeyword"]),ed=(e,t)=>e.getIn(["divi/layers","layersView","filterModules",t]),td=(e,t)=>e.getIn(["divi/layers","layersView","modules",t]),rd=e=>e.getIn(["divi/layers","layersView","searchKeyword"]),nd=(e,t)=>e.getIn(["divi/layers","layersView","searchModules",t]),od=e=>{const t=e.getIn(["divi/layers","layersView","searchModules"]),r=e.getIn(["divi/layers","layersView","filterModules"]),n=e.getIn(["divi/layers","layersView","searchKeyword"]),o=e.getIn(["divi/layers","layersView","isFilterActive"]);if(e.getIn(["divi/layers","layersView","isSearchActive"])&&o&&n){return Object.values(r).filter((e=>"visible"===e?.visibility&&e?.adminLabel.toLowerCase().includes(n.toLowerCase()))).length}if(o){return Object.values(r).filter((e=>"visible"===e?.visibility)).length}if(t){return Object.values(t).filter((e=>"visible"===e?.visibility)).length}return 0},ad=Uc([Pc()(((e,t)=>t.map((t=>e[t]?.dimensionMinimum??{width:0,height:0}))))],Pc()((e=>e.reduce(((e,t)=>({width:Math.max(e?.width??0,t?.width??0),height:Math.max(e?.height??0,t?.height??0)})),{width:0,height:0})))),id=Uc([(e,t)=>e,(e,t)=>t],((e,t)=>e.getIn([t]))),ld=Uc([e=>e,(e,t)=>t],((e,t)=>{const r={};return t?.forEach((t=>{const n=e?.[t];n&&(r[t]=n?.label??(e=>{const t=e=>e?.split("-")?.map((e=>e.charAt(0).toUpperCase()+e.slice(1)))?.join(" "),r=e.split("/");return t(r?.[1]?r?.[1]:r?.[0])})(n?.name))})),r})),sd=(e,t)=>e.getIn([t,"owner"]),cd=Uc([(e,t)=>e?.getIn([t.modalName]),(e,t)=>t.property],((e,t)=>e?.getIn([t]))),dd=e=>e,ud=e=>e.getIn(["divi/module","groupTab"]),pd=(e,t)=>t.some((t=>e.getIn(["divi/layers","layersView","modules",t])?.expand||!1)),md=Uc([e=>id(e,"divi/module"),(e,t)=>t],((e,t)=>{const r=e?.getIn(["group"]);return!!r&&Object.values(r).some((e=>(Array.isArray(e)?e:[e]).includes(t)))})),fd=e=>e.getIn(["divi/layers","layersView","isFilterActive"],!1),gd=e=>e.getIn(["divi/layers","layersView","isFilterReset"],!1),vd=e=>e.getIn(["divi/layers","layersView","isFilterEmpty"],!0),hd=e=>e.getIn(["divi/layers","layersView","isSearchActive"],!1),bd=e=>e.getIn(["divi/layers","layersView","isSearchEmpty"],!0),yd=(e,t)=>Boolean(e.getIn([t,"isActive"])),Ed=e=>e.getIn(["isClosing"],!1),wd=Uc([(e,t)=>e?.getIn([t])],(e=>e?.getIn(["dragging"]))),_d=Uc((e=>id(e,"divi/module")),(e=>id(e,"divi/module-shortcode")),((e,t)=>[e,t])),Cd=Uc([_d,(e,t)=>t],(([e,t],r)=>{const n=Boolean(e?.getIn(["isActive"]))&&r===e?.getIn(["owner"]),o=Boolean(t?.getIn(["isActive"]))&&r===t?.getIn(["owner"]);return n||o})),Sd=Yl()({singleInstanceModalNames:[],ai:{activeField:null,result:null}}),kd=()=>{if((0,d.select)("divi/modal-library"))return;(0,o.doAction)("divi.modalLibrary.registerModalLibraryStore.before");const r=(0,d.registerStore)("divi/modal-library",{actions:e,reducer:Tc,selectors:t,initialState:Sd});(0,ec.applyMiddlewares)(r,Oc),(0,ec.applyEffects)(r,Ac),(0,o.doAction)("divi.modalLibrary.registerModalLibraryStore.after")},xd=({modalName:e})=>{const t=(0,i.useRef)(null),{component:r,type:n,tab:o,group:a,owner:s,dimension:c,offset:u}=(0,d.useSelect)((t=>({component:t("divi/modal-library").getModalProperty({modalName:e,property:"component"}),type:t("divi/modal-library").getModalProperty({modalName:e,property:"type"}),tab:t("divi/modal-library").getModalProperty({modalName:e,property:"tab"}),group:t("divi/modal-library").getModalProperty({modalName:e,property:"group"}),owner:t("divi/modal-library").getModalProperty({modalName:e,property:"owner"}),dimension:t("divi/modal-library").getModalProperty({modalName:e,property:"dimension"}),offset:t("divi/modal-library").getModalProperty({modalName:e,property:"offset"})}))),p=t=>{["INPUT","LABEL","BUTTON"].includes(t.target.tagName)||(0,d.dispatch)("divi/modal-library").setTimestamp({name:e})};(0,i.useEffect)((()=>{const e=t.current;return e&&e.addEventListener("click",p),()=>{e&&e.removeEventListener("click",p)}}),[]);const m={tab:o,group:a,name:e,type:n,owner:s,dimension:c,offset:u};return l().createElement("div",{ref:t},(0,i.createElement)(r,m))},Md=(0,i.memo)(xd),Id=()=>{const{activeModalNames:e}=(0,d.useSelect)((e=>{const t=e("divi/app-ui").getSidebarModalNames();return{activeModalNames:e("divi/modal-library").getActiveModalNames({excludeModalNames:t})}}));return(0,i.useEffect)((()=>{if("saved"===(0,d.select)("divi/app-preferences").get(["modal","preference"])){const e=(0,d.select)("divi/app-ui").getAppFramePseudoWrapperBoxModel(),t=(0,d.select)("divi/settings").getSetting(["workspaces","builtIn","last-used"]),r=t?.activeFloatingModals;r&&(0,s.forEach)(r,(r=>{if(!r?.name)return;const n=(0,d.select)("divi/modal-library").getModal(r.name);(0,d.dispatch)("divi/modal-library").open({name:r.name,workspaceSettings:{origin:{appFramePseudoWrapper:{...e,...t?.appFramePseudoWrapper},modal:{width:r?.dimension?.width??n?.dimension?.width,height:r?.dimension?.height??n?.dimension?.height,offsetLeft:r?.offset?.left??n?.offset?.left,offsetTop:r?.offset?.top??n?.offset?.top,minimumWidth:r?.dimensionMinimum?.width??n?.dimensionMinimum?.width}},target:{appFramePseudoWrapper:e,topWindow:{width:(0,d.select)("divi/app-ui").getWindow("width","top"),height:(0,d.select)("divi/app-ui").getWindow("height","top")}}}})}))}}),[]),1>e.length?null:l().createElement(l().Fragment,null,e.map((e=>l().createElement(Md,{key:e,modalName:e}))))},Ad=e=>{const t=e?.detail;if(!t?.text)return;const r=(0,d.select)("divi/modal-library").getAIActiveField();if(!r)return;const n=Array.isArray(t.text)?t.text.join(""):t.text;(0,d.dispatch)("divi/modal-library").handleAIResult({fieldType:r,value:n})},Nd=()=>{kd(),window.addEventListener("ai_prompt_use_text_click",Ad),(0,s.forEach)(Qs,(e=>{e.videos&&(0,d.dispatch)("divi/help").addVideoList(e.name,e.videos),(0,d.dispatch)("divi/modal-library").addModal(e)}))}}(),(window.divi=window.divi||{}).modalLibrary=n}();