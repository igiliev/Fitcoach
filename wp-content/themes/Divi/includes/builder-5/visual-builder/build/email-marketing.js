!function(){var e={33042:function(e,t,r){var n;!function(){"use strict";var i=function e(t){var r,n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element"),i={use_static:!1};function o(e){var t=Object.getPrototypeOf(e);return t?Object.create(t):{}}function s(e,t,r){Object.defineProperty(e,t,{enumerable:!1,configurable:!1,writable:!1,value:r})}function a(e,t){s(e,t,(function(){throw new d("The "+t+" method cannot be invoked on an Immutable data structure.")}))}"object"!=typeof(r=t)||Array.isArray(r)||null===r||void 0!==t.use_static&&(i.use_static=Boolean(t.use_static));var c="__immutable_invariants_hold";function u(e){return"object"!=typeof e||(null===e||Boolean(Object.getOwnPropertyDescriptor(e,c)))}function f(e,t){return e===t||e!=e&&t!=t}function l(e){return!(null===e||"object"!=typeof e||Array.isArray(e)||e instanceof Date)}var p=["setPrototypeOf"],h=p.concat(["push","pop","sort","splice","shift","unshift","reverse"]),v=["keys"].concat(["map","filter","slice","concat","reduce","reduceRight"]),y=p.concat(["setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear"]);function d(e){this.name="MyError",this.message=e,this.stack=(new Error).stack}function g(e,t){for(var r in s(e,c,!0),t)t.hasOwnProperty(r)&&a(e,t[r]);return Object.freeze(e),e}function m(e,t){var r=e[t];s(e,t,(function(){return H(r.apply(e,arguments))}))}function b(e,t,r){var n=r&&r.deep;if(e in this&&(n&&this[e]!==t&&l(t)&&l(this[e])&&(t=H.merge(this[e],t,{deep:!0,mode:"replace"})),f(this[e],t)))return this;var i=E.call(this);return i[e]=H(t),O(i)}d.prototype=new Error,d.prototype.constructor=Error;var w=H([]);function I(e,t,r){var n=e[0];if(1===e.length)return b.call(this,n,t,r);var i,o=e.slice(1),s=this[n];if("object"==typeof s&&null!==s)i=H.setIn(s,o,t);else{var a=o[0];i=""!==a&&isFinite(a)?I.call(w,o,t):x.call(U,o,t)}if(n in this&&s===i)return this;var c=E.call(this);return c[n]=i,O(c)}function O(e){for(var t in v){if(v.hasOwnProperty(t))m(e,v[t])}i.use_static||(s(e,"flatMap",j),s(e,"asObject",_),s(e,"asMutable",E),s(e,"set",b),s(e,"setIn",I),s(e,"update",N),s(e,"updateIn",G),s(e,"getIn",K));for(var r=0,n=e.length;r<n;r++)e[r]=H(e[r]);return g(e,h)}function S(){return new Date(this.getTime())}function j(e){if(0===arguments.length)return this;var t,r=[],n=this.length;for(t=0;t<n;t++){var i=e(this[t],t,this);Array.isArray(i)?r.push.apply(r,i):r.push(i)}return O(r)}function A(e){if(void 0===e&&0===arguments.length)return this;if("function"!=typeof e){var t=Array.isArray(e)?e.slice():Array.prototype.slice.call(arguments);t.forEach((function(e,t,r){"number"==typeof e&&(r[t]=e.toString())})),e=function(e,r){return-1!==t.indexOf(r)}}var r=o(this);for(var n in this)this.hasOwnProperty(n)&&!1===e(this[n],n)&&(r[n]=this[n]);return $(r)}function E(e){var t,r,n=[];if(e&&e.deep)for(t=0,r=this.length;t<r;t++)n.push(M(this[t]));else for(t=0,r=this.length;t<r;t++)n.push(this[t]);return n}function _(e){"function"!=typeof e&&(e=function(e){return e});var t,r={},n=this.length;for(t=0;t<n;t++){var i=e(this[t],t,this),o=i[0],s=i[1];r[o]=s}return $(r)}function M(e){return!e||"object"!=typeof e||!Object.getOwnPropertyDescriptor(e,c)||e instanceof Date?e:H.asMutable(e,{deep:!0})}function T(e,t){for(var r in e)Object.getOwnPropertyDescriptor(e,r)&&(t[r]=e[r]);return t}function P(e,t){if(0===arguments.length)return this;if(null===e||"object"!=typeof e)throw new TypeError("Immutable#merge can only be invoked with objects or arrays, not "+JSON.stringify(e));var r,n,i=Array.isArray(e),s=t&&t.deep,a=t&&t.mode||"merge",c=t&&t.merger;function u(e,n,i){var a,u=H(n[i]),p=c&&c(e[i],u,t),h=e[i];void 0===r&&void 0===p&&e.hasOwnProperty(i)&&f(u,h)||(f(h,a=void 0!==p?p:s&&l(h)&&l(u)?H.merge(h,u,t):u)&&e.hasOwnProperty(i)||(void 0===r&&(r=T(e,o(e))),r[i]=a))}function p(e,t){for(var n in e)t.hasOwnProperty(n)||(void 0===r&&(r=T(e,o(e))),delete r[n])}if(i)for(var h=0,v=e.length;h<v;h++){var y=e[h];for(n in y)y.hasOwnProperty(n)&&u(void 0!==r?r:this,y,n)}else{for(n in e)Object.getOwnPropertyDescriptor(e,n)&&u(this,e,n);"replace"===a&&p(this,e)}return void 0===r?this:$(r)}function D(e,t){var r=t&&t.deep;if(0===arguments.length)return this;if(null===e||"object"!=typeof e)throw new TypeError("Immutable#replace can only be invoked with objects or arrays, not "+JSON.stringify(e));return H.merge(this,e,{deep:r,mode:"replace"})}var k,C,R,U=H({});function x(e,t,r){if(!Array.isArray(e)||0===e.length)throw new TypeError('The first argument to Immutable#setIn must be an array containing at least one "key" string.');var n=e[0];if(1===e.length)return F.call(this,n,t,r);var i,s=e.slice(1),a=this[n];if(i=this.hasOwnProperty(n)&&"object"==typeof a&&null!==a?H.setIn(a,s,t):x.call(U,s,t),this.hasOwnProperty(n)&&a===i)return this;var c=T(this,o(this));return c[n]=i,$(c)}function F(e,t,r){var n=r&&r.deep;if(this.hasOwnProperty(e)&&(n&&this[e]!==t&&l(t)&&l(this[e])&&(t=H.merge(this[e],t,{deep:!0,mode:"replace"})),f(this[e],t)))return this;var i=T(this,o(this));return i[e]=H(t),$(i)}function N(e,t){var r=Array.prototype.slice.call(arguments,2),n=this[e];return H.set(this,e,t.apply(n,[n].concat(r)))}function B(e,t){for(var r=0,n=t.length;null!=e&&r<n;r++)e=e[t[r]];return r&&r==n?e:void 0}function G(e,t){var r=Array.prototype.slice.call(arguments,2),n=B(this,e);return H.setIn(this,e,t.apply(n,[n].concat(r)))}function K(e,t){var r=B(this,e);return void 0===r?t:r}function L(e){var t,r=o(this);if(e&&e.deep)for(t in this)this.hasOwnProperty(t)&&(r[t]=M(this[t]));else for(t in this)this.hasOwnProperty(t)&&(r[t]=this[t]);return r}function V(){return{}}function $(e){return i.use_static||(s(e,"merge",P),s(e,"replace",D),s(e,"without",A),s(e,"asMutable",L),s(e,"set",F),s(e,"setIn",x),s(e,"update",N),s(e,"updateIn",G),s(e,"getIn",K)),g(e,p)}function H(e,t,r){if(u(e)||function(e){return"object"==typeof e&&null!==e&&(60103===e.$$typeof||e.$$typeof===n)}(e)||function(e){return"undefined"!=typeof File&&e instanceof File}(e)||function(e){return"undefined"!=typeof Blob&&e instanceof Blob}(e)||function(e){return e instanceof Error}(e))return e;if(function(e){return"object"==typeof e&&"function"==typeof e.then}(e))return e.then(H);if(Array.isArray(e))return O(e.slice());if(e instanceof Date)return o=new Date(e.getTime()),i.use_static||s(o,"asMutable",S),g(o,y);var o,a=t&&t.prototype,c=(a&&a!==Object.prototype?function(){return Object.create(a)}:V)();if(null==r&&(r=64),r<=0)throw new d("Attempt to construct Immutable from a deeply nested object was detected. Have you tried to wrap an object with circular references (e.g. React element)? See https://github.com/rtfeldman/seamless-immutable/wiki/Deeply-nested-object-was-detected for details.");for(var f in r-=1,e)Object.getOwnPropertyDescriptor(e,f)&&(c[f]=H(e[f],void 0,r));return $(c)}function Y(e){return function(){var t=[].slice.call(arguments),r=t.shift();return e.apply(r,t)}}function z(e,t){return function(){var r=[].slice.call(arguments),n=r.shift();return Array.isArray(n)?t.apply(n,r):e.apply(n,r)}}return H.from=H,H.isImmutable=u,H.ImmutableError=d,H.merge=Y(P),H.replace=Y(D),H.without=Y(A),H.asMutable=(k=L,C=E,R=S,function(){var e=[].slice.call(arguments),t=e.shift();return Array.isArray(t)?C.apply(t,e):t instanceof Date?R.apply(t,e):k.apply(t,e)}),H.set=z(F,b),H.setIn=z(x,I),H.update=Y(N),H.updateIn=Y(G),H.getIn=Y(K),H.flatMap=Y(j),H.asObject=Y(_),i.use_static||(H.static=e({use_static:!0})),Object.freeze(H),H}();void 0===(n=function(){return i}.call(t,r,t,e))||(e.exports=n)}()}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};!function(){"use strict";r.r(n),r.d(n,{registerEmailMarketingStore:function(){return y}});var e={};r.r(e),r.d(e,{setService:function(){return c},setServices:function(){return u}});var t={};r.r(t),r.d(t,{getAccount:function(){return l},getCustomFields:function(){return p},getService:function(){return h},getServices:function(){return v}});var i=r(33042),o=r.n(i),s=window.divi.data,a=window.divi.settings;const c=({provider:e,service:t})=>({type:"SET_EMAIL_MARKETING_SERVICE",provider:e,service:t}),u=({services:e})=>({type:"SET_EMAIL_MARKETING_SERVICES",services:e}),f=(e,t)=>{switch(t.type){case"SET_EMAIL_MARKETING_SERVICE":return e.setIn(["services",t.provider],t.service);case"SET_EMAIL_MARKETING_SERVICES":return e.setIn(["services"],t.services);default:return e}},l=(e,t,r)=>{const n=r.split("|")[0];return(e.getIn(["services",t])??e.getIn(["services","mailchimp"]))?.getIn(["accounts",n])},p=(e,t,r,n)=>{const i=e.getIn(["services",t])??e.getIn(["services","mailchimp"]);return i?.getIn(["accounts",r,"lists",n,"custom_fields"])??i?.getIn(["accounts",r,"custom_fields"])},h=(e,t)=>e.getIn(["services",t]),v=e=>e.getIn(["services"]),y=()=>{if((0,s.select)("divi/settings")||(0,a.registerSettingsStore)(),(0,s.select)("divi/email-marketing"))return;const r=o()({services:(0,i.asMutable)((0,s.select)("divi/settings").getSetting(["services","email"]),{deep:!0})});(0,s.registerStore)("divi/email-marketing",{actions:e,reducer:f,selectors:t,initialState:r})}}(),(window.divi=window.divi||{}).emailMarketing=n}();