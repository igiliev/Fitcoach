!function(){var e={33042:function(e,t,n){var r;!function(){"use strict";var o=function e(t){var n,r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element"),o={use_static:!1};function i(e){var t=Object.getPrototypeOf(e);return t?Object.create(t):{}}function a(e,t,n){Object.defineProperty(e,t,{enumerable:!1,configurable:!1,writable:!1,value:n})}function u(e,t){a(e,t,(function(){throw new v("The "+t+" method cannot be invoked on an Immutable data structure.")}))}"object"!=typeof(n=t)||Array.isArray(n)||null===n||void 0!==t.use_static&&(o.use_static=Boolean(t.use_static));var s="__immutable_invariants_hold";function c(e){return"object"!=typeof e||(null===e||Boolean(Object.getOwnPropertyDescriptor(e,s)))}function l(e,t){return e===t||e!=e&&t!=t}function d(e){return!(null===e||"object"!=typeof e||Array.isArray(e)||e instanceof Date)}var p=["setPrototypeOf"],f=p.concat(["push","pop","sort","splice","shift","unshift","reverse"]),g=["keys"].concat(["map","filter","slice","concat","reduce","reduceRight"]),y=p.concat(["setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear"]);function v(e){this.name="MyError",this.message=e,this.stack=(new Error).stack}function h(e,t){for(var n in a(e,s,!0),t)t.hasOwnProperty(n)&&u(e,t[n]);return Object.freeze(e),e}function m(e,t){var n=e[t];a(e,t,(function(){return W(n.apply(e,arguments))}))}function I(e,t,n){var r=n&&n.deep;if(e in this&&(r&&this[e]!==t&&d(t)&&d(this[e])&&(t=W.merge(this[e],t,{deep:!0,mode:"replace"})),l(this[e],t)))return this;var o=O.call(this);return o[e]=W(t),b(o)}v.prototype=new Error,v.prototype.constructor=Error;var M=W([]);function E(e,t,n){var r=e[0];if(1===e.length)return I.call(this,r,t,n);var o,i=e.slice(1),a=this[r];if("object"==typeof a&&null!==a)o=W.setIn(a,i,t);else{var u=i[0];o=""!==u&&isFinite(u)?E.call(M,i,t):k.call(L,i,t)}if(r in this&&a===o)return this;var s=O.call(this);return s[r]=o,b(s)}function b(e){for(var t in g){if(g.hasOwnProperty(t))m(e,g[t])}o.use_static||(a(e,"flatMap",S),a(e,"asObject",T),a(e,"asMutable",O),a(e,"set",I),a(e,"setIn",E),a(e,"update",U),a(e,"updateIn",B),a(e,"getIn",x));for(var n=0,r=e.length;n<r;n++)e[n]=W(e[n]);return h(e,f)}function w(){return new Date(this.getTime())}function S(e){if(0===arguments.length)return this;var t,n=[],r=this.length;for(t=0;t<r;t++){var o=e(this[t],t,this);Array.isArray(o)?n.push.apply(n,o):n.push(o)}return b(n)}function H(e){if(void 0===e&&0===arguments.length)return this;if("function"!=typeof e){var t=Array.isArray(e)?e.slice():Array.prototype.slice.call(arguments);t.forEach((function(e,t,n){"number"==typeof e&&(n[t]=e.toString())})),e=function(e,n){return-1!==t.indexOf(n)}}var n=i(this);for(var r in this)this.hasOwnProperty(r)&&!1===e(this[r],r)&&(n[r]=this[r]);return G(n)}function O(e){var t,n,r=[];if(e&&e.deep)for(t=0,n=this.length;t<n;t++)r.push(D(this[t]));else for(t=0,n=this.length;t<n;t++)r.push(this[t]);return r}function T(e){"function"!=typeof e&&(e=function(e){return e});var t,n={},r=this.length;for(t=0;t<r;t++){var o=e(this[t],t,this),i=o[0],a=o[1];n[i]=a}return G(n)}function D(e){return!e||"object"!=typeof e||!Object.getOwnPropertyDescriptor(e,s)||e instanceof Date?e:W.asMutable(e,{deep:!0})}function C(e,t){for(var n in e)Object.getOwnPropertyDescriptor(e,n)&&(t[n]=e[n]);return t}function A(e,t){if(0===arguments.length)return this;if(null===e||"object"!=typeof e)throw new TypeError("Immutable#merge can only be invoked with objects or arrays, not "+JSON.stringify(e));var n,r,o=Array.isArray(e),a=t&&t.deep,u=t&&t.mode||"merge",s=t&&t.merger;function c(e,r,o){var u,c=W(r[o]),p=s&&s(e[o],c,t),f=e[o];void 0===n&&void 0===p&&e.hasOwnProperty(o)&&l(c,f)||(l(f,u=void 0!==p?p:a&&d(f)&&d(c)?W.merge(f,c,t):c)&&e.hasOwnProperty(o)||(void 0===n&&(n=C(e,i(e))),n[o]=u))}function p(e,t){for(var r in e)t.hasOwnProperty(r)||(void 0===n&&(n=C(e,i(e))),delete n[r])}if(o)for(var f=0,g=e.length;f<g;f++){var y=e[f];for(r in y)y.hasOwnProperty(r)&&c(void 0!==n?n:this,y,r)}else{for(r in e)Object.getOwnPropertyDescriptor(e,r)&&c(this,e,r);"replace"===u&&p(this,e)}return void 0===n?this:G(n)}function _(e,t){var n=t&&t.deep;if(0===arguments.length)return this;if(null===e||"object"!=typeof e)throw new TypeError("Immutable#replace can only be invoked with objects or arrays, not "+JSON.stringify(e));return W.merge(this,e,{deep:n,mode:"replace"})}var P,R,j,L=W({});function k(e,t,n){if(!Array.isArray(e)||0===e.length)throw new TypeError('The first argument to Immutable#setIn must be an array containing at least one "key" string.');var r=e[0];if(1===e.length)return N.call(this,r,t,n);var o,a=e.slice(1),u=this[r];if(o=this.hasOwnProperty(r)&&"object"==typeof u&&null!==u?W.setIn(u,a,t):k.call(L,a,t),this.hasOwnProperty(r)&&u===o)return this;var s=C(this,i(this));return s[r]=o,G(s)}function N(e,t,n){var r=n&&n.deep;if(this.hasOwnProperty(e)&&(r&&this[e]!==t&&d(t)&&d(this[e])&&(t=W.merge(this[e],t,{deep:!0,mode:"replace"})),l(this[e],t)))return this;var o=C(this,i(this));return o[e]=W(t),G(o)}function U(e,t){var n=Array.prototype.slice.call(arguments,2),r=this[e];return W.set(this,e,t.apply(r,[r].concat(n)))}function Y(e,t){for(var n=0,r=t.length;null!=e&&n<r;n++)e=e[t[n]];return n&&n==r?e:void 0}function B(e,t){var n=Array.prototype.slice.call(arguments,2),r=Y(this,e);return W.setIn(this,e,t.apply(r,[r].concat(n)))}function x(e,t){var n=Y(this,e);return void 0===n?t:n}function z(e){var t,n=i(this);if(e&&e.deep)for(t in this)this.hasOwnProperty(t)&&(n[t]=D(this[t]));else for(t in this)this.hasOwnProperty(t)&&(n[t]=this[t]);return n}function X(){return{}}function G(e){return o.use_static||(a(e,"merge",A),a(e,"replace",_),a(e,"without",H),a(e,"asMutable",z),a(e,"set",N),a(e,"setIn",k),a(e,"update",U),a(e,"updateIn",B),a(e,"getIn",x)),h(e,p)}function W(e,t,n){if(c(e)||function(e){return"object"==typeof e&&null!==e&&(60103===e.$$typeof||e.$$typeof===r)}(e)||function(e){return"undefined"!=typeof File&&e instanceof File}(e)||function(e){return"undefined"!=typeof Blob&&e instanceof Blob}(e)||function(e){return e instanceof Error}(e))return e;if(function(e){return"object"==typeof e&&"function"==typeof e.then}(e))return e.then(W);if(Array.isArray(e))return b(e.slice());if(e instanceof Date)return i=new Date(e.getTime()),o.use_static||a(i,"asMutable",w),h(i,y);var i,u=t&&t.prototype,s=(u&&u!==Object.prototype?function(){return Object.create(u)}:X)();if(null==n&&(n=64),n<=0)throw new v("Attempt to construct Immutable from a deeply nested object was detected. Have you tried to wrap an object with circular references (e.g. React element)? See https://github.com/rtfeldman/seamless-immutable/wiki/Deeply-nested-object-was-detected for details.");for(var l in n-=1,e)Object.getOwnPropertyDescriptor(e,l)&&(s[l]=W(e[l],void 0,n));return G(s)}function Z(e){return function(){var t=[].slice.call(arguments),n=t.shift();return e.apply(n,t)}}function $(e,t){return function(){var n=[].slice.call(arguments),r=n.shift();return Array.isArray(r)?t.apply(r,n):e.apply(r,n)}}return W.from=W,W.isImmutable=c,W.ImmutableError=v,W.merge=Z(A),W.replace=Z(_),W.without=Z(H),W.asMutable=(P=z,R=O,j=w,function(){var e=[].slice.call(arguments),t=e.shift();return Array.isArray(t)?R.apply(t,e):t instanceof Date?j.apply(t,e):P.apply(t,e)}),W.set=$(N,I),W.setIn=$(k,E),W.update=Z(U),W.updateIn=Z(B),W.getIn=Z(x),W.flatMap=Z(S),W.asObject=Z(T),o.use_static||(W.static=e({use_static:!0})),Object.freeze(W),W}();void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};!function(){"use strict";n.r(r),n.d(r,{clearSelection:function(){return a},deselect:function(){return u},effects:function(){return S},endDrag:function(){return s},getClickedElement:function(){return _},getCursorPosition:function(){return A},getDraggedModule:function(){return P},getDraggedModuleDropZone:function(){return R},getDraggedModuleStyles:function(){return $},getDraggedModules:function(){return j},getDraggingStatus:function(){return F},getHoveredModule:function(){return V},getHoveredModuleLocation:function(){return q},getSelectedModules:function(){return K},getSelectedModulesCount:function(){return Q},isChildHovered:function(){return ee},isChildSelected:function(){return te},isDirectChildHovered:function(){return ne},isDragged:function(){return G},isHovered:function(){return re},isHoveredByDraggedModule:function(){return oe},isSelectedModule:function(){return ie},onMouseEnter:function(){return c},onMouseLeave:function(){return l},registerEventsStore:function(){return ae},select:function(){return d},setClickedElement:function(){return p},setCurrentHoverProperty:function(){return f},setCursorPosition:function(){return g},setDraggedModuleDropZone:function(){return y},setHoveredArea:function(){return v},startDrag:function(){return h}});var e={};n.r(e),n.d(e,{clearSelection:function(){return a},deselect:function(){return u},endDrag:function(){return s},onMouseEnter:function(){return c},onMouseLeave:function(){return l},select:function(){return d},setClickedElement:function(){return p},setCurrentHoverProperty:function(){return f},setCursorPosition:function(){return g},setDraggedModuleDropZone:function(){return y},setHoveredArea:function(){return v},startDrag:function(){return h}});var t={};n.r(t),n.d(t,{getClickedElement:function(){return _},getCursorPosition:function(){return A},getDraggedModule:function(){return P},getDraggedModuleDropZone:function(){return R},getDraggedModuleStyles:function(){return $},getDraggedModules:function(){return j},getDraggingStatus:function(){return F},getHoveredModule:function(){return V},getHoveredModuleLocation:function(){return q},getSelectedModules:function(){return K},getSelectedModulesCount:function(){return Q},isChildHovered:function(){return ee},isChildSelected:function(){return te},isDirectChildHovered:function(){return ne},isDragged:function(){return G},isHovered:function(){return re},isHoveredByDraggedModule:function(){return oe},isSelectedModule:function(){return ie}});var o=window.divi.data,i=window.divi.middleware;const a=()=>({type:"CLEAR_SELECTION"}),u=e=>({type:"DESELECT",id:e}),s=()=>({type:"END_DRAG"}),c=(e,t,n,r)=>({type:"MOUSE_ENTER",target:e,id:t,payload:n,area:r}),l=(e,t,n)=>({type:"MOUSE_LEAVE",target:e,id:t,payload:n}),d=(e,t)=>({type:"SELECT",id:e,moduleType:t}),p=e=>({type:"SET_CLICKED_ELEMENT",params:e}),f=e=>({type:"SET_CURRENT_HOVER_PROPERTY",params:e}),g=(e,t,n,r)=>({type:"SET_CURSOR_POSITION",pageX:e,pageY:t,clientX:n,clientY:r}),y=e=>({type:"SET_DRAGGED_MODULE_DROP_ZONE",props:e}),v=e=>({type:"SET_HOVERED_AREA",area:e}),h=(e,t)=>({type:"START_DRAG",dragLocation:t,items:e});var m=window.lodash,I=window.divi.window;const M=e=>{const t=new Date,n=t.getTime(),r=t.toLocaleTimeString();(0,o.dispatch)("divi/history").addActionItem({action:e,humanTime:r,storeName:"divi/events",timestamp:n})};var E=window.divi.clipboard,b=window.divi.moduleUtils;const w=(0,m.debounce)(((e,t)=>{requestAnimationFrame((()=>{(0,o.dispatch)("divi/clipboard").addComponentAttrsMaps({payload:{id:e,attrsMapsType:"module",name:t,component:(0,b.getSettingsComponent)(t)}})}))}),100),S={END_DRAG:[()=>{(0,o.dispatch)("divi/app-ui").setWindowAutoScroll(!1)},M],MOUSE_ENTER:[e=>{if("module"!==e.target)return;const t=e.payload.label,n=(0,E.getComponentAttrsMapsId)({attrsMapsType:"module",moduleName:t});(0,o.select)("divi/clipboard").getComponentAttrsMaps(n)||w(n,t)},M],MOUSE_LEAVE:[M],SELECT:[e=>{const t=(0,o.select)("divi/edit-post").getModuleName(e.id),n=(0,E.getComponentAttrsMapsId)({attrsMapsType:"module",moduleName:t});(0,o.select)("divi/clipboard").getComponentAttrsMaps(n)||(0,o.dispatch)("divi/clipboard").addComponentAttrsMaps({payload:{id:n,attrsMapsType:"module",name:t,component:(0,b.getSettingsComponent)(t)}})}],SET_CURSOR_POSITION:[(e,t)=>{if(!(0,m.get)(t.getState(),"isDragging",!1))return;const{clientY:n}=e,r=(0,m.get)(t.getState(),"dragLocation","");let i,a,u=0;if("layers"===r){const e=I.topWindow.document.querySelector('.et-vb-modal-panel[data-id="layers"]');i=e.getBoundingClientRect().height,a=n-e.getBoundingClientRect().top,u=e.getBoundingClientRect().top}else i=(0,o.select)("divi/app-ui").getWindow("height","app"),a=n;const s=u+40,c=i-100,l=i-40;n<u+100?(0,o.dispatch)("divi/app-ui").setWindowAutoScroll("top",a<s?100:10,r):a>c?(0,o.dispatch)("divi/app-ui").setWindowAutoScroll("bottom",a>l?100:10,r):(0,o.dispatch)("divi/app-ui").setWindowAutoScroll(!1)}],START_DRAG:[M]};var H=n(33042),O=n.n(H);const T=O()({ancestorHover:{},parentHover:{},parentSelect:{},parentSelectMap:{},currentHover:{target:"",id:"",payload:{},area:"top",currentParent:{target:"",id:"",payload:{},area:"top"}},clickedElement:{type:"unknown",offsetX:0,offsetY:0},cursorPosition:{pageX:0,pageY:0,clientX:0,clientY:0},isDragging:!1,dragLocation:"layout",draggedModules:[],draggedModuleDropZone:null,selectedModules:[]}),D=e=>{const t=(0,m.flatMap)(e,(e=>e));return(0,m.keyBy)(t,(e=>e))},C=(e,t=null)=>{const n=e.getIn(["isDragging"]);switch(t.type){case"MOUSE_LEAVE":{const n=e.getIn(["ancestorHover"]).getIn([t.id]),r=n?n.getIn(["currentHover","currentParent"]):e.getIn(["currentHover","currentParent"],T.currentHover);let o=n?n.getIn(["parentHover"],T.parentHover):e.getIn(["parentHover"],T.parentHover);(0,m.has)(o,t.id)&&(o=o.without(t.id));let i=e.getIn(["ancestorHover"]).without(t.id);return(0,m.size)(i)>0&&(0,m.forEach)(Object.keys(i),(e=>{const t=i[e]?.currentHover?.currentParent?.id;t&&!i?.[t]&&(i=i.without(e),o=o.without(e))})),e.isDragging?e.setIn(["ancestorHover"],i).setIn(["parentHover"],o):e.setIn(["ancestorHover"],i).setIn(["currentHover"],r).setIn(["parentHover"],o)}case"MOUSE_ENTER":{const r=t.payload?.moduleType;if(n){const n=e=>["section","fullwidth-section","specialty-section"].includes(e)?"section":e,o=e?.draggedModules?.map((e=>n(e.moduleType))),i=o.includes(n(r)),a=!t.payload?.hasModule&&o?.map((e=>(0,b.isValidChild)(r,e)))?.every((e=>!0===e)),u=o.includes("row")&&("column"===t.payload?.moduleType&&"inside"===t.area||"module"===t.payload?.moduleType&&"top"===t.area||"module"===t.payload?.moduleType&&"bottom"===t.area),s=o.includes("module"),c=s&&"row"===t?.payload?.moduleType&&t?.payload?.isNestedModule&&("top"===t?.area||"bottom"===t?.area),l=o.includes("group")&&("group"===t?.payload?.moduleType&&"inside"===t?.area||"module"===t?.payload?.moduleType&&"top"===t?.area||"module"===t?.payload?.moduleType&&"bottom"===t?.area),d=s&&("group"===t?.payload?.moduleType&&"top"===t?.area||"group"===t?.payload?.moduleType&&"bottom"===t?.area);if(!(i||a||u||c||l||d))return e}const o=t.payload?.parentId,i=e.getIn(["currentHover","id"]),a=e.getIn(["currentHover","payload","moduleType"]),u=e.getIn(["currentHover","currentParent","id"]),s=o===i,c=r===a&&o===u,l=Boolean(e.getIn(["ancestorHover",t.id]));if(l){const n=e.getIn(["ancestorHover",t.id,"currentHover"]),r=e.getIn(["ancestorHover",t.id,"parentHover"]);return e.setIn(["currentHover"],n).setIn(["parentHover"],r)}const d=Boolean(e.getIn(["currentHover","currentParent","id"])),p=s?e.getIn(["currentHover"]):c?e.getIn(["currentHover","currentParent"]):d?e.getIn(["currentHover"]):e.getIn(["currentHover"])?.setIn(["currentParent"],T.currentHover.currentParent);if(e.getIn(["currentHover","id"])===t.id)return e;const f={target:t.target,id:t.id,payload:t.payload,area:t.area,currentParent:p},g={...e.getIn(["parentHover"]),[t.id]:t.id},y={currentHover:f,parentHover:g};return(t?.id&&!l?e.setIn(["ancestorHover",t?.id],y):e).setIn(["currentHover"],f).setIn(["parentHover"],g)}case"SET_HOVERED_AREA":return e.setIn(["currentHover","area"],t.area);case"START_DRAG":return e.setIn(["isDragging"],!0).setIn(["dragLocation"],t.dragLocation).setIn(["draggedModules"],t.items);case"END_DRAG":{if(!e.isDragging)return e;const t=e.getIn(["currentHover","id"]);return e.setIn(["parentHover"],e.getIn(["parentHover"]).without(t)).setIn(["currentHover"],T.currentHover).setIn(["ancestorHover"],e.getIn(["ancestorHover"]).without(t)).setIn(["isDragging"],!1).setIn(["draggedModules"],[]).setIn(["cursorPosition"],{pageX:0,pageY:0,clientX:0,clientY:0})}case"SET_CLICKED_ELEMENT":return e.setIn(["clickedElement"],t.params);case"SET_CURSOR_POSITION":return e.setIn(["cursorPosition","pageX"],t.pageX).setIn(["cursorPosition","pageY"],t.pageY).setIn(["cursorPosition","clientX"],t.clientX).setIn(["cursorPosition","clientY"],t.clientY);case"SET_CURRENT_HOVER_PROPERTY":return e.setIn(["currentHover",t.params.name],t.params.value);case"SET_DRAGGED_MODULE_DROP_ZONE":return e.setIn(["draggedModuleDropZone"],t.props);case"SELECT":{if(e.getIn(["isDragging"]))return e;if(e.selectedModules.filter((e=>e.id===t.id)).length>0)return e;const n=e.getIn(["parentSelectMap"]).setIn([t.id],(0,m.keys)(e.parentHover)),r=D(n.asMutable({deep:!0}));return e.setIn(["selectedModules",`${e.selectedModules.length}`],{id:t.id,moduleType:t.moduleType,styles:{}}).setIn(["parentSelectMap"],n).setIn(["parentSelect"],r)}case"DESELECT":{if((0,m.findIndex)(e.selectedModules.asMutable(),(e=>e.id===t.id))<0)return e;const n=e.getIn(["parentSelectMap"]).without(t.id),r=D(n.asMutable({deep:!0}));return e.setIn(["selectedModules"],(0,m.filter)(e.selectedModules.asMutable(),(e=>e.id!==t.id))).setIn(["parentSelectMap"],n).setIn(["parentSelect"],r)}case"CLEAR_SELECTION":return e.setIn(["selectedModules"],[]).setIn(["parentSelectMap"],{}).setIn(["parentSelect"],{});default:return e}},A=e=>e.getIn(["cursorPosition"]),_=e=>e.clickedElement,P=(e,t)=>{const n=e.getIn(["draggedModules"]).asMutable();return(0,m.find)(n,(e=>t===e.id))},R=e=>e.getIn(["draggedModuleDropZone"]),j=e=>e.getIn(["draggedModules"]);function L(e,t="expected a function, instead received "+typeof e){if("function"!=typeof e)throw new TypeError(t)}var k=e=>Array.isArray(e)?e:[e];function N(e){const t=Array.isArray(e[0])?e[0]:e;return function(e,t="expected all items to be functions, instead received the following types: "){if(!e.every((e=>"function"==typeof e))){const n=e.map((e=>"function"==typeof e?`function ${e.name||"unnamed"}()`:typeof e)).join(", ");throw new TypeError(`${t}[${n}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function U(e,t){const n=[],{length:r}=e;for(let o=0;o<r;o++)n.push(e[o].apply(null,t));return n}Symbol(),Object.getPrototypeOf({});var Y="undefined"!=typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function B(e,t={}){let n={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:r}=t;let o,i=0;function a(){let t=n;const{length:a}=arguments;for(let e=0,n=a;e<n;e++){const n=arguments[e];if("function"==typeof n||"object"==typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const r=e.get(n);void 0===r?(t={s:0,v:void 0,o:null,p:null},e.set(n,t)):t=r}else{let e=t.p;null===e&&(t.p=e=new Map);const r=e.get(n);void 0===r?(t={s:0,v:void 0,o:null,p:null},e.set(n,t)):t=r}}const u=t;let s;if(1===t.s?s=t.v:(s=e.apply(null,arguments),i++),u.s=1,r){const e=o?.deref?.()??o;null!=e&&r(e,s)&&(s=e,0!==i&&i--);o="object"==typeof s&&null!==s||"function"==typeof s?new Y(s):s}return u.v=s,s}return a.clearCache=()=>{n={s:0,v:void 0,o:null,p:null},a.resetResultsCount()},a.resultsCount=()=>i,a.resetResultsCount=()=>{i=0},a}function x(e,...t){const n="function"==typeof e?{memoize:e,memoizeOptions:t}:e,r=(...e)=>{let t,r=0,o=0,i={},a=e.pop();"object"==typeof a&&(i=a,a=e.pop()),L(a,`createSelector expects an output function after the inputs, but received: [${typeof a}]`);const u={...n,...i},{memoize:s,memoizeOptions:c=[],argsMemoize:l=B,argsMemoizeOptions:d=[],devModeChecks:p={}}=u,f=k(c),g=k(d),y=N(e),v=s((function(){return r++,a.apply(null,arguments)}),...f);const h=l((function(){o++;const e=U(y,arguments);return t=v.apply(null,e),t}),...g);return Object.assign(h,{resultFunc:a,memoizedResultFunc:v,dependencies:y,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>t,recomputations:()=>r,resetRecomputations:()=>{r=0},memoize:s,argsMemoize:l})};return Object.assign(r,{withTypes:()=>r}),r}var z=x(B),X=Object.assign(((e,t=z)=>{!function(e,t="expected an object, instead received "+typeof e){if("object"!=typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);const n=Object.keys(e);return t(n.map((t=>e[t])),((...e)=>e.reduce(((e,t,r)=>(e[n[r]]=t,e)),{})))}),{withTypes:()=>X});const G=z([e=>e.getIn(["draggedModules"]),(e,t)=>t,(e,t,n)=>e.getIn(["dragLocation"])===n],((e,t,n)=>{const r=(0,m.find)(e,(e=>t===e.id&&n));return(0,m.size)(r)>0})),W={};let Z={};const $=(e,{id:t,dragLocation:n,mode:r})=>{if("visual"===r)return W;if("layout"!==n)return W;if(!G(e,t,n))return W;const o=j(e),i=A(e),a=_(e),u=a?.offsetX??0,s=a?.offsetY??0,c={top:i.clientY-s,left:i.clientX-u,width:o[0].styles.width};return(0,m.isEqual)(Z,c)?Z:(Z=c,c)},F=(e,t="layout")=>e.getIn(["isDragging"])&&e.getIn(["dragLocation"])===t,V=e=>e.getIn(["currentHover"]),q=z([e=>e.getIn(["currentHover","id"]),(e,t)=>t,e=>e],((e,t,n)=>e===t?n.getIn(["currentHover","payload","location"],""):"")),J=O()([]),K=z([e=>e.getIn(["selectedModules"])],(e=>!e||(0,m.isEmpty)(e)?J:e)),Q=z([e=>e.getIn(["selectedModules"])],(e=>e?.length??0)),ee=z([e=>e.getIn(["parentHover"]),(e,t)=>t,e=>e.getIn(["currentHover","id"])],((e,t,n)=>Boolean(e.getIn([t])&&n!==t))),te=z([e=>e.getIn(["parentSelect"]),(e,t)=>t,e=>e.getIn(["selectedModules"])],((e,t,n)=>Boolean(e.getIn([t])&&!(n.filter((e=>e.id===t)).length>0)))),ne=z([e=>e.getIn(["currentHover","currentParent","id"]),(e,t)=>t],((e,t)=>Boolean(e===t))),re=z([e=>e.getIn(["currentHover","id"]),(e,t)=>t],((e,t)=>e===t)),oe=(e,{id:t,dragLocation:n})=>!(G(e,t,n)||!F(e,n)||!re(e,t)),ie=z([e=>e.getIn(["selectedModules"]),(e,t)=>t],((e,t)=>e.filter((e=>e.id===t)).length>0)),ae=()=>{if((0,o.select)("divi/events"))return;const n=(0,o.registerStore)("divi/events",{actions:e,reducer:C,selectors:t,initialState:T});(0,i.applyEffects)(n,S)}}(),(window.divi=window.divi||{}).events=r}();